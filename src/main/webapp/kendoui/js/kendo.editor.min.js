/** 
 * Kendo UI v2017.3.1018 (http://www.telerik.com/kendo-ui)                                                                                                                                              
 * Copyright 2017 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*/
!function(e,define){define("util/undoredostack.min",["kendo.core.min"],e)}(function(){!function(e){var t=e.Observable.extend({init:function(t){e.Observable.fn.init.call(this,t),this.clear()},events:["undo","redo"],push:function(e){this.stack=this.stack.slice(0,this.currentCommandIndex+1),this.currentCommandIndex=this.stack.push(e)-1},undo:function(){if(this.canUndo()){var e=this.stack[this.currentCommandIndex--];e.undo(),this.trigger("undo",{command:e})}},redo:function(){if(this.canRedo()){var e=this.stack[++this.currentCommandIndex];e.redo(),this.trigger("redo",{command:e})}},clear:function(){this.stack=[],this.currentCommandIndex=-1},canUndo:function(){return this.currentCommandIndex>=0},canRedo:function(){return this.currentCommandIndex!=this.stack.length-1}});e.deepExtend(e,{util:{UndoRedoStack:t}})}(kendo)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("editor/main.min",["util/undoredostack.min","kendo.combobox.min","kendo.dropdownlist.min","kendo.window.min","kendo.colorpicker.min"],e)}(function(){!function(e,t){var i,n,o,r,a,s=window.kendo,l=s.Class,d=s.ui.Widget,c=s.support.mobileOS,u=s.support.browser,f=e.extend,p=e.proxy,m=s.deepExtend,h=s.keys,g="select",b="select.k-select-overlay",v=l.extend({init:function(e){this.options=e},getHtml:function(){var e=this.options;return s.template(e.template,{useWithBlock:!1})(e)}}),k={editorWrapperTemplate:'<table cellspacing="4" cellpadding="0" class="k-widget k-editor k-header" role="presentation"><tbody><tr role="presentation"><td class="k-editor-toolbar-wrap" role="presentation"><ul class="k-editor-toolbar" role="toolbar" /></td></tr><tr><td class="k-editable-area" /></tr></tbody></table>',buttonTemplate:'# var iconCssClass= "k-icon k-i-" + kendo.toHyphens(data.cssClass.replace("k-", ""));#<a tabindex="0" role="button" class="k-tool"#= data.popup ? " data-popup" : "" # unselectable="on" title="#= data.title #"><span unselectable="on" class="k-tool-icon #= iconCssClass #"></span><span class="k-tool-text">#= data.title #</span></a>',colorPickerTemplate:'<div class="k-colorpicker k-icon k-i-#= data.cssClass.replace("k-", "") #" />',comboBoxTemplate:'<select title="#= data.title #" class="#= data.cssClass #" />',dropDownListTemplate:'<span class="k-editor-dropdown"><select title="#= data.title #" class="#= data.cssClass #" /></span>',separatorTemplate:'<span class="k-separator" />',overflowAnchorTemplate:'<a tabindex="0" role="button" class="k-tool k-overflow-anchor" data-popup unselectable="on" title="#= data.title #" aria-haspopup="true" aria-expanded="false"><span unselectable="on" class="k-icon k-i-more-vertical"></span><span class="k-tool-text">#= data.title #</span></a>',formatByName:function(t,i){for(var n=0;n<i.length;n++)if(e.inArray(t,i[n].tags)>=0)return i[n]},getToolCssClass:function(e){var t={superscript:"sup-script",subscript:"sub-script",justifyLeft:"align-left",justifyCenter:"align-center",justifyRight:"align-right",justifyFull:"align-justify",insertUnorderedList:"list-unordered",insertOrderedList:"list-ordered","import":"login",indent:"indent-increase",outdent:"indent-decrease",createLink:"link-horizontal",unlink:"unlink-horizontal",insertImage:"image",insertFile:"file-add",viewHtml:"html",foreColor:"foreground-color",backColor:"paint",createTable:"table-insert",addColumnLeft:"table-column-insert-left",addColumnRight:"table-column-insert-right",addRowAbove:"table-row-insert-above",addRowBelow:"table-row-insert-below",deleteRow:"table-row-delete",deleteColumn:"table-column-delete",tableWizard:"table-properties",tableWizardInsert:"table-wizard",cleanFormatting:"clear-css"},i=t[e];return i?i:e},registerTool:function(e,t){var i=t.options;i&&i.template&&(i.template.options.cssClass="k-"+k.getToolCssClass(e)),t.name||(t.options.name=e,t.name=e.toLowerCase()),C.defaultTools[e]=t},registerFormat:function(e,t){C.fn.options.formats[e]=t}},y={bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertFile:"Insert file",insertHtml:"Insert HTML",viewHtml:"View HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",formatBlock:"Format",formatting:"Format",foreColor:"Color",backColor:"Background color",style:"Styles",emptyFolder:"Empty Folder",editAreaTitle:"Editable area. Press F10 for toolbar.",uploadFile:"Upload",overflowAnchor:"More tools",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',deleteFile:'Are you sure you want to delete "{0}"?',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',directoryNotFound:"A directory with this name was not found.",imageWebAddress:"Web address",imageAltText:"Alternate text",imageWidth:"Width (px)",imageHeight:"Height (px)",fileWebAddress:"Web address",fileTitle:"Title",fileText:"Text",linkWebAddress:"Web address",linkText:"Text",linkToolTip:"ToolTip",linkOpenInNewWindow:"Open link in new window",dialogUpdate:"Update",dialogInsert:"Insert",dialogOk:"Ok",dialogCancel:"Cancel",cleanFormatting:"Clean formatting",createTable:"Create a table",createTableHint:"Create a {0} x {1} table",addColumnLeft:"Add column on the left",addColumnRight:"Add column on the right",addRowAbove:"Add row above",addRowBelow:"Add row below",deleteRow:"Delete row",deleteColumn:"Delete column",tableWizard:"Table Wizard",tableTab:"Table",cellTab:"Cell",accessibilityTab:"Accessibility",caption:"Caption",summary:"Summary",width:"Width",height:"Height",units:"Units",cellSpacing:"Cell Spacing",cellPadding:"Cell Padding",cellMargin:"Cell Margin",alignment:"Alignment",background:"Background",cssClass:"CSS Class",id:"ID",border:"Border",borderStyle:"Border Style",collapseBorders:"Collapse borders",wrapText:"Wrap text",associateCellsWithHeaders:"Associate cells with headers",alignLeft:"Align Left",alignCenter:"Align Center",alignRight:"Align Right",alignLeftTop:"Align Left Top",alignCenterTop:"Align Center Top",alignRightTop:"Align Right Top",alignLeftMiddle:"Align Left Middle",alignCenterMiddle:"Align Center Middle",alignRightMiddle:"Align Right Middle",alignLeftBottom:"Align Left Bottom",alignCenterBottom:"Align Center Bottom",alignRightBottom:"Align Right Bottom",alignRemove:"Remove Alignment",columns:"Columns",rows:"Rows",selectAllCells:"Select All Cells",exportAs:"Export As","import":"Import"},w=!c||c.ios&&c.flatVersion>=500||!c.ios&&t!==document.documentElement.contentEditable,x={basic:["bold","italic","underline"],alignment:["justifyLeft","justifyCenter","justifyRight"],lists:["insertUnorderedList","insertOrderedList"],indenting:["indent","outdent"],links:["createLink","unlink"],tables:["tableWizard","createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"]},C=d.extend({init:function(i,n){var o,r,a,l,c,u=this,h=s.ui.editor,g=h.Dom;w&&(d.fn.init.call(u,i,n),u.options=m({},u.options,n),u.options.tools=u.options.tools.slice(),i=u.element,c=i[0],l=g.name(c),this._registerHandler(i.closest("form"),"submit",p(u.update,u,t)),a=f({},u.options),a.editor=u,"textarea"==l?(u._wrapTextarea(),r=u.wrapper.find(".k-editor-toolbar"),c.id&&r.attr("aria-controls",c.id)):(u.element.attr("contenteditable",!0).addClass("k-widget k-editor k-editor-inline"),a.popup=!0,r=e('<ul class="k-editor-toolbar" role="toolbar" />').insertBefore(i)),u.toolbar=new h.Toolbar(r[0],a),u.toolbar.bindTo(u),"textarea"==l&&setTimeout(function(){var e=u.wrapper[0].style.height,t=parseInt(e,10),i=u.wrapper.height();e.indexOf("px")>0&&!isNaN(t)&&i>t&&u.wrapper.height(t-(i-t))}),u._resizable(),u._initializeContentElement(u),u.keyboard=new h.Keyboard([new h.BackspaceHandler(u),new h.TypingHandler(u),new h.SystemHandler(u),new h.SelectAllHandler(u)]),u.clipboard=new h.Clipboard(this),u.undoRedoStack=new s.util.UndoRedoStack,n&&n.value?o=n.value:u.textarea?(o=c.value,u.options.encoded&&e.trim(c.defaultValue).length&&(o=c.defaultValue),o=o.replace(/[\r\n\v\f\t ]+/gi," ")):o=c.innerHTML,u.value(o||s.ui.editor.emptyElementContent),this._registerHandler(document,{mousedown:function(){u._endTyping()},mouseup:function(e){u._mouseup(e)}}),u._initializeImmutables(),u.toolbar.resize(),s.notify(u))},setOptions:function(e){var t=this;d.fn.setOptions.call(t,e),e.tools&&t.toolbar.bindTo(t)},_endTyping:function(){var e=this.keyboard;try{e.isTypingInProgress()&&(e.endTyping(!0),this.saveSelection())}catch(t){}},_selectionChange:function(){this._selectionStarted=!1,this.saveSelection(),this.trigger("select",{})},_resizable:function(){var i,n=this.options.resizable,o=e.isPlainObject(n)?n.content===t||n.content===!0:n;o&&this.textarea&&(e("<div class='k-resize-handle'><span class='k-icon k-i-arrow-45-down-right' /></div>").insertAfter(this.textarea),this.wrapper.addClass("k-resizable"),this.wrapper.kendoResizable(f({},this.options.resizable,{start:function(t){var i=this.editor=e(t.currentTarget).closest(".k-editor");this.initialSize=i.height(),i.find("td:last").append("<div class='k-overlay' />")},resize:function(e){var t=e.y.initialDelta,i=this.initialSize+t,n=this.options.min||0,o=this.options.max||1/0;i=Math.min(o,Math.max(n,i)),this.editor.height(i)},resizeend:function(){this.editor.find(".k-overlay").remove(),this.editor=null}})),s.support.mobileOS.ios&&(i=this.wrapper.getKendoResizable(),i.draggable.options.ignore=b))},_initializeTableResizing:function(){var e=this;s.ui.editor.TableResizing.create(e),e._showTableResizeHandlesProxy=p(e._showTableResizeHandles,e),e.bind(g,e._showTableResizeHandlesProxy)},_destroyTableResizing:function(){var e=this,t=e.tableResizing;t&&(t.destroy(),e.tableResizing=null),e._showTableResizeHandlesProxy&&e.unbind(g,e._showTableResizeHandlesProxy)},_showTableResizeHandles:function(){var e=this,t=e.tableResizing;t&&t.showResizeHandles()},_initializeColumnResizing:function(){s.ui.editor.ColumnResizing.create(this)},_destroyColumnResizing:function(){var e=this;e.columnResizing&&(e.columnResizing.destroy(),e.columnResizing=null)},_initializeRowResizing:function(){s.ui.editor.RowResizing.create(this)},_destroyRowResizing:function(){var e=this;e.rowResizing&&(e.rowResizing.destroy(),e.rowResizing=null)},_wrapTextarea:function(){var t=this,i=t.element,n=i[0].style.width,o=i[0].style.height,r=k.editorWrapperTemplate,a=e(r).insertBefore(i).width(n).height(o),s=a.find(".k-editable-area");i.attr("autocomplete","off").appendTo(s).addClass("k-content k-raw-content").css("display","none"),t.textarea=i,t.wrapper=a},_createContentElement:function(t){var i,n,o,r=this,a=r.textarea,l=r.options.domain,d=l||document.domain,f="",p='javascript:""';return(l||d!=location.hostname)&&(f='<script>document.domain="'+d+'"</script>',p="javascript:document.write('"+f+"')"),a.hide(),i=e("<iframe />",{title:r.options.messages.editAreaTitle,frameBorder:"0"})[0],e(i).css("display","").addClass("k-content").attr("tabindex",a[0].tabIndex).insertBefore(a),i.src=p,n=i.contentWindow||i,o=n.document||i.contentDocument,e(i).one("load",function(){r.toolbar.decorateFrom(o.body)}),o.open(),o.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0;margin:0;height:100%;min-height:100%;}body{box-sizing:border-box;font-size:12px;font-family:Verdana,Geneva,sans-serif;margin-top:-1px;padding:5px .4em 0;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;"+(s.support.isRtl(a)?"direction:rtl;":"")+(u.msie||u.edge?"height:auto;":"")+(c.ios?"word-break:break-all;":"")+"}h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}p{margin:0 0 1em;}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}ul,ol{padding-left:2.5em}span{-ms-high-contrast-adjust:none;}a{color:#00a}code{font-size:1.23em}telerik\\3Ascript{display: none;}.k-table{width:100%;border-spacing:0;margin: 0 0 1em;}.k-table td{min-width:1px;padding:.2em .3em;}.k-table,.k-table td{outline:0;border: 1px dotted #ccc;}.k-table p{margin:0;padding:0;}.k-column-resize-handle-wrapper {position: absolute; height: 10px; width:10px; cursor: col-resize; z-index: 2;}.k-column-resize-handle {width: 100%; height: 100%;}.k-column-resize-handle > .k-column-resize-marker {width:2px; height:100%; margin:0 auto; background-color:#00b0ff; display:none; opacity:0.8;}.k-row-resize-handle-wrapper {position: absolute; cursor: row-resize; z-index:2; width: 10px; height: 10px;}.k-row-resize-handle {display: table; width: 100%; height: 100%;}.k-row-resize-marker-wrapper{display: table-cell; height:100%; width:100%; margin:0; padding:0; vertical-align: middle;}.k-row-resize-marker{margin: 0; padding:0; width:100%; height:2px; background-color: #00b0ff; opacity:0.8; display:none;}.k-table-resize-handle-wrapper {position: absolute; background-color: #fff; border: 1px solid #000; z-index: 100; width: 5px; height: 5px;}.k-table-resize-handle {width: 100%; height: 100%;}.k-table-resize-handle.k-resize-east{cursor:e-resize;}.k-table-resize-handle.k-resize-north{cursor:n-resize;}.k-table-resize-handle.k-resize-northeast{cursor:ne-resize;}.k-table-resize-handle.k-resize-northwest{cursor:nw-resize;}.k-table-resize-handle.k-resize-south{cursor:s-resize;}.k-table-resize-handle.k-resize-southeast{cursor:se-resize;}.k-table-resize-handle.k-resize-southwest{cursor:sw-resize;}.k-table-resize-handle.k-resize-west{cursor:w-resize;}.k-table.k-table-resizing{opacity:0.6;}k\\:script{display:none;}</style>"+f+"<script>(function(d,c){d[c]('header'),d[c]('article'),d[c]('nav'),d[c]('section'),d[c]('footer');})(document, 'createElement');</script>"+e.map(t,function(e){return"<link rel='stylesheet' href='"+e+"'>"}).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>"),o.close(),n},_blur:function(){var t=this.textarea,i=t?t.val():this._oldValue,n=this.options.encoded?this.encodedValue():this.value();this.update(),t&&t.trigger("blur"),n!=i&&(this.trigger("change"),t&&e(t.get(0).ownerDocument).trigger("change"))},_spellCorrect:function(e){var i,n=!1;this._registerHandler(e.body,{contextmenu:function(){e.one("select",function(){i=null}),e._spellCorrectTimeout=setTimeout(function(){i=new s.ui.editor.RestorePoint(e.getRange(),e.body),n=!1},10)},input:function(){if(i)return s.support.browser.mozilla&&!n?(n=!0,t):(s.ui.editor._finishUpdate(e,i),t)}})},_registerHandler:function(t,i,n){var o,r,a,l=this,d=".kendoEditor";if(t=e(t),this._handlers||(this._handlers=[]),t.length)if(e.isPlainObject(i))for(a in i)i.hasOwnProperty(a)&&this._registerHandler(t,a,i[a]);else for(o=s.applyEventMap(i).split(" "),r=0;r<o.length;r++)l._handlers.push({element:t,type:o[r]+d,handler:n}),t.on(o[r]+d,n)},_deregisterHandlers:function(){var e,t,i=this._handlers;for(e=0;e<i.length;e++)t=i[e],t.element.off(t.type,t.handler);this._handlers=[]},_initializeContentElement:function(){var i,n,o,r,a,l=this;l.textarea?(l.window=l._createContentElement(l.options.stylesheets),i=l.document=l.window.contentDocument||l.window.document,i.body||(r=i.createElement("body"),r.setAttribute("contenteditable","true"),r.setAttribute("autocorrect","off"),i.getElementsByTagName("html")[0].appendChild(r),a=setInterval(function(){e(l.document).find("body").length>1&&(e(l.document).find("body:last").remove(),window.clearInterval(a))},10)),l.body=i.body,n=l.window,o=i,this._registerHandler(i,"mouseup",p(this._mouseup,this))):(l.window=window,i=l.document=document,l.body=l.element[0],n=l.body,o=l.body,l.toolbar.decorateFrom(l.body)),this._registerHandler(n,"blur",p(this._blur,this)),l._registerHandler(o,"down",p(l._mousedown,l));try{i.execCommand("enableInlineTableEditing",null,!1)}catch(d){}s.support.touch&&this._registerHandler(i,{keydown:function(){s._activeElement()!=i.body&&l.window.focus()}}),this._spellCorrect(l),this._registerHandler(l.body,{keydown:function(e){var i,n,o,r,a,s,d,c,u,f;return(e.keyCode!==h.BACKSPACE&&e.keyCode!==h.DELETE||"true"===l.body.getAttribute("contenteditable"))&&(e.keyCode===h.F10?(setTimeout(p(l.toolbar.focus,l.toolbar),100),e.preventDefault(),t):(e.keyCode!=h.LEFT&&e.keyCode!=h.RIGHT||(i=l.getRange(),n=e.keyCode==h.LEFT,o=i[n?"startContainer":"endContainer"],r=i[n?"startOffset":"endOffset"],a=n?-1:1,s=r+a,d=n?s:r,3==o.nodeType&&"\ufeff"==o.nodeValue[d]&&(i.setStart(o,s),i.collapse(!0),l.selectRange(i))),c=l.toolbar.tools,u=l.keyboard.toolFromShortcut(c,e),f=u?c[u].options:{},u&&!f.keyPressCommand?(e.preventDefault(),/^(undo|redo)$/.test(u)||l.keyboard.endTyping(!0),l.trigger("keydown",e),l.exec(u),l._runPostContentKeyCommands(e),!1):(l.keyboard.clearTimeout(),l.keyboard.keydown(e),t)))},keypress:function(e){setTimeout(function(){l._runPostContentKeyCommands(e),l._showTableResizeHandles()},0)},keyup:function(t){var i=[h.BACKSPACE,h.TAB,h.PAGEUP,h.PAGEDOWN,h.END,h.HOME,h.LEFT,h.UP,h.RIGHT,h.DOWN,h.INSERT,h.DELETE];(e.inArray(t.keyCode,i)>-1||65==t.keyCode&&t.ctrlKey&&!t.altKey&&!t.shiftKey)&&l._selectionChange(),l.keyboard.keyup(t)},click:function(e){var t,i=s.ui.editor.Dom;"img"===i.name(e.target)&&(t=l.createRange(),t.selectNode(e.target),l.selectRange(t))},"cut copy paste drop dragover":function(e){l.clipboard["on"+e.type](e)},focusin:function(){l.body.hasAttribute("contenteditable")&&(e(this).addClass("k-state-active"),l.toolbar.show())},focusout:function(){setTimeout(function(){var t,i=s._activeElement(),n=l.body,o=l.toolbar;o.options.popup&&(t=o.window.element.get(0),t&&!e.contains(t,i)&&t!=i&&(o.preventPopupHide=!1)),i==n||e.contains(n,i)||e(i).is(".k-editortoolbar-dragHandle")||o.focused()||(e(n).removeClass("k-state-active"),o.hide())},10)}}),l._initializeColumnResizing(),l._initializeRowResizing(),l._initializeTableResizing()},_initializeImmutables:function(){var e=this,t=s.ui.editor;e.options.immutables&&(e.immutables=new t.Immutables(e))},_mousedown:function(t){var i,n=this;n._selectionStarted=!0,e(n.body).parents(".k-window").length&&t.stopPropagation(),u.gecko||(i=e(t.target),(2==t.which||1==t.which&&t.ctrlKey)&&i.is("a[href]")&&window.open(i.attr("href"),"_new"))},_mouseup:function(t){var i=this;s.support.mobileOS.ios&&t&&e(t.target).is(b)||i._selectionStarted&&setTimeout(function(){i._selectionChange()},1)},_runPostContentKeyCommands:function(e){var t,i,n,o,r=this.getRange(),a=this.keyboard.toolsFromShortcut(this.toolbar.tools,e);for(t=0;t<a.length;t++)i=a[t],n=i.options,n.keyPressCommand&&(o=new n.command({range:r}),o.changesContent()&&(this.keyboard.endTyping(!0),this.exec(i.name)))},refresh:function(){var e,t=this;t.textarea&&(t._destroyResizings(),e=t.value(),t.textarea.val(e),t.wrapper.find("iframe").remove(),t._initializeContentElement(t),t.value(e))},events:["select","change","execute","error","paste","keydown","keyup"],options:{name:"Editor",messages:y,formats:{},encoded:!0,domain:null,resizable:!1,deserialization:{custom:null},serialization:{entities:!0,semantic:!0,scripts:!1},pasteCleanup:{all:!1,css:!1,custom:null,keepNewLines:!1,msAllFormatting:!1,msConvertLists:!0,msTags:!0,none:!1,span:!1},stylesheets:[],dialogOptions:{modal:!0,resizable:!1,draggable:!0,animation:!1},imageBrowser:null,fileBrowser:null,fontName:[{text:"Arial",value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:"'Courier New',Courier,monospace"},{text:"Georgia",value:"Georgia,serif"},{text:"Impact",value:"Impact,Charcoal,sans-serif"},{text:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{text:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{text:"Times New Roman",value:"'Times New Roman',Times,serif"},{text:"Trebuchet MS",value:"'Trebuchet MS',Helvetica,sans-serif"},{text:"Verdana",value:"Verdana,Geneva,sans-serif"}],fontSize:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],formatBlock:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],tools:[].concat.call(["formatting"],x.basic,x.alignment,x.lists,x.indenting,x.links,["insertImage"],x.tables)},destroy:function(){var e=this;d.fn.destroy.call(this),this._endTyping(!0),this._deregisterHandlers(),clearTimeout(this._spellCorrectTimeout),this._focusOutside(),this.toolbar.destroy(),e._destroyUploadWidget(),e._destroyResizings(),s.destroy(this.wrapper)},_destroyResizings:function(){var e=this;e._destroyTableResizing(),s.ui.editor.TableResizing.dispose(e),e._destroyRowResizing(),s.ui.editor.RowResizing.dispose(e),e._destroyColumnResizing(),s.ui.editor.ColumnResizing.dispose(e)},_focusOutside:function(){if(s.support.browser.msie&&this.textarea){var t=e("<input style='position:fixed;left:1px;top:1px;width:1px;height:1px;font-size:0;border:0;opacity:0' />").appendTo(document.body).focus();t.blur().remove()}},_destroyUploadWidget:function(){var e=this;e._uploadWidget&&(e._uploadWidget.destroy(),e._uploadWidget=null)},state:function(e){var t,i,n=C.defaultTools[e],o=n&&(n.options.finder||n.finder),r=s.ui.editor.RangeUtils;return!!o&&(t=this.getRange(),i=r.textNodes(t),!i.length&&t.collapsed&&(i=[t.startContainer]),o.getFormat?o.getFormat(i):o.isFormatted(i))},value:function(e){var i=this.body,n=s.ui.editor,o=this.options,r=n.Serializer.domToXhtml(i,o.serialization);return e===t?r:(e!=r&&(n.Serializer.htmlToDom(e,i,o.deserialization),this.selectionRestorePoint=null,this.update(),this.toolbar.refreshTools()),t)},saveSelection:function(t){t=t||this.getRange();var i=t.commonAncestorContainer,n=this.body;(i==n||e.contains(n,i))&&(this.selectionRestorePoint=new s.ui.editor.RestorePoint(t,n))},_focusBody:function(){var e,t=this.body,i=this.wrapper&&this.wrapper.find("iframe")[0],n=this.document.documentElement,o=s._activeElement();i?o!=t&&o!=i&&(e=n.scrollTop,t.focus(),n.scrollTop=e):(e=t.scrollTop,t.focus(),t.scrollTop=e)},restoreSelection:function(){this._focusBody(),this.selectionRestorePoint&&this.selectRange(this.selectionRestorePoint.toRange())},focus:function(){this.restoreSelection()},update:function(e){e=e||this.options.encoded?this.encodedValue():this.value(),this.textarea?this.textarea.val(e):this._oldValue=e},encodedValue:function(){return s.ui.editor.Dom.encode(this.value())},createRange:function(e){return s.ui.editor.RangeUtils.createRange(e||this.document)},getSelection:function(){return s.ui.editor.SelectionUtils.selectionFromDocument(this.document)},selectRange:function(e){this._focusBody();var t=this.getSelection();t.removeAllRanges(),t.addRange(e),this.saveSelection(e)},getRange:function(){var e=this.getSelection(),t=e&&e.rangeCount>0?e.getRangeAt(0):this.createRange(),i=this.document;return t.startContainer!=i||t.endContainer!=i||t.startOffset||t.endOffset||(t.setStart(this.body,0),t.collapse(!0)),t},_containsRange:function(e){var t=s.ui.editor.Dom,i=this.body;return e&&t.isAncestorOrSelf(i,e.startContainer)&&t.isAncestorOrSelf(i,e.endContainer)},selectedHtml:function(){return s.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},paste:function(t,i){this.focus();var n=new s.ui.editor.InsertHtmlCommand(e.extend({range:this.getRange(),html:t},i));n.editor=this,n.exec()},exec:function(e,i){var n,o,r,a,s=this,l=null;if(!e)throw Error("kendoEditor.exec(): `name` parameter cannot be empty");if("true"!==s.body.getAttribute("contenteditable")&&"print"!==e&&"pdf"!==e)return!1;if(e=e.toLowerCase(),s.keyboard.isTypingInProgress()||(s._focusBody(),s.selectRange(s._range||s.getRange())),o=s.toolbar.toolById(e),!o)for(a in C.defaultTools)if(a.toLowerCase()==e){o=C.defaultTools[a];break}if(o){if(n=s.getRange(),o.command&&(l=o.command(f({range:n,body:s.body,immutables:!!s.immutables},i))),r=s.trigger("execute",{name:e,command:l}))return;if(/^(undo|redo)$/i.test(e))s.undoRedoStack[e]();else if(l&&(s.execCommand(l),l.async))return l.change=p(s._selectionChange,s),t;s._selectionChange()}},execCommand:function(e){e.managesUndoRedo||this.undoRedoStack.push(e),e.editor=this,e.exec()}});C.defaultTools={undo:{options:{key:"Z",ctrl:!0}},redo:{options:{key:"Y",ctrl:!0}}},s.ui.plugin(C),i=l.extend({init:function(e){this.options=e},initialize:function(e,t){e.attr({unselectable:"on",title:t.title}),e.children(".k-tool-text").html(t.title)},command:function(e){return new this.options.command(e)},update:e.noop}),i.exec=function(e,t,i){e.exec(t,{value:i})},n=i.extend({init:function(e){i.fn.init.call(this,e)},command:function(e){var t=this;return new s.ui.editor.FormatCommand(f(e,{formatter:t.options.formatter}))},update:function(e,t){var i=this.options.finder.isFormatted(t);e.toggleClass("k-state-selected",i),e.attr("aria-pressed",i)}}),k.registerTool("separator",new i({template:new v({template:k.separatorTemplate})})),o=u.msie&&u.version<9?"\ufeff":"",r="\ufeff",a=r,(u.msie||u.edge)&&(a=r="&nbsp;"),f(s.ui,{editor:{ToolTemplate:v,EditorUtils:k,Tool:i,FormatTool:n,_bomFill:o,emptyElementContent:r,emptyTableCellContent:a}}),s.PDFMixin&&(s.PDFMixin.extend(C.prototype),C.prototype._drawPDF=function(){return s.drawing.drawDOM(this.body,this.options.pdf)},C.prototype.saveAsPDF=function(){var t,i=new e.Deferred,n=i.promise(),o={promise:n};if(!this.trigger("pdfExport",o))return t=this.options.pdf,this._drawPDF(i).then(function(e){return s.drawing.exportPDF(e,t)}).done(function(e){s.saveAs({dataURI:e,fileName:t.fileName,proxyURL:t.proxyURL,proxyTarget:t.proxyTarget,forceProxy:t.forceProxy}),i.resolve()}).fail(function(e){i.reject(e)}),n})}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("editor/dom.min",["editor/main.min"],e)}(function(){!function(e){function t(e){var t,i,n={};for(t=0,i=e.length;t<i;t++)n[e[t]]=!0;return n}var i,n,o,r,a,s,l,d,c,u,f,p=window.kendo,m=e.map,h=e.extend,g=p.support.browser,b="style",v="float",k="cssFloat",y="styleFloat",w="class",x="k-marker",C=t("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed".split(",")),T="div,p,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,map,menu,noframes,noscript,object,pre,script,table,tbody,td,tfoot,th,thead,tr,header,article,nav,footer,section,aside,main,figure,figcaption".split(","),_=T.concat(["ul","ol","li"]),N=t(_),S="span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var,data,time,mark,ruby".split(","),R=t(S),z=t("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(",")),A=function(e){1==e.nodeType&&e.normalize()};g.msie&&g.version>=8&&(A=function(e){if(1==e.nodeType&&e.firstChild)for(var t=e.firstChild,i=t;;){if(i=i.nextSibling,!i)break;3==i.nodeType&&3==t.nodeType&&(i.nodeValue=t.nodeValue+i.nodeValue,f.remove(t)),t=i}}),i=/^\s+$/,n=/^[\n\r\t]+$/,o=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,r=/\ufeff/g,a=/^(\s+|\ufeff)$/,l="color,padding-left,padding-right,padding-top,padding-bottom,background-color,background-attachment,background-image,background-position,background-repeat,border-top-style,border-top-width,border-top-color,border-bottom-style,border-bottom-width,border-bottom-color,border-left-style,border-left-width,border-left-color,border-right-style,border-right-width,border-right-color,font-family,font-size,font-style,font-variant,font-weight,line-height".split(","),d=/[<>\&]/g,c=/[\u00A0-\u2666<>\&]/g,u={34:"quot",38:"amp",39:"apos",60:"lt",62:"gt",160:"nbsp",161:"iexcl",162:"cent",163:"pound",164:"curren",165:"yen",166:"brvbar",167:"sect",168:"uml",169:"copy",170:"ordf",171:"laquo",172:"not",173:"shy",174:"reg",175:"macr",176:"deg",177:"plusmn",178:"sup2",179:"sup3",180:"acute",181:"micro",182:"para",183:"middot",184:"cedil",185:"sup1",186:"ordm",187:"raquo",188:"frac14",189:"frac12",190:"frac34",191:"iquest",192:"Agrave",193:"Aacute",194:"Acirc",195:"Atilde",196:"Auml",197:"Aring",198:"AElig",199:"Ccedil",200:"Egrave",201:"Eacute",202:"Ecirc",203:"Euml",204:"Igrave",205:"Iacute",206:"Icirc",207:"Iuml",208:"ETH",209:"Ntilde",210:"Ograve",211:"Oacute",212:"Ocirc",213:"Otilde",214:"Ouml",215:"times",216:"Oslash",217:"Ugrave",218:"Uacute",219:"Ucirc",220:"Uuml",221:"Yacute",222:"THORN",223:"szlig",224:"agrave",225:"aacute",226:"acirc",227:"atilde",228:"auml",229:"aring",230:"aelig",231:"ccedil",232:"egrave",233:"eacute",234:"ecirc",235:"euml",236:"igrave",237:"iacute",238:"icirc",239:"iuml",240:"eth",241:"ntilde",242:"ograve",243:"oacute",244:"ocirc",245:"otilde",246:"ouml",247:"divide",248:"oslash",249:"ugrave",250:"uacute",251:"ucirc",252:"uuml",253:"yacute",254:"thorn",255:"yuml",402:"fnof",913:"Alpha",914:"Beta",915:"Gamma",916:"Delta",917:"Epsilon",918:"Zeta",919:"Eta",920:"Theta",921:"Iota",922:"Kappa",923:"Lambda",924:"Mu",925:"Nu",926:"Xi",927:"Omicron",928:"Pi",929:"Rho",931:"Sigma",932:"Tau",933:"Upsilon",934:"Phi",935:"Chi",936:"Psi",937:"Omega",945:"alpha",946:"beta",947:"gamma",948:"delta",949:"epsilon",950:"zeta",951:"eta",952:"theta",953:"iota",954:"kappa",955:"lambda",956:"mu",957:"nu",958:"xi",959:"omicron",960:"pi",961:"rho",962:"sigmaf",963:"sigma",964:"tau",965:"upsilon",966:"phi",967:"chi",968:"psi",969:"omega",977:"thetasym",978:"upsih",982:"piv",8226:"bull",8230:"hellip",8242:"prime",8243:"Prime",8254:"oline",8260:"frasl",8472:"weierp",8465:"image",8476:"real",8482:"trade",8501:"alefsym",8592:"larr",8593:"uarr",8594:"rarr",8595:"darr",8596:"harr",8629:"crarr",8656:"lArr",8657:"uArr",8658:"rArr",8659:"dArr",8660:"hArr",8704:"forall",8706:"part",8707:"exist",8709:"empty",8711:"nabla",8712:"isin",8713:"notin",8715:"ni",8719:"prod",8721:"sum",8722:"minus",8727:"lowast",8730:"radic",8733:"prop",8734:"infin",8736:"ang",8743:"and",8744:"or",8745:"cap",8746:"cup",8747:"int",8756:"there4",8764:"sim",8773:"cong",8776:"asymp",8800:"ne",8801:"equiv",8804:"le",8805:"ge",8834:"sub",8835:"sup",8836:"nsub",8838:"sube",8839:"supe",8853:"oplus",8855:"otimes",8869:"perp",8901:"sdot",8968:"lceil",8969:"rceil",8970:"lfloor",8971:"rfloor",9001:"lang",9002:"rang",9674:"loz",9824:"spades",9827:"clubs",9829:"hearts",9830:"diams",338:"OElig",339:"oelig",352:"Scaron",353:"scaron",376:"Yuml",710:"circ",732:"tilde",8194:"ensp",8195:"emsp",8201:"thinsp",8204:"zwnj",8205:"zwj",8206:"lrm",8207:"rlm",8211:"ndash",8212:"mdash",8216:"lsquo",8217:"rsquo",8218:"sbquo",8220:"ldquo",8221:"rdquo",8222:"bdquo",8224:"dagger",8225:"Dagger",8240:"permil",8249:"lsaquo",8250:"rsaquo",8364:"euro"},f={block:N,inline:R,findNodeIndex:function(e,t){var i=0;if(!e)return-1;for(;;){if(e=e.previousSibling,!e)break;t&&3==e.nodeType||i++}return i},isDataNode:function(e){return e&&null!==e.nodeValue&&null!==e.data},isAncestorOf:function(t,i){try{return!f.isDataNode(t)&&(e.contains(t,f.isDataNode(i)?i.parentNode:i)||i.parentNode==t)}catch(n){return!1}},isAncestorOrSelf:function(e,t){return f.isAncestorOf(e,t)||e==t},findClosestAncestor:function(e,t){if(f.isAncestorOf(e,t))for(;t&&t.parentNode!=e;)t=t.parentNode;return t},getNodeLength:function(e){return f.isDataNode(e)?e.length:e.childNodes.length},splitDataNode:function(e,t){for(var i,n=e.cloneNode(!1),o="",r=e.nextSibling;r&&3==r.nodeType&&r.nodeValue;)o+=r.nodeValue,i=r,r=r.nextSibling,f.remove(i);e.deleteData(t,e.length),n.deleteData(0,t),n.nodeValue+=o,f.insertAfter(n,e)},attrEquals:function(e,t){var i,n;for(i in t)if(n=e[i],i==v&&(n=e[p.support.cssFloat?k:y]),"object"==typeof n){if(!f.attrEquals(n,t[i]))return!1;
}else if(n!=t[i])return!1;return!0},blockParentOrBody:function(e){return f.parentOfType(e,_)||e.ownerDocument.body},blockParents:function(t){var i,n,o,r=[];for(i=0,n=t.length;i<n;i++)o=f.parentOfType(t[i],f.blockElements),o&&e.inArray(o,r)<0&&r.push(o);return r},windowFromDocument:function(e){return e.defaultView||e.parentWindow},normalize:A,blockElements:_,nonListBlockElements:T,inlineElements:S,empty:C,fillAttrs:z,nodeTypes:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},toHex:function(e){var t=o.exec(e);return t?"#"+m(t.slice(1),function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e}).join(""):e},encode:function(e,t){var i=!t||t.entities?c:d;return e.replace(i,function(e){var t=e.charCodeAt(0),i=u[t];return i?"&"+i+";":e})},isBom:function(e){return e&&3===e.nodeType&&/^[\ufeff]+$/.test(e.nodeValue)},stripBom:function(e){return(e||"").replace(r,"")},stripBomNode:function(e){f.isBom(e)&&e.parentNode.removeChild(e)},insignificant:function(e){var t=e.attributes;return"k-marker"==e.className||f.is(e,"br")&&("k-br"==e.className||t._moz_dirty||t._moz_editor_bogus_node)},tableCell:function(e){return f.is(e,"td")||f.is(e,"th")},significantNodes:function(t){return e.grep(t,function(e){var t=f.name(e);return"br"!=t&&(!f.insignificant(e)&&(!f.emptyTextNode(e)&&!(1==e.nodeType&&!C[t]&&f.emptyNode(e))))})},emptyTextNode:function(e){return e&&3==e.nodeType&&a.test(e.nodeValue)},emptyNode:function(e){return 1==e.nodeType&&!f.significantNodes(e.childNodes).length},name:function(e){return e.nodeName.toLowerCase()},significantChildNodes:function(t){return e.grep(t.childNodes,function(e){return 3!=e.nodeType||!f.isWhitespace(e)})},lastTextNode:function(e){var t,i=null;if(3==e.nodeType)return e;for(t=e.lastChild;t;t=t.previousSibling)if(i=f.lastTextNode(t))return i;return i},is:function(e,t){return e&&f.name(e)==t},isMarker:function(e){return e.className==x},isWhitespace:function(e){return i.test(e.nodeValue)},allWhitespaceContent:function(e){for(var t=e.firstChild;t&&f.isWhitespace(t);)t=t.nextSibling;return!t},isEmptyspace:function(e){return n.test(e.nodeValue)},htmlIndentSpace:function(t){var i,o,a,s,l,d;return!(!f.isDataNode(t)||!f.isWhitespace(t))&&(!!n.test(t.nodeValue)||(i=function(e,t){for(;e[t];)if(e=e[t],f.significantNodes([e]).length>0)return e},o=t.parentNode,a=i(t,"previousSibling"),s=i(t,"nextSibling"),r.test(t.nodeValue)?!(!a&&!s):!!e(o).is("tr,tbody,thead,tfoot,table,ol,ul")||!!((f.isBlock(o)||f.is(o,"body"))&&(l=a&&f.isBlock(a),d=s&&f.isBlock(s),!s&&l||!a&&d||l&&d))))},isBlock:function(e){return N[f.name(e)]},isEmpty:function(e){return C[f.name(e)]},isInline:function(e){return R[f.name(e)]},list:function(e){var t=e?f.name(e):"";return"ul"==t||"ol"==t||"dl"==t},scrollContainer:function(e){var t=f.windowFromDocument(e),i=(t.contentWindow||t).document||t.ownerDocument||t;return i=p.support.browser.webkit||"BackCompat"==i.compatMode?i.body:i.documentElement},scrollTo:function(t,i){var n,o,r,a,s=t.ownerDocument,l=f.windowFromDocument(s),d=l.innerHeight,c=f.scrollContainer(s);f.isDataNode(t)?i?(a=f.create(s,"span",{innerHTML:"&#xfeff;"}),f.insertBefore(a,t),n=e(a)):n=e(t.parentNode):n=e(t),o=n.offset().top,r=n[0].offsetHeight,!i&&r||(r=parseInt(n.css("line-height"),10)||Math.ceil(1.2*parseInt(n.css("font-size"),10))||15),a&&f.remove(a),r+o>c.scrollTop+d&&(c.scrollTop=r+o-d)},persistScrollTop:function(e){s=f.scrollContainer(e).scrollTop},offset:function(e,t){for(var i={top:e.offsetTop,left:e.offsetLeft},n=e.offsetParent;n&&(!t||f.isAncestorOf(t,n));)i.top+=n.offsetTop,i.left+=n.offsetLeft,n=n.offsetParent;return i},restoreScrollTop:function(e){"number"==typeof s&&(f.scrollContainer(e).scrollTop=s)},insertAt:function(e,t,i){e.insertBefore(t,e.childNodes[i]||null)},insertBefore:function(e,t){return t.parentNode?t.parentNode.insertBefore(e,t):t},insertAfter:function(e,t){return t.parentNode.insertBefore(e,t.nextSibling)},remove:function(e){e.parentNode&&e.parentNode.removeChild(e)},removeChildren:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},removeTextSiblings:function(e){for(var t=e.parentNode;e.nextSibling&&3==e.nextSibling.nodeType;)t.removeChild(e.nextSibling);for(;e.previousSibling&&3==e.previousSibling.nodeType;)t.removeChild(e.previousSibling)},trim:function(e){var t,i;for(t=e.childNodes.length-1;t>=0;t--)i=e.childNodes[t],f.isDataNode(i)?f.stripBom(i.nodeValue).length||f.remove(i):i.className!=x&&(f.trim(i),(0===i.childNodes.length||f.allWhitespaceContent(i)&&f.isBlock(i)&&!f.isEmpty(i))&&f.remove(i));return e},closest:function(e,t){for(;e&&f.name(e)!=t;)e=e.parentNode;return e},closestBy:function(e,t,i){for(;e&&!t(e);){if(i&&i(e))return null;e=e.parentNode}return e},sibling:function(e,t){do e=e[t];while(e&&1!=e.nodeType);return e},next:function(e){return f.sibling(e,"nextSibling")},prev:function(e){return f.sibling(e,"previousSibling")},parentOfType:function(e,t){do e=e.parentNode;while(e&&!f.ofType(e,t));return e},ofType:function(t,i){return e.inArray(f.name(t),i)>=0},changeTag:function(e,t,i){var n,o,r,a,s,l=f.create(e.ownerDocument,t),d=e.attributes;if(!i)for(n=0,o=d.length;n<o;n++)s=d[n],s.specified&&(r=s.nodeName,a=s.nodeValue,r==w?l.className=a:r==b?l.style.cssText=e.style.cssText:l.setAttribute(r,a));for(;e.firstChild;)l.appendChild(e.firstChild);return f.insertBefore(l,e),f.remove(e),l},editableParent:function(e){for(;e&&(3==e.nodeType||"true"!==e.contentEditable);)e=e.parentNode;return e},wrap:function(e,t){return f.insertBefore(t,e),t.appendChild(e),t},unwrap:function(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)},wrapper:function(t){var i=f.closestBy(t,function(e){return e.parentNode&&f.significantNodes(e.parentNode.childNodes).length>1});return e(i).is("body,.k-editor")?void 0:i},create:function(e,t,i){return f.attr(e.createElement(t),i)},attr:function(e,t){t=h({},t),t&&b in t&&(f.style(e,t.style),delete t.style);for(var i in t)null===t[i]?(e.removeAttribute(i),delete t[i]):"className"==i&&(e[i]=t[i]);return h(e,t)},style:function(t,i){e(t).css(i||{})},unstyle:function(e,t){for(var i in t)i==v&&(i=p.support.cssFloat?k:y),e.style[i]="";""===e.style.cssText&&e.removeAttribute(b)},inlineStyle:function(t,i,n){var o,r=e(f.create(t.ownerDocument,i,n));return t.appendChild(r[0]),o=m(l,function(e){return g.msie&&"line-height"==e&&"1px"==r.css(e)?"line-height:1.5":e+":"+r.css(e)}).join(";"),r.remove(),o},getEffectiveBackground:function(e){var t=e.css("background-color")||"";return t.indexOf("rgba(0, 0, 0, 0")<0&&"transparent"!==t?t:"html"===e[0].tagName.toLowerCase()?"Window":f.getEffectiveBackground(e.parent())},innerText:function(e){var t=e.innerHTML;return t=t.replace(/<!--(.|\s)*?-->/gi,""),t=t.replace(/<\/?[^>]+?\/?>/gm,"")},removeClass:function(t,i){var n,o,r=" "+t.className+" ",a=i.split(" ");for(n=0,o=a.length;n<o;n++)r=r.replace(" "+a[n]+" "," ");r=e.trim(r),r.length?t.className=r:t.removeAttribute(w)},commonAncestor:function(){var e,t,i,n,o,r=arguments.length,a=[],s=1/0,l=null;if(!r)return null;if(1==r)return arguments[0];for(e=0;e<r;e++){for(t=[],i=arguments[e];i;)t.push(i),i=i.parentNode;a.push(t.reverse()),s=Math.min(s,t.length)}if(1==r)return a[0][0];for(e=0;e<s;e++){for(n=a[0][e],o=1;o<r;o++)if(n!=a[o][e])return l;l=n}return l},closestSplittableParent:function(t){var i,n,o;return i=1==t.length?f.parentOfType(t[0],["ul","ol"]):f.commonAncestor.apply(null,t),i||(i=f.parentOfType(t[0],["p","td"])||t[0].ownerDocument.body),f.isInline(i)&&(i=f.blockParentOrBody(i)),n=m(t,f.editableParent),o=f.commonAncestor(n)[0],e.contains(i,o)&&(i=o),i},closestEditable:function(t,i){var n,o=f.editableParent(t);return n=f.ofType(t,i)?t:f.parentOfType(t,i),n&&o&&e.contains(n,o)?n=o:!n&&o&&(n=o),n},closestEditableOfType:function(e,t){var i=f.closestEditable(e,t);if(i&&f.ofType(i,t))return i},filter:function(e,t,i){var n=function(t){return f.name(t)==e};return f.filterBy(t,n,i)},filterBy:function(e,t,i){for(var n,o=0,r=e.length,a=[];o<r;o++)n=t(e[o]),(n&&!i||!n&&i)&&a.push(e[o]);return a},ensureTrailingBreaks:function(t){var i=e(t).find("p,td,th"),n=i.length,o=0;if(n)for(;o<n;o++)f.ensureTrailingBreak(i[o]);else f.ensureTrailingBreak(t)},removeTrailingBreak:function(t){e(t).find("br[type=_moz],.k-br").remove()},ensureTrailingBreak:function(e){var t,i,n;f.removeTrailingBreak(e),t=e.lastChild,i=t&&f.name(t),(!i||"br"!=i&&"img"!=i||"br"==i&&"k-br"!=t.className)&&(n=e.ownerDocument.createElement("br"),n.className="k-br",e.appendChild(n))}},p.ui.editor.Dom=f}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("editor/serializer.min",["editor/dom.min"],e)}(function(){!function(e,t){var i,n,o,r,a=window.kendo,s=a.ui.editor,l=s.Dom,d=e.extend,c="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),u=/"/g,f=/<br[^>]*>/i,p=/^\d+(\.\d*)?(px)?$/i,m=/<p>(?:&nbsp;)?<\/p>/i,h=/(\*?[-#\/\*\\\w]+(?:\[[0-9a-z_-]+\])?)\s*:\s*((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/g,g=/^sizzle-\d+/i,b=/^k-script-/i,v=/\s*onerror\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/i,k='<br class="k-br">',y=document.createElement("div");y.innerHTML=" <hr>",i=3===y.firstChild.nodeType,y=null,n=e.isFunction,o="td",r={toEditableHtml:function(e){return(e||"").replace(/<!\[CDATA\[(.*)?\]\]>/g,"<!--[CDATA[$1]]-->").replace(/<(\/?)script([^>]*)>/gi,"<$1k:script$2>").replace(/<img([^>]*)>/gi,function(e){return e.replace(v,"")}).replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/gi,"$1").replace(/^<(table|blockquote)/i,k+"<$1").replace(/^[\s]*(&nbsp;|\u00a0)/i,"$1").replace(/<\/(table|blockquote)>$/i,"</$1>"+k)},_toEditableImmutables:function(t){for(var i=s.Immutables.immutable,n=l.emptyTextNode,o=t.firstChild,r=t.lastChild;n(o);)o=o.nextSibling;for(;n(r);)r=r.previousSibling;o&&i(o)&&e(k).prependTo(t),r&&i(r)&&e(k).appendTo(t)},_fillEmptyElements:function(t){e(t).find("p,td").each(function(){var t,i=e(this);if(/^\s*$/g.test(i.text())&&!i.find("img,input").length){for(t=this;t.firstChild&&3!=t.firstChild.nodeType;)t=t.firstChild;1!=t.nodeType||l.empty[l.name(t)]||(t.innerHTML=l.is(t,"td")?a.ui.editor.emptyTableCellContent:a.ui.editor.emptyElementContent)}})},_removeSystemElements:function(t){e(".k-paste-container",t).remove()},_resetOrderedLists:function(e){var t,i,n,o=e.getElementsByTagName("ol");for(t=0;t<o.length;t++)i=o[t],n=i.getAttribute("start"),i.setAttribute("start",1),n?i.setAttribute("start",n):i.removeAttribute(n)},_preventScriptExecution:function(t){e(t).find("*").each(function(){var e,t,i,n,o=this.attributes;for(t=0,i=o.length;t<i;t++)e=o[t],n=e.nodeName,e.specified&&/^on/i.test(n)&&(this.setAttribute("k-script-"+n,e.value),this.removeAttribute(n))})},htmlToDom:function(t,i,o){var s=a.support.browser,d=s.msie,c=d&&s.version<9,u="originalsrc",f="originalhref",p=o||{},m=p.immutables;return t=r.toEditableHtml(t),c&&(t="<br/>"+t,t=t.replace(/href\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,f+'="$1"'),t=t.replace(/src\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,u+'="$1"')),n(p.custom)&&(t=p.custom(t)||t),i.innerHTML=t,m&&m.deserialize(i),c?(l.remove(i.firstChild),e(i).find("k\\:script,script,link,img,a").each(function(){var e=this;e[f]&&(e.setAttribute("href",e[f]),e.removeAttribute(f)),e[u]&&(e.setAttribute("src",e[u]),e.removeAttribute(u))})):d&&(l.normalize(i),r._resetOrderedLists(i)),r._preventScriptExecution(i),r._fillEmptyElements(i),r._removeSystemElements(i),r._toEditableImmutables(i),e("table",i).addClass("k-table"),i},domToXhtml:function(n,r){function d(t){return e.grep(t,function(e){return"style"!=e.name})}function v(e,t){z.push("<"+t),x(e),z.push(">")}function k(t){var i,n,o,r=e.trim,a=r(t),s=[];for(h.lastIndex=0;;){if(i=h.exec(a),!i)break;n=r(i[1].toLowerCase()),o=r(i[2]),"font-size-adjust"!=n&&"font-stretch"!=n&&(n.indexOf("color")>=0?o=l.toHex(o):n.indexOf("font")>=0?o=o.replace(u,"'"):/\burl\(/g.test(o)&&(o=o.replace(u,"")),s.push({property:n,value:o}))}return s}function y(e){var t,i=k(e);for(t=0;t<i.length;t++)z.push(i[t].property),z.push(":"),z.push(i[t].value),z.push(";")}function w(e){var t,i,n,o,a,s,d=[],c=e.attributes;for(i=0,n=c.length;i<n;i++)t=c[i],o=t.nodeName,a=t.value,s=t.specified,"value"==o&&"value"in e&&e.value?s=!0:"type"==o&&"text"==a?s=!0:"class"!=o||a?g.test(o)?s=!1:"complete"==o?s=!1:"altHtml"==o?s=!1:"start"==o&&l.is(e,"ul")?s=!1:"start"==o&&l.is(e,"ol")&&"1"==a?s=!1:o.indexOf("_moz")>=0?s=!1:b.test(o)?s=!!r.scripts:"data-role"==o&&"resizable"==a&&(l.is(e,"tr")||l.is(e,"td"))&&(s=!1):s=!1,s&&d.push(t);return d}function x(i,n){var o,r,s,d,c,u,f,m;if(n=n||w(i),l.is(i,"img")&&(u=i.style.width,f=i.style.height,m=e(i),u&&p.test(u)&&(m.attr("width",parseInt(u,10)),l.unstyle(i,{width:t})),f&&p.test(f)&&(m.attr("height",parseInt(f,10)),l.unstyle(i,{height:t}))),n.length)for(o=0,r=n.length;o<r;o++)s=n[o],d=s.nodeName,c=s.value,"class"==d&&"k-table"==c||(d=d.replace(b,""),z.push(" "),z.push(d),z.push('="'),"style"==d?y(c||i.style.cssText):z.push("src"==d||"href"==d?a.htmlEncode(i.getAttribute(d,2)):l.fillAttrs[d]?d:c),z.push('"'))}function C(e,t,i){for(var n=e.firstChild;n;n=n.nextSibling)N(n,t,i)}function T(e){return e.nodeValue.replace(/\ufeff/g,"")}function _(e){if(l.isBom(e)){do{if(e=e.parentNode,l.is(e,o)&&1===e.childNodes.length)return!0;if(1!==e.childNodes.length)return!1}while(!l.isBlock(e));return!0}return!1}function N(n,o,a){var d,c,u,f,p,m,h=n.nodeType;if(A&&s.Immutables.immutable(n))z.push(A.serialize(n));else if(1==h){if(d=l.name(n),m=e(n),m.hasClass("k-table-resize-handle-wrapper")||m.hasClass("k-column-resize-handle-wrapper")||m.hasClass("k-row-resize-handle-wrapper"))return;if(!d||l.insignificant(n))return;if(!r.scripts&&("script"==d||"k:script"==d))return;if(c=E[d],c&&(t===c.semantic||r.semantic^c.semantic))return c.start(n),C(n,!1,c.skipEncoding),c.end(n),t;z.push("<"),z.push(d),x(n),l.empty[d]?z.push(" />"):(z.push(">"),C(n,o||l.is(n,"pre")),z.push("</"),z.push(d),z.push(">"))}else if(3==h){if(_(n))return z.push("&nbsp;"),t;f=T(n),!o&&i&&(u=n.parentNode,p=n.previousSibling,p||(p=(l.isInline(u)?u:n).previousSibling),p&&""!==p.innerHTML&&!l.isBlock(p)||(f=f.replace(/^[\r\n\v\f\t ]+/,"")),f=f.replace(/ +/," ")),z.push(a?f:l.encode(f,r))}else 4==h?(z.push("<![CDATA["),z.push(n.data),z.push("]]>")):8==h&&(n.data.indexOf("[CDATA[")<0?(z.push("<!--"),z.push(n.data),z.push("-->")):(z.push("<!"),z.push(n.data),z.push(">")))}function S(e){var t=e.childNodes.length,i=t&&3==e.firstChild.nodeType;return i&&(1==t||2==t&&l.insignificant(e.lastChild))}function R(){e.isFunction(r.custom)&&(z=r.custom(z)||z)}var z=[],A=r&&r.immutables,E={iframe:{start:function(e){v(e,"iframe")},end:function(){z.push("</iframe>")}},"k:script":{start:function(e){v(e,"script")},end:function(){z.push("</script>")},skipEncoding:!0},span:{semantic:!0,start:function(t){var i,n,o=t.style,r=w(t),a=d(r);a.length&&(z.push("<span"),x(t,a),z.push(">")),"underline"==o.textDecoration&&z.push("<u>"),i=[],o.color&&i.push('color="'+l.toHex(o.color)+'"'),o.fontFamily&&i.push('face="'+o.fontFamily+'"'),o.fontSize&&(n=e.inArray(o.fontSize,c),i.push('size="'+n+'"')),i.length&&z.push("<font "+i.join(" ")+">")},end:function(e){var t=e.style;(t.color||t.fontFamily||t.fontSize)&&z.push("</font>"),"underline"==t.textDecoration&&z.push("</u>"),d(w(e)).length&&z.push("</span>")}},strong:{semantic:!0,start:function(e){v(e,"b")},end:function(){z.push("</b>")}},em:{semantic:!0,start:function(e){v(e,"i")},end:function(){z.push("</i>")}},b:{semantic:!1,start:function(e){v(e,"strong")},end:function(){z.push("</strong>")}},i:{semantic:!1,start:function(e){v(e,"em")},end:function(){z.push("</em>")}},u:{semantic:!1,start:function(t){var i,n,o;z.push("<span"),i=w(t),n=e(i).filter(function(e,t){return"style"==t.name})[0],o={nodeName:"style",value:"text-decoration:underline;"},n&&(o.value=n.value,/text-decoration/i.test(o.value)||(o.value="text-decoration:underline;"+o.value),i.splice(e.inArray(n,i),1)),i.push(o),x(t,i),z.push(">")},end:function(){z.push("</span>")}},font:{semantic:!1,start:function(e){var t,i,n;z.push('<span style="'),t=e.getAttribute("color"),i=c[e.getAttribute("size")],n=e.getAttribute("face"),t&&(z.push("color:"),z.push(l.toHex(t)),z.push(";")),n&&(z.push("font-family:"),z.push(n),z.push(";")),i&&(z.push("font-size:"),z.push(i),z.push(";")),z.push('">')},end:function(){z.push("</span>")}}};return E.script=E["k:script"],r=r||{},t===r.semantic&&(r.semantic=!0),S(n)?(z=l.encode(T(n.firstChild).replace(/[\r\n\v\f\t ]+/," "),r),R(),z):(C(n),z=z.join(""),R(),""===z.replace(f,"").replace(m,"")?"":z)}},d(s,{Serializer:r})}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("editor/range.min",["editor/serializer.min"],e)}(function(){!function(e){function t(e,t,i,n){var o,r,a,s;if(e==t)return n-i;for(o=t;o&&o.parentNode!=e;)o=o.parentNode;if(o)return x(o)-i;for(o=e;o&&o.parentNode!=t;)o=o.parentNode;if(o)return n-x(o)-1;for(r=w.commonAncestor(e,t),a=e;a&&a.parentNode!=r;)a=a.parentNode;for(a||(a=r),s=t;s&&s.parentNode!=r;)s=s.parentNode;return s||(s=r),a==s?0:x(s)-x(a)}function i(e,i){function n(e){try{return t(e.startContainer,e.endContainer,e.startOffset,e.endOffset)<0}catch(i){return!0}}n(e)&&(i?(e.commonAncestorContainer=e.endContainer=e.startContainer,e.endOffset=e.startOffset):(e.commonAncestorContainer=e.startContainer=e.endContainer,e.startOffset=e.endOffset),e.collapsed=!0)}function n(e){e.collapsed=e.startContainer==e.endContainer&&e.startOffset==e.endOffset;for(var t=e.startContainer;t&&t!=e.endContainer&&!w.isAncestorOf(t,e.endContainer);)t=t.parentNode;e.commonAncestorContainer=t}function o(e){var t=e.duplicate(),i=e.duplicate();return t.collapse(!0),i.collapse(!1),w.commonAncestor(e.parentElement(),t.parentElement(),i.parentElement())}function r(e,t,i){var n,o=t[i?"startContainer":"endContainer"],r=t[i?"startOffset":"endOffset"],a=0,s=C(o),l=s?o:o.childNodes[r]||null,d=s?o.parentNode:o,c=t.ownerDocument,u=c.body.createTextRange();3!=o.nodeType&&4!=o.nodeType||(a=r),d||(d=c.body),"img"==d.nodeName.toLowerCase()?(u.moveToElementText(d),u.collapse(!1),e.setEndPoint(i?"StartToStart":"EndToStart",u)):(n=d.insertBefore(w.create(c,"a"),l),u.moveToElementText(n),w.remove(n),u[i?"moveStart":"moveEnd"]("character",a),u.collapse(!1),e.setEndPoint(i?"StartToStart":"EndToStart",u))}function a(e,t,i,n){var o,r,a,s,l,d,c,u=w.create(t.ownerDocument,"a"),f=e.duplicate(),p=n?"StartToStart":"StartToEnd",m=!1;u.innerHTML="\ufeff",f.collapse(n),r=f.parentElement(),w.isAncestorOrSelf(i,r)||(r=i);do m?r.insertBefore(u,u.previousSibling):(r.appendChild(u),m=!0),f.moveToElementText(u);while((o=f.compareEndPoints(p,e))>0&&u.previousSibling);a=u.nextSibling,o==-1&&C(a)?(f.setEndPoint(n?"EndToStart":"EndToEnd",e),w.remove(u),d=[a,f.text.length]):(s=!n&&u.previousSibling,l=n&&u.nextSibling,C(l)?d=[l,0]:C(s)?d=[s,s.length]:(c=x(u),d=r.nextSibling&&c==r.childNodes.length-1?[r.nextSibling,0]:[r,c]),w.remove(u)),t[n?"setStart":"setEnd"].apply(t,d)}var s,l,d,c,u,f,p,m,h,g=window.kendo,b=g.Class,v=e.extend,k=g.ui.editor,y=g.support.browser,w=k.Dom,x=w.findNodeIndex,C=w.isDataNode,T=w.findClosestAncestor,_=w.getNodeLength,N=w.normalize,S={selectionFromWindow:function(e){return"getSelection"in e?e.getSelection():new l(e.document)},selectionFromRange:function(e){var t=h.documentFromRange(e);return S.selectionFromDocument(t)},selectionFromDocument:function(e){return S.selectionFromWindow(w.windowFromDocument(e))}},R=b.extend({init:function(t){e.extend(this,{ownerDocument:t,startContainer:t,endContainer:t,commonAncestorContainer:t,startOffset:0,endOffset:0,collapsed:!0})},setStart:function(e,t){this.startContainer=e,this.startOffset=t,n(this),i(this,!0)},setEnd:function(e,t){this.endContainer=e,this.endOffset=t,n(this),i(this,!1)},setStartBefore:function(e){this.setStart(e.parentNode,x(e))},setStartAfter:function(e){this.setStart(e.parentNode,x(e)+1)},setEndBefore:function(e){this.setEnd(e.parentNode,x(e))},setEndAfter:function(e){this.setEnd(e.parentNode,x(e)+1)},selectNode:function(e){this.setStartBefore(e),this.setEndAfter(e)},selectNodeContents:function(e){this.setStart(e,0),this.setEnd(e,e[1===e.nodeType?"childNodes":"nodeValue"].length)},collapse:function(e){var t=this;e?t.setEnd(t.startContainer,t.startOffset):t.setStart(t.endContainer,t.endOffset)},deleteContents:function(){var e=this,t=e.cloneRange();e.startContainer!=e.commonAncestorContainer&&e.setStartAfter(T(e.commonAncestorContainer,e.startContainer)),e.collapse(!0),function i(e){for(;e.next();)e.hasPartialSubtree()?i(e.getSubtreeIterator()):e.remove()}(new s(t))},cloneContents:function(){var e=h.documentFromRange(this);return function t(i){for(var n,o=e.createDocumentFragment();n=i.next();)n=n.cloneNode(!i.hasPartialSubtree()),i.hasPartialSubtree()&&n.appendChild(t(i.getSubtreeIterator())),o.appendChild(n);return o}(new s(this))},extractContents:function(){var e,t=this,i=t.cloneRange();return t.startContainer!=t.commonAncestorContainer&&t.setStartAfter(T(t.commonAncestorContainer,t.startContainer)),t.collapse(!0),e=h.documentFromRange(t),function n(i){for(var o,r=e.createDocumentFragment();o=i.next();)i.hasPartialSubtree()?(o=o.cloneNode(!1),o.appendChild(n(i.getSubtreeIterator()))):i.remove(t.originalRange),r.appendChild(o);return r}(new s(i))},insertNode:function(e){var t=this;C(t.startContainer)?(t.startOffset!=t.startContainer.nodeValue.length&&w.splitDataNode(t.startContainer,t.startOffset),w.insertAfter(e,t.startContainer)):w.insertAt(t.startContainer,e,t.startOffset),t.setStart(t.startContainer,t.startOffset)},cloneRange:function(){return e.extend(new R(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var e=this.startContainer.nodeName,t=this.endContainer.nodeName;return("#text"==e?this.startContainer.nodeValue:e)+"("+this.startOffset+") : "+("#text"==t?this.endContainer.nodeValue:t)+"("+this.endOffset+")"}});R.fromNode=function(e){return new R(e.ownerDocument)},s=b.extend({init:function(t){if(e.extend(this,{range:t,_current:null,_next:null,_end:null}),!t.collapsed){var i=t.commonAncestorContainer;this._next=t.startContainer!=i||C(t.startContainer)?T(i,t.startContainer):t.startContainer.childNodes[t.startOffset],this._end=t.endContainer!=i||C(t.endContainer)?T(i,t.endContainer).nextSibling:t.endContainer.childNodes[t.endOffset]}},hasNext:function(){return!!this._next},next:function(){var e=this,t=e._current=e._next;return e._next=e._current&&e._current.nextSibling!=e._end?e._current.nextSibling:null,C(e._current)&&(e.range.endContainer==e._current&&(t=t.cloneNode(!0),t.deleteData(e.range.endOffset,t.length-e.range.endOffset)),e.range.startContainer==e._current&&(t=t.cloneNode(!0),t.deleteData(0,e.range.startOffset))),t},traverse:function(e){function t(){return n._current=n._next,n._next=n._current&&n._current.nextSibling!=n._end?n._current.nextSibling:null,n._current}for(var i,n=this;i=t();)n.hasPartialSubtree()?n.getSubtreeIterator().traverse(e):e(i);return i},remove:function(e){var t,i,n,o,r,a=this,s=a.range.startContainer==a._current,l=a.range.endContainer==a._current;C(a._current)&&(s||l)?(t=s?a.range.startOffset:0,i=l?a.range.endOffset:a._current.length,n=i-t,e&&(s||l)&&(a._current==e.startContainer&&t<=e.startOffset&&(e.startOffset-=n),a._current==e.endContainer&&i<=e.endOffset&&(e.endOffset-=n)),a._current.deleteData(t,n)):(o=a._current.parentNode,!e||a.range.startContainer!=o&&a.range.endContainer!=o||(r=x(a._current),o==e.startContainer&&r<=e.startOffset&&(e.startOffset-=1),o==e.endContainer&&r<e.endOffset&&(e.endOffset-=1)),w.remove(a._current))},hasPartialSubtree:function(){return!C(this._current)&&(w.isAncestorOrSelf(this._current,this.range.startContainer)||w.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIterator:function(){return new s(this.getSubRange())},getSubRange:function(){var e=this,t=e.range.cloneRange();return t.selectNodeContents(e._current),w.isAncestorOrSelf(e._current,e.range.startContainer)&&t.setStart(e.range.startContainer,e.range.startOffset),w.isAncestorOrSelf(e._current,e.range.endContainer)&&t.setEnd(e.range.endContainer,e.range.endOffset),t}}),l=b.extend({init:function(e){this.ownerDocument=e,this.rangeCount=1},addRange:function(e){var t=this.ownerDocument.body.createTextRange();r(t,e,!1),r(t,e,!0),t.select()},removeAllRanges:function(){var e=this.ownerDocument.selection;"None"!=e.type&&e.empty()},getRangeAt:function(){var e,t,i,n,r,s,l,d,c=new R(this.ownerDocument),u=this.ownerDocument.selection;try{if(e=u.createRange(),t=e.item?e.item(0):e.parentElement(),t.ownerDocument!=this.ownerDocument)return c}catch(f){return c}if("Control"==u.type)c.selectNode(e.item(0));else if(i=o(e),a(e,c,i,!0),a(e,c,i,!1),9==c.startContainer.nodeType&&c.setStart(c.endContainer,c.startOffset),9==c.endContainer.nodeType&&c.setEnd(c.startContainer,c.endOffset),0===e.compareEndPoints("StartToEnd",e)&&c.collapse(!1),n=c.startContainer,r=c.endContainer,s=this.ownerDocument.body,!(c.collapsed||0!==c.startOffset||c.endOffset!=_(c.endContainer)||n==r&&C(n)&&n.parentNode==s)){for(l=!1,d=!1;0===x(n)&&n==n.parentNode.firstChild&&n!=s;)n=n.parentNode,l=!0;for(;x(r)==_(r.parentNode)-1&&r==r.parentNode.lastChild&&r!=s;)r=r.parentNode,d=!0;n==s&&r==s&&l&&d&&(c.setStart(n,0),c.setEnd(r,_(s)))}return c}}),d=b.extend({init:function(e){this.enumerate=function(){function t(e){if(w.is(e,"img")||3==e.nodeType&&(!w.isEmptyspace(e)||"\ufeff"==e.nodeValue))i.push(e);else for(e=e.firstChild;e;)t(e),e=e.nextSibling}var i=[];return new s(e).traverse(t),i}}}),c=s.extend({hasPartialSubtree:function(){var e=k.Immutables&&k.Immutables.immutable;return e&&!e(this._current)&&s.fn.hasPartialSubtree.call(this)},getSubtreeIterator:function(){return new c(this.getSubRange())}}),u=b.extend({init:function(e){this.enumerate=function(){function t(e){if(n&&!n(e))if(w.is(e,"img")||3==e.nodeType&&(!w.isEmptyspace(e)||"\ufeff"==e.nodeValue))i.push(e);else for(e=e.firstChild;e;)t(e),e=e.nextSibling}var i=[],n=k.Immutables&&k.Immutables.immutable;return new c(e).traverse(t),i}}}),f=b.extend({init:function(e,t,i){var n=this;n.range=e,n.rootNode=h.documentFromRange(e),n.body=t||n.getEditable(e),"body"!=w.name(n.body)&&(n.rootNode=n.body),n.startContainer=n.nodeToPath(e.startContainer),n.endContainer=n.nodeToPath(e.endContainer),n.startOffset=n.offset(e.startContainer,e.startOffset),n.endOffset=n.offset(e.endContainer,e.endOffset),n.immutables=i&&i.immutables,n.immutables&&(n.serializedImmutables=k.Immutables.removeImmutables(n.body)),n.html=n.body.innerHTML,n.immutables&&!n.serializedImmutables.empty&&k.Immutables.restoreImmutables(n.body,n.serializedImmutables)},index:function(e){for(var t,i=0,n=e.nodeType;e=e.previousSibling;)t=e.nodeType,3==t&&n==t||i++,n=t;return i},getEditable:function(e){for(var t=e.commonAncestorContainer;t&&(3==t.nodeType||t.attributes&&(!t.attributes.contentEditable||"false"==t.attributes.contentEditable.nodeValue.toLowerCase()));)t=t.parentNode;return t},restoreHtml:function(){var e=this;w.removeChildren(e.body),e.body.innerHTML=e.html,e.immutables&&!e.serializedImmutables.empty&&k.Immutables.restoreImmutables(e.body,e.serializedImmutables)},offset:function(e,t){if(3==e.nodeType)for(;(e=e.previousSibling)&&3==e.nodeType;)t+=e.nodeValue.length;return t},nodeToPath:function(e){for(var t=[];e!=this.rootNode;)t.push(this.index(e)),e=e.parentNode;return t},toRangePoint:function(e,t,i,n){for(var o=this.rootNode,r=i.length,a=n;r--;)o=o.childNodes[i[r]];for(;o&&3==o.nodeType&&o.nodeValue.length<a;)a-=o.nodeValue.length,o=o.nextSibling;o&&a>=0&&e[t?"setStart":"setEnd"](o,a)},toRange:function(){var e=this,t=e.range.cloneRange();return e.toRangePoint(t,!0,e.startContainer,e.startOffset),e.toRangePoint(t,!1,e.endContainer,e.endOffset),t}}),p=b.extend({init:function(){this.caret=null},addCaret:function(e){var t=this,i=t.caret=w.create(h.documentFromRange(e),"span",{className:"k-marker"});return e.insertNode(i),w.stripBomNode(i.previousSibling),w.stripBomNode(i.nextSibling),e.selectNode(i),i},removeCaret:function(e){var t,i,n,o,r=this,a=r.caret.previousSibling,s=0;a&&(s=C(a)?a.nodeValue.length:x(a)),t=r.caret.parentNode,i=a?x(a):0,w.remove(r.caret),N(t),n=t.childNodes[i],C(n)?e.setStart(n,s):n?(o=w.lastTextNode(n),o?e.setStart(o,o.nodeValue.length):e[a?"setStartAfter":"setStartBefore"](n)):(y.msie||t.innerHTML||(t.innerHTML='<br _moz_dirty="" />'),e.selectNodeContents(t)),e.collapse(!0)},add:function(e,t){var i,n,o=this,r=e.collapsed&&!h.isExpandable(e),a=h.documentFromRange(e);return t&&e.collapsed&&(o.addCaret(e),e=h.expand(e)),i=e.cloneRange(),i.collapse(!1),o.end=w.create(a,"span",{className:"k-marker"}),i.insertNode(o.end),i=e.cloneRange(),i.collapse(!0),o.start=o.end.cloneNode(!0),i.insertNode(o.start),o._removeDeadMarkers(o.start,o.end),r&&(n=a.createTextNode("\ufeff"),w.insertAfter(n.cloneNode(),o.start),w.insertBefore(n,o.end)),N(e.commonAncestorContainer),e.setStartBefore(o.start),e.setEndAfter(o.end),e},_removeDeadMarkers:function(e,t){e.previousSibling&&"\ufeff"==e.previousSibling.nodeValue&&w.remove(e.previousSibling),t.nextSibling&&"\ufeff"==t.nextSibling.nodeValue&&w.remove(t.nextSibling)},_normalizedIndex:function(e){for(var t=x(e),i=e;i.previousSibling;)3==i.nodeType&&3==i.previousSibling.nodeType&&t--,i=i.previousSibling;return t},remove:function(e){var t,i,n,o,r,a,s,l,d,c,u,f,p=this,m=p.start,h=p.end;for(N(e.commonAncestorContainer);!m.nextSibling&&m.parentNode;)m=m.parentNode;for(;!h.previousSibling&&h.parentNode;)h=h.parentNode;if(t=m.previousSibling&&3==m.previousSibling.nodeType&&m.nextSibling&&3==m.nextSibling.nodeType,i=h.previousSibling&&3==h.previousSibling.nodeType&&h.nextSibling&&3==h.nextSibling.nodeType,n=t&&i,m=m.nextSibling,h=h.previousSibling,o=m===h&&w.isBom(m),o&&m.length>1&&(m.nodeValue=m.nodeValue.charAt(0)),r=o,a=!1,m==p.end&&(a=!!p.start.previousSibling,m=h=p.start.previousSibling||p.end.nextSibling,r=!0),w.remove(p.start),w.remove(p.end),!m||!h)return e.selectNodeContents(e.commonAncestorContainer),void e.collapse(!0);if(s=r?C(m)?m.nodeValue.length:m.childNodes.length:0,l=C(h)?h.nodeValue.length:h.childNodes.length,3==m.nodeType)for(;m.previousSibling&&3==m.previousSibling.nodeType;)m=m.previousSibling,s+=m.nodeValue.length;if(3==h.nodeType)for(;h.previousSibling&&3==h.previousSibling.nodeType;)h=h.previousSibling,l+=h.nodeValue.length;d=m.parentNode,c=h.parentNode,u=this._normalizedIndex(m),f=this._normalizedIndex(h),N(d),3==m.nodeType&&(m=d.childNodes[u]),N(c),3==h.nodeType&&(h=c.childNodes[f]),r?(3==m.nodeType?e.setStart(m,s):e[a?"setStartAfter":"setStartBefore"](m),e.collapse(!0)):(3==m.nodeType?e.setStart(m,s):e.setStartBefore(m),3==h.nodeType?e.setEnd(h,l):e.setEndAfter(h)),p.caret&&p.removeCaret(e)}}),m=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/,h={nodes:function(e){var t=h.textNodes(e);return t.length||(e.selectNodeContents(e.commonAncestorContainer),t=h.textNodes(e),t.length||(t=w.significantChildNodes(e.commonAncestorContainer))),t},textNodes:function(e){return new d(e).enumerate()},editableTextNodes:function(e){var t=[],i=k.Immutables&&k.Immutables.immutableParent;return i&&!i(e.commonAncestorContainer)&&(t=new u(e).enumerate()),t},documentFromRange:function(e){var t=e.startContainer;return 9==t.nodeType?t:t.ownerDocument},createRange:function(e){return y.msie&&y.version<9?new R(e):e.createRange()},selectRange:function(e){var t,i=h.image(e);i&&(e.setStartAfter(i),e.setEndAfter(i)),t=S.selectionFromRange(e),t.removeAllRanges(),t.addRange(e)},stringify:function(e){return g.format("{0}:{1} - {2}:{3}",w.name(e.startContainer),e.startOffset,w.name(e.endContainer),e.endOffset)},split:function(e,t,i){function n(n){var o,r=e.cloneRange();r.collapse(n),r[n?"setStartBefore":"setEndAfter"](t),
o=r.extractContents(),i&&(o=w.trim(o)),w[n?"insertBefore":"insertAfter"](o,t)}n(!0),n(!1)},mapAll:function(t,i){var n=[];return new s(t).traverse(function(t){var o=i(t);o&&e.inArray(o,n)<0&&n.push(o)}),n},getAll:function(e,t){var i=t;return"string"==typeof t&&(t=function(e){return w.is(e,i)}),h.mapAll(e,function(e){if(t(e))return e})},getMarkers:function(e){return h.getAll(e,function(e){return"k-marker"==e.className})},image:function(e){var t=h.getAll(e,"img");if(1==t.length)return t[0]},isStartOf:function(e,t){var i,n,o;if(0!==e.startOffset)return!1;for(i=e.cloneRange();0===i.startOffset&&i.startContainer!=t;){for(n=w.findNodeIndex(i.startContainer),o=i.startContainer.parentNode;n>0&&o[n-1]&&w.insignificant(o[n-1]);)n--;i.setStart(o,n)}return 0===i.startOffset&&i.startContainer==t},isEndOf:function(e,t){function i(e){w.insignificant(e)||w.isDataNode(e)&&/^[\ufeff]*$/.test(e.nodeValue)||o.push(e)}var n,o,r=e.cloneRange();return r.collapse(!1),n=r.startContainer,w.isDataNode(n)&&r.startOffset==w.getNodeLength(n)&&(r.setStart(n.parentNode,w.findNodeIndex(n)+1),r.collapse(!0)),r.setEnd(t,w.getNodeLength(t)),o=[],new s(r).traverse(i),!o.length},wrapSelectedElements:function(e){function t(e,t){var i,n=w.getNodeLength(t);if(e==n)return!0;for(i=e;i<n;i++)if(!w.insignificant(t.childNodes[i]))return!1;return!0}for(var i=w.editableParent(e.startContainer),n=w.editableParent(e.endContainer);0===e.startOffset&&e.startContainer!=i;)e.setStart(e.startContainer.parentNode,w.findNodeIndex(e.startContainer));for(;t(e.endOffset,e.endContainer)&&e.endContainer!=n;)e.setEnd(e.endContainer.parentNode,w.findNodeIndex(e.endContainer)+1);return e},expand:function(e){var t,i,n,o,r=e.cloneRange(),a=r.startContainer.childNodes[0===r.startOffset?0:r.startOffset-1],s=r.endContainer.childNodes[r.endOffset];return C(a)&&C(s)?(t=a.nodeValue,i=s.nodeValue,t&&i?(n=t.split("").reverse().join("").search(m),o=i.search(m),n&&o?(o=o==-1?i.length:o,n=n==-1?0:t.length-n,r.setStart(a,n),r.setEnd(s,o),r):r):r):r},isExpandable:function(e){var t,i,n,o,r,a,s=e.startContainer,l=h.documentFromRange(e);return s!=l&&s!=l.body&&(t=e.cloneRange(),!!(i=s.nodeValue)&&(n=i.substring(0,t.startOffset),o=i.substring(t.startOffset),r=0,a=0,n&&(r=n.split("").reverse().join("").search(m)),o&&(a=o.search(m)),r&&a))}},v(k,{SelectionUtils:S,W3CRange:R,RangeIterator:s,W3CSelection:l,RangeEnumerator:d,RestorePoint:f,Marker:p,RangeUtils:h})}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("editor/system.min",["editor/range.min"],e)}(function(){!function(e){function t(e,t){var i=e.selectionRestorePoint=new p(e.getRange(),e.body),n=new w(t,i);return n.editor=e,e.undoRedoStack.push(n),i}function i(e,t){return t.startContainer===e&&t.endContainer===e&&0===t.startOffset&&t.endOffset==e.childNodes.length}function n(e,t,i){for(var n=e?e[t]:null;n&&!i(n);)n=n[t];return n}var o=window.kendo,r=o.Class,a=o.ui.editor,s=a.EditorUtils,l=a.RangeUtils,d=s.registerTool,c=a.Dom,u=a.Tool,f=a.ToolTemplate,p=a.RestorePoint,m=a.Marker,h=o.support.browser,g='<br class="k-br">',b=e.extend,v=c.nodeTypes,k="previousSibling",y=r.extend({init:function(e){this.options=e,this.restorePoint=new p(e.range,e.body,{immutables:e.immutables}),this.marker=new m,this.formatter=e.formatter},getRange:function(){return this.restorePoint.toRange()},lockRange:function(e){return this.marker.add(this.getRange(),e)},releaseRange:function(e){this.marker.remove(e),this.editor.selectRange(e)},undo:function(){var e=this.restorePoint;e.restoreHtml(),this.editor.selectRange(e.toRange())},redo:function(){this.exec()},createDialog:function(t,i){var n=this.editor;return e(t).appendTo(document.body).kendoWindow(b({},n.options.dialogOptions,i)).closest(".k-window").toggleClass("k-rtl",o.support.isRtl(n.wrapper)).end()},exec:function(){var e=this.lockRange(!0);this.formatter.editor=this.editor,this.formatter.toggle(e),this.releaseRange(e)},immutables:function(){return this.editor&&this.editor.options.immutables},expandImmutablesIn:function(e){this.immutables()&&(o.ui.editor.Immutables.expandImmutablesIn(e),this.restorePoint=new p(e,this.editor.body))}}),w=r.extend({init:function(e,t){this.body=e.body,this.startRestorePoint=e,this.endRestorePoint=t},redo:function(){c.removeChildren(this.body),this.body.innerHTML=this.endRestorePoint.html,this.editor.selectRange(this.endRestorePoint.toRange())},undo:function(){c.removeChildren(this.body),this.body.innerHTML=this.startRestorePoint.html,this.editor.selectRange(this.startRestorePoint.toRange())}}),x=y.extend({init:function(e){y.fn.init.call(this,e),this.managesUndoRedo=!0},exec:function(){var e,t=this.editor,i=this.options,n=i.range,o=t.body,r=new p(n,o),a=i.html||i.value||"";t.selectRange(n),t.clipboard.paste(a,i),i.postProcess&&i.postProcess(t,t.getRange()),e=new w(r,new p(t.getRange(),o)),e.editor=t,t.undoRedoStack.push(e),t.focus()}}),C=u.extend({initialize:function(e,t){var i=t.editor,n=this.options,o=n.items?n.items:i.options.insertHtml;this._selectBox=new a.SelectBox(e,{dataSource:o,dataTextField:"text",dataValueField:"value",change:function(){u.exec(i,"insertHtml",this.value())},title:i.options.messages.insertHtml,highlightFirst:!1})},command:function(e){return new x(e)},update:function(e){var t=e.data("kendoSelectBox")||e.find("select").data("kendoSelectBox");t.close(),t.value(t.options.title)}}),T="td,th,caption",_="table,tbody,thead,tfoot,tr",N=_+","+T,S=function(t){return!t.collapsed&&e(t.commonAncestorContainer).is(_)},R=r.extend({remove:function(t){var i,n,o,r,a,s,d,u=this,f=new m;f.add(t,!1),i=l.getAll(t,function(t){return e(t).is(N)}),n=l.documentFromRange(t),o=f.start,r=f.end,a=T.split(","),s=c.parentOfType(o,a),d=c.parentOfType(r,a),u._removeContent(o,s,!0),u._removeContent(r,d,!1),e(i).each(function(t,i){i=e(i),(i.is(T)?i:i.find(T)).each(function(e,t){t.innerHTML="&#65279;"})}),s&&!o.previousSibling&&c.insertBefore(n.createTextNode("\ufeff"),o),d&&!r.nextSibling&&c.insertAfter(n.createTextNode("\ufeff"),r),s?t.setStartBefore(o):i[0]&&(s=e(i[0]),s=s.is(T)?s:s.find(T).first(),s.length&&t.setStart(s.get(0),0)),t.collapse(!0),c.remove(o),c.remove(r)},_removeContent:function(t,i,n){if(i){var o,r=n?"nextSibling":"previousSibling",a=function(t){for(;t&&!t[r];)t=t.parentNode;return t&&e.contains(i,t)?t[r]:null};for(t=a(t);t;)o=a(t),c.remove(t),t=o}}}),z=r.extend({init:function(e){this.editor=e},keydown:function(n){var o,r,s,l,d=this,c=d.editor,u=c.keyboard,f=u.isTypingKey(n),m=b(e.Event(),n);return d.editor.trigger("keydown",m),m.isDefaultPrevented()?(n.preventDefault(),!0):!(m.isDefaultPrevented()||!f||u.isTypingInProgress())&&(o=c.getRange(),r=c.body,d.startRestorePoint=new p(o,r),S(o)&&(s=new R(c),s.remove(o),c.selectRange(o)),h.webkit&&!o.collapsed&&i(r,o)&&(r.innerHTML=""),c.immutables&&a.Immutables.immutablesContext(o)&&(l=new a.BackspaceHandler(c),l.deleteSelection(o)),u.startTyping(function(){d.endRestorePoint=t(c,d.startRestorePoint)}),!0)},keyup:function(e){var t=this.editor.keyboard;return this.editor.trigger("keyup",e),!!t.isTypingInProgress()&&(t.endTyping(),!0)}}),A=r.extend({init:function(e){this.editor=e},_addCaret:function(e){var t=c.create(this.editor.document,"a");return c.insertAt(e,t,0),c.stripBomNode(t.previousSibling),c.stripBomNode(t.nextSibling),t},_restoreCaret:function(e){var t=this.editor.createRange();!e.nextSibling&&c.isDataNode(e.previousSibling)?t.setStart(e.previousSibling,e.previousSibling.length):t.setStartAfter(e),t.collapse(!0),this.editor.selectRange(t),c.remove(e)},_handleDelete:function(e){var t,i,n=e.endContainer,o=c.closestEditableOfType(n,c.blockElements);return!(!o||!a.RangeUtils.isEndOf(e,o))&&(t=c.next(o),!(!t||"p"!=c.name(t))&&(i=this._addCaret(t),this._merge(o,t),this._restoreCaret(i),!0))},_cleanBomBefore:function(e){for(var t=e.startOffset,i=e.startContainer,n=i.nodeValue,o=0;t-o>=0&&"\ufeff"==n[t-o-1];)o++;o>0&&(i.deleteData(t-o,o),e.setStart(i,Math.max(0,t-o)),e.collapse(!0),this.editor.selectRange(e))},_handleBackspace:function(t){var i,o,r,s,l,d,u,f,p,m,h,g,b,v=t.startContainer,y=c.closestEditableOfType(v,["li"]),w=c.closestEditableOfType(v,"p,h1,h2,h3,h4,h5,h6".split(",")),x=this.editor;if(c.isDataNode(v)){if(t.collapsed&&/^\s[\ufeff]+$/.test(v.nodeValue))return t.setStart(v,0),t.setEnd(v,v.length),x.selectRange(t),!1;this._cleanBomBefore(t)}return i=n(w,k,function(e){return!c.htmlIndentSpace(e)}),t.collapsed&&t.startOffset!==t.endOffset&&t.startOffset<0&&(t.startOffset=0,t.endOffset=0,x.selectRange(t)),o=y&&a.RangeUtils.isStartOf(t,y),r=y&&e(y).index(),s=o&&r>0,s&&(w=y,i=c.prev(y)),w&&i&&a.RangeUtils.isStartOf(t,w)||s?(l=this._addCaret(w),this._merge(i,w),this._restoreCaret(l),!0):o&&0===r?(d=y.firstChild,d||(y.innerHTML=a.emptyElementContent,d=y.firstChild),u=new a.ListFormatter(c.name(y.parentNode),"p"),t.selectNodeContents(y),u.toggle(t),c.insignificant(d)?t.setStartBefore(d):t.setStart(d,0),x.selectRange(t),!0):(f=v.childNodes[t.startOffset-1],p=t,m=f&&c.closestEditableOfType(f,["a"]),h=n(f||v,k,function(e){return!c.isDataNode(e)||!c.isBom(e)&&e.length>0}),(m||(0===t.startOffset||f)&&c.is(h,"a"))&&(m=m||h,p=x.createRange(),p.setStart(m,m.childNodes.length),p.collapse(!0)),m=m||c.closestEditableOfType(f||p.startContainer,["a"]),g=m&&a.RangeUtils.isEndOf(p,m),g&&(b=new a.UnlinkCommand({range:p,body:x.body,immutables:!!x.immutables}),x.execCommand(b),x._selectionChange()),!1)},_handleSelection:function(t){var i,n,o,r,s=t.commonAncestorContainer,l=c.closest(s,"table"),d=a.emptyElementContent,u=this.editor;return S(t)?(i=new R(u),i.remove(t),u.selectRange(t),!0):(n=new m,n.add(t,!1),u.immutables&&this._handleImmutables(n),this._surroundFullySelectedAnchor(n,t),t.setStartAfter(n.start),t.setEndBefore(n.end),o=t.startContainer,r=t.endContainer,t.deleteContents(),l&&""===e(l).text()&&(t.selectNode(l),t.deleteContents()),s=t.commonAncestorContainer,"p"===c.name(s)&&""===s.innerHTML&&(s.innerHTML=d,t.setStart(s,0)),this._join(o,r),c.insertAfter(u.document.createTextNode("\ufeff"),n.start),n.remove(t),o=t.startContainer,"tr"==c.name(o)&&(o=o.childNodes[Math.max(0,t.startOffset-1)],t.setStart(o,c.getNodeLength(o))),t.collapse(!0),u.selectRange(t),!0)},_handleImmutables:function(e){var t=a.Immutables.immutableParent,i=t(e.start),n=t(e.start);i&&c.insertBefore(e.start,i),n&&c.insertAfter(e.end,n),i&&c.remove(i),n&&n.parentNode&&c.remove(n)},_surroundFullySelectedAnchor:function(t,i){var n=t.start,o=e(n).closest("a").get(0),r=t.end,a=e(r).closest("a").get(0);o&&l.isStartOf(i,o)&&c.insertBefore(n,o),a&&l.isEndOf(i,a)&&c.insertAfter(r,a)},_root:function(e){for(;e&&e.parentNode&&"body"!=c.name(e.parentNode);)e=e.parentNode;return e},_join:function(e,t){e=this._root(e),t=this._root(t),e!=t&&c.is(t,"p")&&this._merge(e,t)},_merge:function(e,t){for(c.removeTrailingBreak(e);e&&t.firstChild;)1==e.nodeType?(e=c.list(e)?e.children[e.children.length-1]:e,e&&e.appendChild(t.firstChild)):e.nodeType===v.TEXT_NODE?this._mergeWithTextNode(e,t.firstChild):e.parentNode.appendChild(t.firstChild);c.remove(t)},_mergeWithTextNode:function(e,t){e&&e.nodeType===v.TEXT_NODE&&(e.nextSibling&&this._isCaret(e.nextSibling)?c.insertAfter(t,e.nextSibling):c.insertAfter(t,e))},_isCaret:function(t){return e(t).is("a")},keydown:function(e){var i,n,r=this.editor,a=r.getRange(),s=e.keyCode,l=o.keys,d=s===l.BACKSPACE,c=s==l.DELETE;r.immutables&&r.immutables.keydown(e,a)||(!d&&!c||a.collapsed?d?i="_handleBackspace":c&&(i="_handleDelete"):i="_handleSelection",i&&(n=new p(a,r.body),this[i](a)&&(e.preventDefault(),t(r,n))))},deleteSelection:function(e){this._handleSelection(e)},keyup:e.noop}),E=r.extend({init:function(e){this.editor=e,this.systemCommandIsInProgress=!1},createUndoCommand:function(){this.startRestorePoint=this.endRestorePoint=t(this.editor,this.startRestorePoint)},changed:function(){return!!this.startRestorePoint&&this.startRestorePoint.html!=this.editor.body.innerHTML},keydown:function(e){var t=this,i=t.editor,n=i.keyboard;return n.isModifierKey(e)?(n.isTypingInProgress()&&n.endTyping(!0),t.startRestorePoint=new p(i.getRange(),i.body),!0):!!n.isSystem(e)&&(t.systemCommandIsInProgress=!0,t.changed()&&(t.systemCommandIsInProgress=!1,t.createUndoCommand()),!0)},keyup:function(){var e=this;return!(!e.systemCommandIsInProgress||!e.changed())&&(e.systemCommandIsInProgress=!1,e.createUndoCommand(),!0)}}),D=r.extend({init:function(e){this.editor=e},keydown:function(e){!h.webkit||e.isDefaultPrevented()||!e.ctrlKey||65!=e.keyCode||e.altKey||e.shiftKey||(this.editor.options.immutables&&this._toSelectableImmutables(),this._selectEditorBody())},_selectEditorBody:function(){var e=this.editor,t=e.getRange();t.selectNodeContents(e.body),e.selectRange(t)},_toSelectableImmutables:function(){for(var t=this.editor,i=t.body,n=a.Immutables.immutable,o=c.emptyTextNode,r=i.firstChild,s=i.lastChild;o(r);)r=r.nextSibling;for(;o(s);)s=s.previousSibling;r&&n(r)&&e(g).prependTo(i),s&&n(s)&&e(g).appendTo(i)},keyup:e.noop}),P=r.extend({init:function(e){this.handlers=e,this.typingInProgress=!1},isCharacter:function(e){return e>=48&&e<=90||e>=96&&e<=111||e>=186&&e<=192||e>=219&&e<=222||229==e},toolFromShortcut:function(t,i){var n,o,r=String.fromCharCode(i.keyCode),a=this._getShortcutModifier(i,navigator.platform);for(n in t)if(o=e.extend({ctrl:!1,alt:!1,shift:!1},t[n].options),(o.key==r||o.key==i.keyCode)&&o.ctrl==a&&o.alt==i.altKey&&o.shift==i.shiftKey)return n},_getShortcutModifier:function(e,t){var i=t.toUpperCase().indexOf("MAC")>=0;return i?e.metaKey:e.ctrlKey},toolsFromShortcut:function(t,i){var n,o,r,a=String.fromCharCode(i.keyCode),s=[],l=function(e){return e==a||e==i.keyCode||e==i.charCode};for(n in t)o=e.extend({ctrl:!1,alt:!1,shift:!1},t[n].options),r=e.isArray(o.key)?e.grep(o.key,l).length>0:l(o.key),r&&o.ctrl==i.ctrlKey&&o.alt==i.altKey&&o.shift==i.shiftKey&&s.push(t[n]);return s},isTypingKey:function(e){var t=e.keyCode;return this.isCharacter(t)&&!e.ctrlKey&&!e.altKey||32==t||13==t||8==t||46==t&&!e.shiftKey&&!e.ctrlKey&&!e.altKey},isModifierKey:function(e){var t=e.keyCode;return 17==t&&!e.shiftKey&&!e.altKey||16==t&&!e.ctrlKey&&!e.altKey||18==t&&!e.ctrlKey&&!e.shiftKey},isSystem:function(e){return 46==e.keyCode&&e.ctrlKey&&!e.altKey&&!e.shiftKey},startTyping:function(e){this.onEndTyping=e,this.typingInProgress=!0},stopTyping:function(){this.typingInProgress&&this.onEndTyping&&this.onEndTyping(),this.typingInProgress=!1},endTyping:function(t){var i=this;i.clearTimeout(),t?i.stopTyping():i.timeout=window.setTimeout(e.proxy(i.stopTyping,i),1e3)},isTypingInProgress:function(){return this.typingInProgress},clearTimeout:function(){window.clearTimeout(this.timeout)},notify:function(e,t){var i,n=this.handlers;for(i=0;i<n.length&&!n[i][t](e);i++);},keydown:function(e){this.notify(e,"keydown")},keyup:function(e){this.notify(e,"keyup")}}),I=r.extend({init:function(e){this.editor=e;var t=e.options.pasteCleanup;this.cleaners=[new B(t),new O(t),new F(t),new L(t),new U(t),new M(t),new $(t),new G(t)]},htmlToFragment:function(e){var t=this.editor,i=t.document,n=c.create(i,"div"),o=i.createDocumentFragment();for(n.innerHTML=e;n.firstChild;)o.appendChild(n.firstChild);return o},isBlock:function(e){return/<(div|p|ul|ol|table|h[1-6])/i.test(e)},_startModification:function(){var e,t,i=this.editor;if(!this._inProgress)return this._inProgress=!0,e=i.getRange(),t=new p(e,i.body),c.persistScrollTop(i.document),{range:e,restorePoint:t}},_endModification:function(e){t(this.editor,e.restorePoint),this.editor._selectionChange(),this._inProgress=!1},_contentModification:function(e,t){var i=this,n=i.editor,o=i._startModification();o&&(e.call(i,n,o.range),setTimeout(function(){t.call(i,n,o.range),i._endModification(o)}))},_removeBomNodes:function(e){var t,i=a.RangeUtils.textNodes(e);for(t=0;t<i.length;t++)i[t].nodeValue=c.stripBom(i[t].nodeValue)},_onBeforeCopy:function(e){var t=new m;t.add(e),this._removeBomNodes(e),t.remove(e),this.editor.selectRange(e)},oncopy:function(){this._onBeforeCopy(this.editor.getRange())},oncut:function(){this._onBeforeCopy(this.editor.getRange()),this._contentModification(e.noop,e.noop)},_fileToDataURL:function(t){var i=e.Deferred(),n=new FileReader;return t instanceof window.File||!t.getAsFile||(t=t.getAsFile()),n.onload=e.proxy(i.resolve,i),n.readAsDataURL(t),i.promise()},_triggerPaste:function(e,t){var i={html:e||""};i.html=i.html.replace(/\ufeff/g,""),this.editor.trigger("paste",i),this.paste(i.html,t||{})},_handleImagePaste:function(e){var t,i;if("FileReader"in window&&!(h.msie&&h.version>10))return t=e.clipboardData||e.originalEvent.clipboardData||window.clipboardData||{},i=t.items||t.files,this._insertImages(i)},_insertImages:function(t){var i,n,o;if(t&&(i=e.grep(t,function(e){return/^image\//i.test(e.type)}),n=e.grep(t,function(e){return/^text\/html/i.test(e.type)}),!n.length&&i.length&&(o=this._startModification())))return e.when.apply(e,e.map(i,this._fileToDataURL)).done(e.proxy(function(){var t=Array.prototype.slice.call(arguments),i=e.map(t,function(e){return'<img src="'+e.target.result+'" />'}).join("");this._triggerPaste(i),this._endModification(o)},this)),!0},onpaste:function(t){return this._handleImagePaste(t)?void t.preventDefault():(this.expandImmutablesIn(),void this._contentModification(function(i,n){var r,a,s,l=c.create(i.document,"div",{className:"k-paste-container",innerHTML:"\ufeff"}),d=o.support.browser,u=i.body;this._decoreateClipboardNode(l,u),u.appendChild(l),d.webkit&&this._moveToCaretPosition(l,n),d.msie&&d.version<11?(t.preventDefault(),r=i.createRange(),r.selectNodeContents(l),i.selectRange(r),a=i.document.body.createTextRange(),a.moveToElementText(l),e(u).unbind("paste"),a.execCommand("Paste"),e(u).bind("paste",e.proxy(this.onpaste,this))):(s=i.createRange(),s.selectNodeContents(l),i.selectRange(s)),n.deleteContents()},function(t,i){var n,o="";t.selectRange(i),n=e(t.body).children(".k-paste-container"),n.each(function(){var e=this.lastChild;e&&c.is(e,"br")&&c.remove(e),o+=this.innerHTML}),n.remove(),this._triggerPaste(o,{clean:!0})}))},ondragover:function(e){(h.msie||h.edge)&&(e.stopPropagation(),e.preventDefault())},ondrop:function(e){var t,i;"FileReader"in window&&(t=(e.originalEvent||e).dataTransfer||{},i=t.items||t.files,this._insertImages(i)&&e.preventDefault())},_decoreateClipboardNode:function(t,i){var n,o,r,a;(h.msie||h.webkit)&&(t=e(t),t.css({borderWidth:"0px",width:"0px",height:"0px",overflow:"hidden",margin:"0",padding:"0"}),h.msie&&(n=e(i.ownerDocument.documentElement),t.css({fontVariant:"normal",fontWeight:"normal",lineSpacing:"normal",lineHeight:"normal",textDecoration:"none"}),o=n.css("color"),o&&t.css("color",o),r=n.css("fontFamily"),r&&t.css("fontFamily",r),a=n.css("fontSize"),a&&t.css("fontSize",a)))},_moveToCaretPosition:function(t,i){var n=this,o=n.editor.body,r=c.offset(t,o),a=n._caretOffset(i,o),s=a.left-r.left,l=a.top-r.top,d="translate("+s+"px,"+l+"px)";e(t).css({"-webkit-transform":d,transform:d})},_caretOffset:function(e,t){var i,n,o,r,a,s,l=this.editor,d=c.create(l.document,"span",{innerHTML:"\ufeff"}),u=e.startContainer;return e.collapsed?(n=c.isDataNode(u),n&&(c.isBom(u)||0===e.startOffset)?c.insertBefore(d,u):n&&e.startOffset===u.length?c.insertAfter(d,u):(e.insertNode(d),i=!0)):(u=u===t?u.childNodes[e.startOffset]:u,c.insertBefore(d,u)),o=c.offset(d,t),r=d.previousSibling,a=d.nextSibling,c.remove(d),i&&c.isDataNode(r)&&c.isDataNode(a)&&!c.isBom(r)&&!c.isBom(a)&&(s=r.length,a.data=r.data+a.data,e.setStart(a,s),c.remove(r),e.collapse(!0),l.selectRange(e)),o},expandImmutablesIn:function(e){var t,i,n,r=this.editor;r&&r.options.immutables&&(t=r.body,e=e||r.getRange(),o.ui.editor.Immutables.expandImmutablesIn(e),e.startContainer===t&&0===e.startOffset&&(i=t.ownerDocument,n=i.createTextNode("\ufeff"),t.insertBefore(n,t.childNodes[0]),e.setStartBefore(n)),r.selectRange(e))},splittableParent:function(e,t){var i,n;if(e)return c.closestEditableOfType(t,["p","ul","ol"])||t.parentNode;if(i=t.parentNode,n=t.ownerDocument.body,c.isInline(i))for(;i.parentNode!=n&&!c.isBlock(i.parentNode);)i=i.parentNode;return i},paste:function(t,i){var n,o,r,s,l,d,u,f,p,h,g,v,k=this.editor;if(this.expandImmutablesIn(),i=b({clean:!1,split:!0},i),!i.skipCleaners)for(n=0,o=this.cleaners.length;n<o;n++)this.cleaners[n].applicable(t)&&(t=this.cleaners[n].clean(t));if(i.clean&&(t=t.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/gi,"$3"),t=t.replace(/<(a|span)[^>]*><\/\1>/gi,"")),t=t.replace(/^<li/i,"<ul><li").replace(/li>$/g,"li></ul>"),r=this.isBlock(t),k.focus(),s=k.getRange(),s.deleteContents(),s.startContainer==k.document&&s.selectNodeContents(k.body),l=new m,d=l.addCaret(s),u=this.splittableParent(r,d),f=!1,p=u!=k.body&&!c.is(u,"td"),i.split&&p&&(r||c.isInline(u))&&(s.selectNode(d),a.RangeUtils.split(s,u,!0),f=!0),h=this.htmlToFragment(t),h.firstChild&&"k-paste-container"===h.firstChild.className){for(g=[],n=0,o=h.childNodes.length;n<o;n++)g.push(h.childNodes[n].innerHTML);h=this.htmlToFragment(g.join("<br />"))}if(e(h.childNodes).filter("table").addClass("k-table").end().find("table").addClass("k-table"),s.insertNode(h),u=this.splittableParent(r,d),f){for(;d.parentNode!=u;)c.unwrap(d.parentNode);c.unwrap(d.parentNode)}c.normalize(s.commonAncestorContainer),d.style.display="inline",c.restoreScrollTop(k.document),c.scrollTo(d),l.removeCaret(s),v=s.commonAncestorContainer.parentNode,s.collapsed&&"tbody"==c.name(v)&&(s.setStartAfter(e(v).closest("table")[0]),s.collapse(!0)),k.selectRange(s)}}),H=r.extend({init:function(e){this.options=e||{},this.replacements=[]},clean:function(e,t){var i,n,o=this,r=t||o.replacements;for(i=0,n=r.length;i<n;i+=2)e=e.replace(r[i],r[i+1]);return e}}),B=H.extend({init:function(e){H.fn.init.call(this,e),this.replacements=[/<(\/?)script([^>]*)>/i,"<$1telerik:script$2>"]},applicable:function(e){return!this.options.none&&/<script[^>]*>/i.test(e)}}),O=H.extend({init:function(e){H.fn.init.call(this,e);var t=" ";this.replacements=[/<span\s+class="Apple-tab-span"[^>]*>\s*<\/span>/gi,t,/\t/gi,t,/&nbsp;&nbsp; &nbsp;/gi,t]},applicable:function(e){return/&nbsp;&nbsp; &nbsp;|class="?Apple-tab-span/i.test(e)}}),F=H.extend({init:function(e){H.fn.init.call(this,e),this.junkReplacements=[/<\?xml[^>]*>/gi,"",/<!--(.|\n)*?-->/g,"",/&quot;/g,"'",/<o:p>&nbsp;<\/o:p>/gi,"&nbsp;",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/gi,"",/<\/o>/g,""],this.replacements=this.junkReplacements.concat([/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"<BR><BR>",/<br>(?!\n)/g," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"<table$1><t",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"<br>",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/gi,"",/<(\/?)b(\s[^>]*)?>/gi,"<$1strong$2>",/<(\/?)font(\s[^>]*)?>/gi,this.convertFontMatch,/<(\/?)i(\s[^>]*)?>/gi,"<$1em$2>",/style=(["|'])\s*\1/g,"",/(<br[^>]*>)?\n/g,function(e,t){return t?e:" "}])},convertFontMatch:function(e,t,i){var n=/face=['"]([^'"]+)['"]/i,o=n.exec(i),r=i&&o&&o[1];return t?"</span>":r?'<span style="font-family:'+r+'">':"<span>"},applicable:function(e){return/class="?Mso/i.test(e)||/style="[^"]*mso-/i.test(e)||/urn:schemas-microsoft-com:office/.test(e)},stripEmptyAnchors:function(e){return e.replace(/<a([^>]*)>\s*<\/a>/gi,function(e,t){return!t||t.indexOf("href")<0?"":e})},listType:function(e,t){var i,n=e.innerHTML,o=c.innerText(e),r=n.match(/^(?:<span [^>]*texhtml[^>]*>)?<span [^>]*(?:Symbol|Wingdings)[^>]*>([^<]+)/i),a=r&&r[1],s=/^[a-z\d]/i.test(a),l=function(e){return e.replace(/^(?:&nbsp;|[\u00a0\n\r\s])+/,"")};return r&&(i=!0),n=n.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g,""),!i&&/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(n)||i&&/^.\u00a0+/.test(n)||a&&!s&&t?{tag:"ul",style:this._guessUnorderedListStyle(l(o))}:/^\s*\w+[\.\)][\u00a0 ]{2,}/.test(n)?{tag:"ol",style:this._guessOrderedListStyle(l(o))}:void 0},_convertToLi:function(e){var t;return 1==e.childNodes.length?t=e.firstChild.innerHTML.replace(/^\w+[\.\)](&nbsp;)+ /,""):(c.remove(e.firstChild),3==e.firstChild.nodeType&&/^[ivxlcdm]+\.$/i.test(e.firstChild.nodeValue)&&c.remove(e.firstChild),/^(&nbsp;|\s)+$/i.test(e.firstChild.innerHTML)&&c.remove(e.firstChild),t=e.innerHTML),c.remove(e),c.create(document,"li",{innerHTML:t})},_guessUnorderedListStyle:function(e){return/^[\u2022\u00b7\u00FC\u00D8\u002dv-]/.test(e)?null:/^o/.test(e)?"circle":"square"},_guessOrderedListStyle:function(e){var t=null;return/^\d/.test(e)||(t=(/^[a-z]/.test(e)?"lower-":"upper-")+(/^[ivxlcdm]/i.test(e)?"roman":"alpha")),t},extractListLevels:function(e){var t=/style=['"]?[^'"]*?mso-list:\s?[a-zA-Z]+(\d+)\s[a-zA-Z]+(\d+)\s(\w+)/gi;return e=e.replace(t,function(e,t,i){return o.format('data-list="{0}" data-level="{1}" {2}',t,i,e)})},lists:function(t){var i,n,o,r,a,s,l,d,u,f,p,m,h=e(t).find(c.blockElements.join(",")),g=-1,b={},v=t;for(r=0;r<h.length;r++)a=h[r],u=e(a).data(),f=u.list,i=c.name(a),"td"!=i&&(p=this.listType(a,u),s=p&&p.tag,s&&"p"==i?(l=parseFloat(a.style.marginLeft||0),void 0===n&&(n=l),m=s+f,b[l]||(b[l]={}),d=b[l][m],(l>g||!d)&&(d=c.create(document,s,{style:{listStyleType:p.style}}),v==t||l<=g?(o&&n!==l?o.appendChild(d):c.insertBefore(d,a),b[l]={}):(o=v,v.appendChild(d)),b[l][m]=d),v=this._convertToLi(a),d.appendChild(v),g=l):a.innerHTML?(g=-1,v=t):c.remove(a))},removeAttributes:function(e){for(var t=e.attributes,i=t.length;i--;)"colspan"!=c.name(t[i])&&e.removeAttributeNode(t[i])},createColGroup:function(t){var i=t.cells,n=e(t).closest("table"),r=n.children("colgroup");i.length<2||(r.length&&(i=r.children(),r[0].parentNode.removeChild(r[0])),r=e(e.map(i,function(e){var t=e.width;return t&&0!==parseInt(t,10)?o.format('<col style="width:{0}px;"/>',t):"<col />"}).join("")),r.is("colgroup")||(r=e("<colgroup/>").append(r)),r.prependTo(n))},convertHeaders:function(t){var i,n=t.cells,o=e.map(n,function(t){var i=e(t).children("p").children("strong")[0];if(i&&"strong"==c.name(i))return i});if(o.length==n.length){for(i=0;i<o.length;i++)c.unwrap(o[i]);for(e(t).closest("table").find("colgroup").after("<thead></thead>").end().find("thead").append(t),i=0;i<n.length;i++)c.changeTag(n[i],"th")}},removeParagraphs:function(t){var i,n,o,r,a;for(i=0;i<t.length;i++)for(this.removeAttributes(t[i]),r=e(t[i]),a=r.children("p"),n=0,o=a.length;n<o;n++)n<o-1&&c.insertAfter(c.create(document,"br"),a[n]),c.unwrap(a[n])},removeDefaultColors:function(e){for(var t=0;t<e.length;t++)/^\s*color:\s*[^;]*;?$/i.test(e[t].style.cssText)&&c.unwrap(e[t])},tables:function(t){var i,n,o,r,a,s=e(t).find("table"),l=this;for(r=0;r<s.length;r++){for(i=s[r].rows,o=n=i[0],a=1;a<i.length;a++)i[a].cells.length>o.cells.length&&(o=i[a]);l.createColGroup(o),l.convertHeaders(n),l.removeAttributes(s[r]),l.removeParagraphs(s.eq(r).find("td,th")),l.removeDefaultColors(s.eq(r).find("span"))}},headers:function(t){var i,n=e(t).find("p.MsoTitle");for(i=0;i<n.length;i++)c.changeTag(n[i],"h1")},removeFormatting:function(t){e(t).find("*").each(function(){e(this).css({fontSize:"",fontFamily:""}),this.getAttribute("style")||this.style.cssText||this.removeAttribute("style")})},clean:function(e){var t,i=this,n=this.options;return n.none?(e=H.fn.clean.call(i,e,this.junkReplacements),e=i.stripEmptyAnchors(e)):(e=this.extractListLevels(e),e=H.fn.clean.call(i,e),e=i.stripEmptyAnchors(e),t=c.create(document,"div",{innerHTML:e}),i.headers(t),n.msConvertLists&&i.lists(t),i.tables(t),n.msAllFormatting&&i.removeFormatting(t),e=t.innerHTML.replace(/(<[^>]*)\s+class="?[^"\s>]*"?/gi,"$1")),e}}),L=H.extend({init:function(e){H.fn.init.call(this,e),this.replacements=[/\s+class="Apple-style-span[^"]*"/gi,"",/<(div|p|h[1-6])\s+style="[^"]*"/gi,"<$1",/^<div>(.*)<\/div>$/,"$1"]},applicable:function(e){return/class="?Apple-style-span|style="[^"]*-webkit-nbsp-mode/i.test(e)}}),W=H.extend({clean:function(e){var t=c.create(document,"div",{innerHTML:e});return t=this.cleanDom(t),t.innerHTML},cleanDom:function(e){return e}}),U=W.extend({cleanDom:function(t){var i=this.collectTags();return e(t).find(i).each(function(){c.unwrap(this)}),t},collectTags:function(){if(this.options.span)return"span"},applicable:function(){return this.options.span}}),M=W.extend({cleanDom:function(t){var i=this.collectAttr(),n=e(t).find("["+i.join("],[")+"]");return n.removeAttr(i.join(" ")),t},collectAttr:function(){return this.options.css?["class","style"]:[]},applicable:function(){return this.options.css}}),V=function(){this.text="",this.add=function(e){this.text+=e}},j=r.extend({init:function(e){this.separators=e||{text:" ",line:"<br/>"},this.lines=[],this.inlineBlockText=[],this.resetLine()},appendText:function(e){3===e.nodeType&&(e=e.nodeValue),this.textContainer.add(e)},appendInlineBlockText:function(e){this.inlineBlockText.push(e)},flashInlineBlockText:function(){this.inlineBlockText.length&&(this.appendText(this.inlineBlockText.join(" ")),this.inlineBlockText=[])},endLine:function(){this.flashInlineBlockText(),this.resetLine()},html:function(){var e,t,i,n,o,r,a,s,l=this.separators,d="",c=this.lines;for(this.flashInlineBlockText(),e=0,t=c.length,i=t-1;e<t;e++){for(n=c[e],o=0,r=n.length,a=r-1;o<r;o++)s=n[o].text,d+=s,o!==a&&(d+=l.text);e!==i&&(d+=l.line)}return d},resetLine:function(){this.textContainer=new V,this.line=[],this.line.push(this.textContainer),this.lines.push(this.line)}}),K=r.extend({init:function(e){this.callback=e},enumerate:function(e){var t,i;e&&(t=this.callback(e),i=e.firstChild,!t&&i&&this.enumerate(i),this.enumerate(e.nextSibling))}}),$=H.extend({init:function(t){H.fn.init.call(this,t),this.hasText=!1,this.enumerator=new K(e.proxy(this.buildText,this))},clean:function(e){var t=c.create(document,"div",{innerHTML:e});return this.cleanDom(t)},cleanDom:function(e){return this.separators=this.getDefaultSeparators(),this.htmlLines=new j(this.separators),this.enumerator.enumerate(e.firstChild),this.hasText=!1,this.htmlLines.html()},buildText:function(e){if(c.isDataNode(e)){if(c.isEmptyspace(e))return;this.htmlLines.appendText(e.nodeValue.replace("\n",this.separators.line)),this.hasText=!0}else if(c.isBlock(e)&&this.hasText){var t=this.actions[c.name(e)]||this.actions.block;return t(this,e)}},applicable:function(){var e=this.options;return e.all||e.keepNewLines},getDefaultSeparators:function(){return this.options.all?{text:" ",line:" "}:{text:" ",line:"<br/>"}},actions:{ul:e.noop,ol:e.noop,table:e.noop,thead:e.noop,tbody:e.noop,td:function(e,t){var i=new $({all:!0}),n=i.cleanDom(t);return e.htmlLines.appendInlineBlockText(n),!0},block:function(e){e.htmlLines.endLine()}}}),G=H.extend({clean:function(e){return this.options.custom(e)},applicable:function(){return"function"==typeof this.options.custom}}),q=y.extend({init:function(e){y.fn.init.call(this,e),this.managesUndoRedo=!0},exec:function(){var e=this.editor;o.support.browser.msie?e.document.execCommand("print",!1,null):e.window.print&&e.window.print()}}),Q=y.extend({init:function(e){this.async=!0,y.fn.init.call(this,e)},exec:function(){var e=this,t=e.lockRange(!0),i=e.editor;i._destroyResizings(),i.saveAsPDF().then(function(){e.releaseRange(t),i._initializeColumnResizing(),i._initializeRowResizing(),i._initializeTableResizing()})}});b(a,{_finishUpdate:t,Command:y,GenericCommand:w,InsertHtmlCommand:x,InsertHtmlTool:C,TypingHandler:z,SystemHandler:E,BackspaceHandler:A,SelectAllHandler:D,Keyboard:P,Clipboard:I,Cleaner:H,ScriptCleaner:B,TabCleaner:O,MSWordFormatCleaner:F,WebkitFormatCleaner:L,HtmlTagsCleaner:U,HtmlAttrCleaner:M,HtmlContentCleaner:$,HtmlTextLines:j,CustomCleaner:G,PrintCommand:q,ExportPdfCommand:Q}),d("insertHtml",new C({template:new f({template:s.dropDownListTemplate,title:"Insert HTML",initialValue:"Insert HTML"})})),d("print",new u({command:q,template:new f({template:s.buttonTemplate,title:"Print"})})),d("pdf",new u({command:Q,template:new f({template:s.buttonTemplate,title:"Export PDF"})}))}(window.kendo.jQuery);
},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("editor/inlineformat.min",["editor/system.min"],e)}(function(){!function(e){var t=window.kendo,i=t.Class,n=t.ui.editor,o=t.ui.Editor.fn.options.formats,r=n.EditorUtils,a=n.Tool,s=n.ToolTemplate,l=n.FormatTool,d=n.Dom,c=n.RangeUtils,u=e.extend,f=n.EditorUtils.registerTool,p=n.EditorUtils.registerFormat,m=function(e){e.preventDefault()},h="mousedown.kendoEditor",g="keydown.kendoEditor",b="k-marker",v=i.extend({init:function(e){this.format=e},numberOfSiblings:function(e){var t,i=0,n=0,o=0,r=e.parentNode;for(t=r.firstChild;t;t=t.nextSibling)t!=e&&(t.className==b?o++:3==t.nodeType?i++:n++);return o>1&&r.firstChild.className==b&&r.lastChild.className==b?0:n+i},findSuitable:function(e,t){var i,n;if(!t&&this.numberOfSiblings(e)>0)return null;for(i=e.parentNode,n=this.format[0].tags;!d.ofType(i,n);){if(this.numberOfSiblings(i)>0)return null;i=i.parentNode}return i},findFormat:function(e){var t,i,n,o,r,a=this.format,s=d.attrEquals;for(t=0,i=a.length;t<i;t++){if(n=e,o=a[t].tags,r=a[t].attr,n&&d.ofType(n,o)&&s(n,r))return n;for(;n;)if(n=d.parentOfType(n,o),n&&s(n,r))return n}return null},isFormatted:function(e){var t,i;for(t=0,i=e.length;t<i;t++)if(this.findFormat(e[t]))return!0;return!1}}),k=i.extend({init:function(e,t){this.finder=new v(e),this.attributes=u({},e[0].attr,t),this.tag=e[0].tags[0]},wrap:function(e){return d.wrap(e,d.create(e.ownerDocument,this.tag,this.attributes))},activate:function(e,t){this.finder.isFormatted(t)?(this.split(e),this.remove(t)):this.apply(t)},toggle:function(e){var t=this.immutables()?c.editableTextNodes:c.textNodes,i=t(e);i.length>0&&this.activate(e,i)},immutables:function(){return this.editor&&this.editor.options.immutables},apply:function(e){var t,i,n,o,r=[],a=this.attributes,s=a?a.style||{}:{};for(t=0,i=e.length;t<i;t++){if(n=e[t],o=this.finder.findSuitable(n))d.is(o,"font")&&(s.color&&o.removeAttribute("color"),s.fontName&&o.removeAttribute("face"),s.fontSize&&o.removeAttribute("size")),d.attr(o,a);else{for(;!d.isBlock(n.parentNode)&&1==n.parentNode.childNodes.length&&"true"!==n.parentNode.contentEditable;)n=n.parentNode;o=this.wrap(n)}r.push(o)}this.consolidate(r)},remove:function(e){var t,i,n;for(t=0,i=e.length;t<i;t++)n=this.finder.findFormat(e[t]),n&&(this.attributes&&this.attributes.style?(d.unstyle(n,this.attributes.style),n.style.cssText||n.attributes["class"]||d.unwrap(n)):d.unwrap(n))},split:function(e){var t,i,n=c.textNodes(e),o=n.length;if(o>0)for(t=0;t<o;t++)i=this.finder.findFormat(n[t]),i&&c.split(e,i,!0)},consolidate:function(e){for(var t,i;e.length>1;)if(t=e.pop(),i=e[e.length-1],t.previousSibling&&t.previousSibling.className==b&&i.appendChild(t.previousSibling),t.tagName==i.tagName&&t.previousSibling==i&&t.style.cssText==i.style.cssText){for(;t.firstChild;)i.appendChild(t.firstChild);d.remove(t)}}}),y=v.extend({init:function(e,t){this.format=e,this.greedyProperty=t,v.fn.init.call(this,e)},getInlineCssValue:function(t){var i,n,o,r,a,s,l,c,u,f,p,m,h=t.attributes,g=e.trim;if(h)for(i=0,n=h.length;i<n;i++)if(o=h[i],r=o.nodeName,a=o.nodeValue,o.specified&&"style"==r)for(s=g(a||t.style.cssText).split(";"),c=0,u=s.length;c<u;c++)if(l=s[c],l.length){if(f=l.split(":"),p=g(f[0].toLowerCase()),m=g(f[1]),p!=this.greedyProperty)continue;return p.indexOf("color")>=0?d.toHex(m):m}},getFormatInner:function(t){var i,n,o,r=e(d.isDataNode(t)?t.parentNode:t),a=r.parentsUntil("[contentEditable]").addBack().toArray().reverse();for(i=0,n=a.length;i<n;i++)if(o="className"==this.greedyProperty?a[i].className:this.getInlineCssValue(a[i]))return o;return"inherit"},getFormat:function(e){var t,i,n=this.getFormatInner(e[0]);for(t=1,i=e.length;t<i;t++)if(n!=this.getFormatInner(e[t]))return"";return n},isFormatted:function(e){return""!==this.getFormat(e)}}),w=k.extend({init:function(e,i,n){k.fn.init.call(this,e,i),this.values=i,this.finder=new y(e,n),n&&(this.greedyProperty=t.toCamelCase(n))},activate:function(e,t){var i=this.greedyProperty,n="apply";this.split(e),i&&"inherit"==this.values.style[i]&&(n="remove"),this[n](t)}}),x=l.extend({init:function(e){l.fn.init.call(this,u(e,{finder:new v(e.format),formatter:function(){return new k(e.format)}}))}}),C=a.extend({update:function(e,t){var i=e.data(this.type);i.close(),i.value(this.finder.getFormat(t))}}),T=C.extend({init:function(e){a.fn.init.call(this,e),this.type=t.support.browser.msie||t.support.touch?"kendoDropDownList":"kendoComboBox",this.format=[{tags:["span","font"]}],this.finder=new y(this.format,e.cssAttr)},command:function(e){var t=this.options,i=this.format,o={};return new n.FormatCommand(u(e,{formatter:function(){return o[t.domAttr]=e.value,new w(i,{style:o},t.cssAttr)}}))},initialize:function(e,i){var n,o,r,s=i.editor,l=this.options,d=l.name,c=[];l.defaultValue&&(c=[{text:s.options.messages[l.defaultValue[0].text],value:l.defaultValue[0].value}]),n=c.concat(l.items?l.items:s.options[d]||[]),e.attr({title:i.title}),e[this.type]({dataTextField:"text",dataValueField:"value",dataSource:n,change:function(){s._range=o,a.exec(s,d,this.value())},close:function(){setTimeout(function(){"_range"in s&&delete s._range},0)},highlightFirst:!1}),e.closest(".k-widget").removeClass("k-"+d).find("*").addBack().attr("unselectable","on"),r=e.data(this.type),r.value("inherit"),r.wrapper.on(h,".k-select,.k-input",function(){var e=s.getRange();o=s._containsRange(e)?e:o}).on(g,function(e){e.keyCode===t.keys.ENTER&&e.preventDefault()})}}),_=a.extend({init:function(e){a.fn.init.call(this,e),this.format=[{tags:["span","font"]}],this.finder=new y(this.format,e.cssAttr)},options:{palette:"websafe"},update:function(){this._widget.close()},command:function(e){var t=this.options,i=this.format,o={};return new n.FormatCommand(u(e,{formatter:function(){return o[t.domAttr]=e.value,new w(i,{style:o},t.cssAttr)}}))},initialize:function(e,i){var n=i.editor,o=this.name,s=u({},_.fn.options,this.options),l=s.palette,d=s.columns;e=this._widget=new t.ui.ColorPicker(e,{toolIcon:"k-icon k-i-"+r.getToolCssClass(s.name),palette:l,columns:d,change:function(){var t=e.value();t&&a.exec(n,o,t),n.focus()},open:function(e){var t=e.sender;t.value(null),t._popup.element.on(h,m),t._popup.element.is("[unselectable='on']")||t._popup.element.attr({unselectable:"on"}).find("*").attr("unselectable","on")},close:function(e){e.sender._popup.element.off(h)},activate:function(t){t.preventDefault(),e.trigger("change")}}),e.wrapper.attr({title:i.title,unselectable:"on"}).find("*").attr("unselectable","on")}});u(n,{InlineFormatFinder:v,InlineFormatter:k,DelayedExecutionTool:C,GreedyInlineFormatFinder:y,GreedyInlineFormatter:w,InlineFormatTool:x,FontTool:T,ColorTool:_}),p("bold",[{tags:["strong","b"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]),f("bold",new x({key:"B",ctrl:!0,format:o.bold,template:new s({template:r.buttonTemplate,title:"Bold"})})),p("italic",[{tags:["em","i"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]),f("italic",new x({key:"I",ctrl:!0,format:o.italic,template:new s({template:r.buttonTemplate,title:"Italic"})})),p("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}},{tags:["u"]}]),f("underline",new x({key:"U",ctrl:!0,format:o.underline,template:new s({template:r.buttonTemplate,title:"Underline"})})),p("strikethrough",[{tags:["del","strike"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]),f("strikethrough",new x({format:o.strikethrough,template:new s({template:r.buttonTemplate,title:"Strikethrough"})})),p("superscript",[{tags:["sup"]}]),f("superscript",new x({format:o.superscript,template:new s({template:r.buttonTemplate,title:"Superscript"})})),p("subscript",[{tags:["sub"]}]),f("subscript",new x({format:o.subscript,template:new s({template:r.buttonTemplate,title:"Subscript"})})),f("foreColor",new _({cssAttr:"color",domAttr:"color",name:"foreColor",template:new s({template:r.colorPickerTemplate,title:"Color"})})),f("backColor",new _({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",template:new s({template:r.colorPickerTemplate,title:"Background Color"})})),f("fontName",new T({cssAttr:"font-family",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],template:new s({template:r.comboBoxTemplate,title:"Font Name"})})),f("fontSize",new T({cssAttr:"font-size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],template:new s({template:r.comboBoxTemplate,title:"Font Size"})}))}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("editor/formatblock.min",["editor/inlineformat.min"],e)}(function(){!function(e){var t,i=window.kendo,n=i.Class,o=e.extend,r=i.ui.editor,a=i.ui.Editor.fn.options.formats,s=r.Dom,l=r.Command,d=r.ToolTemplate,c=r.FormatTool,u=r.EditorUtils,f=u.registerTool,p=u.registerFormat,m=r.RangeUtils,h=n.extend({init:function(e){this.format=e},contains:function(e,t){var i,n,o;for(i=0,n=t.length;i<n;i++)if(o=t[i],!o||!s.isAncestorOrSelf(e,o))return!1;return!0},findSuitable:function(t){var i,n,o,r,a=this.format,l=[];for(i=0,n=t.length;i<n;i++){for(r=a.length-1;r>=0&&!(o=s.ofType(t[i],a[r].tags)?t[i]:s.closestEditableOfType(t[i],a[r].tags));r--);if(!o||"true"===o.contentEditable)return[];e.inArray(o,l)<0&&l.push(o)}for(this._resolveListsItems(l),i=0,n=l.length;i<n;i++)if(this.contains(l[i],l))return[l[i]];return l},_resolveListsItems:function(e){var t,i,n;for(t=0;t<e.length;t++)i=e[t],n=s.is(i,"li")?i:s.wrapper(i),n=n&&s.list(n)?n.children[0]:n,s.is(n,"li")&&(i=e[t]=n)},findFormat:function(e){var t,i,n,o,a,l,d=this.format,c=s.editableParent(e),u=this.options&&this.options.immutables,f=r.Immutables;for(t=0,i=d.length;t<i;t++){if(n=e,o=d[t].tags,a=d[t].attr,u&&o&&"immutable"==o[0]&&(l=f.immutableParent(n),l&&s.attrEquals(l,a)))return n;for(;n&&s.isAncestorOf(c,n);){if(s.ofType(n,o)&&s.attrEquals(n,a))return n;n=n.parentNode}}return null},getFormat:function(e){var t,i,n=this,o=function(e){return n.findFormat(s.isDataNode(e)?e.parentNode:e)},r=o(e[0]);if(!r)return"";for(t=1,i=e.length;t<i;t++)if(r!=o(e[t]))return"";return r.nodeName.toLowerCase()},isFormatted:function(e){for(var t=0,i=e.length;t<i;t++)if(!this.findFormat(e[t]))return!1;return!0}}),g=n.extend({init:function(e,t){this.format=e,this.values=t,this.finder=new h(e)},wrap:function(e,t,i){var n,o,r,a,l,d=1==i.length?s.blockParentOrBody(i[0]):s.commonAncestor.apply(null,i);for(s.isInline(d)&&(d=s.blockParentOrBody(d)),n=s.significantChildNodes(d),o=s.findNodeIndex(n[0]),r=s.create(d.ownerDocument,e,t),a=0;a<n.length;a++)l=n[a],s.isBlock(l)?(s.attr(l,t),r.childNodes.length&&(s.insertBefore(r,l),r=r.cloneNode(!1)),o=s.findNodeIndex(l)+1):r.appendChild(l);r.firstChild&&s.insertAt(d,r,o)},apply:function(t){function i(e){return o({},e&&e.attr,m)}var n,r,a,l,d,c,f,p,m=this.values;if(this._handleImmutables(t,!0),r=s.filter("img",t),a=u.formatByName("img",this.format),l=i(a),e.each(r,function(){s.attr(this,l)}),r.length!=t.length)if(d=s.filter("img",t,!0),c=this.finder.findSuitable(d),c.length)for(f=0,p=c.length;f<p;f++)n=u.formatByName(s.name(c[f]),this.format),s.attr(c[f],i(n));else n=this.format[0],this.wrap(n.tags[0],i(n),d)},_handleImmutables:function(e,t){var i,n,o,a,l;if(this.immutables()&&(i=u.formatByName("immutable",this.format)))for(n=r.Immutables,o=e.length-1,a=o;a>=0;a--)l=n.immutableParent(e[a]),l&&(l!==e[a+1]&&(t?s.attr(l,i.attr):s.unstyle(l,i.attr.style)),e.splice(a,1))},immutables:function(){return this.editor&&this.editor.options.immutables},remove:function(e){var t,i,n,o,r;for(this._handleImmutables(e,!1),t=0,i=e.length;t<i;t++)n=this.finder.findFormat(e[t]),n&&(r=s.name(n),"div"!=r||n.getAttribute("class")?(o=u.formatByName(r,this.format),o.attr.style&&s.unstyle(n,o.attr.style),o.attr.className&&s.removeClass(n,o.attr.className)):s.unwrap(n))},toggle:function(e){var t=this,i=s.filterBy(m.nodes(e),s.htmlIndentSpace,!0);t.finder.isFormatted(i)?t.remove(i):t.apply(i)}}),b=n.extend({init:function(e,t){var i=this;i.format=e,i.values=t,i.finder=new h(e)},apply:function(e){var t,i,n,o,a,l,d,c,u,f,p=this.format,m=s.blockParents(e),h=p[0].tags[0];if(m.length)for(t=0,i=m.length;t<i;t++)c=m[t],u=this.immutables()&&r.Immutables.immutableParent(c),u||(d=s.name(c),"li"==d?(n=c.parentNode,o=new r.ListFormatter(n.nodeName.toLowerCase(),h),a=this.editor.createRange(),a.selectNode(m[t]),o.toggle(a)):h&&("td"==d||c.attributes.contentEditable)?new g(p,this.values).apply(c.childNodes):(l=s.changeTag(c,h),s.attr(l,p[0].attr)));else f=new g(p,this.values),f.editor=this.editor,f.apply(e)},toggle:function(e){var t=m.textNodes(e);t.length||(e.selectNodeContents(e.commonAncestorContainer),t=m.textNodes(e),t.length||(t=s.significantChildNodes(e.commonAncestorContainer))),this.apply(t)},immutables:function(){return this.editor&&this.editor.options.immutables}}),v=l.extend({init:function(e){e.formatter=e.formatter();var t=e.formatter.finder;t&&u.formatByName("immutable",t.format)&&t._initOptions({immutables:e.immutables}),l.fn.init.call(this,e)}}),k=c.extend({init:function(e){c.fn.init.call(this,o(e,{finder:new h(e.format),formatter:function(){return new g(e.format)}}))}});o(r,{BlockFormatFinder:h,BlockFormatter:g,GreedyBlockFormatter:b,FormatCommand:v,BlockFormatTool:k}),t=["ul","ol","li"],p("justifyLeft",[{tags:s.nonListBlockElements,attr:{style:{textAlign:"left"}}},{tags:["img"],attr:{style:{"float":"left",display:"",marginLeft:"",marginRight:""}}},{tags:["immutable"],attr:{style:{"float":"left",display:"",marginLeft:"",marginRight:""}}},{tags:t,attr:{style:{textAlign:"left",listStylePosition:""}}}]),f("justifyLeft",new k({format:a.justifyLeft,template:new d({template:u.buttonTemplate,title:"Justify Left"})})),p("justifyCenter",[{tags:s.nonListBlockElements,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto","float":""}}},{tags:["immutable"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto","float":""}}},{tags:t,attr:{style:{textAlign:"center",listStylePosition:"inside"}}}]),f("justifyCenter",new k({format:a.justifyCenter,template:new d({template:u.buttonTemplate,title:"Justify Center"})})),p("justifyRight",[{tags:s.nonListBlockElements,attr:{style:{textAlign:"right"}}},{tags:["img"],attr:{style:{"float":"right",display:"",marginLeft:"",marginRight:""}}},{tags:["immutable"],attr:{style:{"float":"right",display:"",marginLeft:"",marginRight:""}}},{tags:t,attr:{style:{textAlign:"right",listStylePosition:"inside"}}}]),f("justifyRight",new k({format:a.justifyRight,template:new d({template:u.buttonTemplate,title:"Justify Right"})})),p("justifyFull",[{tags:s.nonListBlockElements,attr:{style:{textAlign:"justify"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto","float":""}}},{tags:["immutable"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto","float":""}}},{tags:t,attr:{style:{textAlign:"justify",listStylePosition:""}}}]),f("justifyFull",new k({format:a.justifyFull,template:new d({template:u.buttonTemplate,title:"Justify Full"})}))}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("editor/linebreak.min",["editor/formatblock.min"],e)}(function(){!function(e){var t=window.kendo,i=e.extend,n=t.ui.editor,o=n.Dom,r=n.Command,a=n.Tool,s=n.BlockFormatter,l=o.normalize,d=n.RangeUtils,c=n.EditorUtils.registerTool,u=r.extend({init:function(e){this.options=e,r.fn.init.call(this,e)},_insertMarker:function(e,t){var i,n=o.create(e,"a");return n.className="k-marker",t.insertNode(n),n.parentNode||(i=t.commonAncestorContainer,i.innerHTML="",i.appendChild(n)),l(n.parentNode),n},_moveFocus:function(e,t){var i,n;if(o.isEmpty(t))e.setStartBefore(t);else{if(e.selectNodeContents(t),i=d.textNodes(e)[0],!i){for(;t.childNodes.length&&!o.is(t.firstChild,"br");)t=t.firstChild;i=t}o.isEmpty(i)?e.setStartBefore(i):(o.emptyNode(i)&&(i.innerHTML="\ufeff"),n=i.firstChild||i,o.isDataNode(n)?e.setStart(n,0):e.setStartBefore(n))}},shouldTrim:function(e){var t="p,h1,h2,h3,h4,h5,h6".split(","),i=o.parentOfType(e.startContainer,t),n=o.parentOfType(e.endContainer,t);return i&&!n||!i&&n},_blankAfter:function(e){for(;e&&(o.isMarker(e)||""===o.stripBom(e.nodeValue));)e=e.nextSibling;return!e},exec:function(){var t,i,r,a,c,u,f,p,m,h,g,b,v,k=this.getRange(),y=d.documentFromRange(k),w=n.emptyElementContent;this.expandImmutablesIn(k),m=this.shouldTrim(k),k.deleteContents(),c=this._insertMarker(y,k),o.stripBomNode(c.previousSibling),o.stripBomNode(c.nextSibling),u=o.closestEditableOfType(c,["li"]),f=o.closestEditableOfType(c,"h1,h2,h3,h4,h5,h6".split(",")),u?o.emptyNode(u)&&(a=o.create(y,"p"),o.next(u)&&(p=k.cloneRange(),p.selectNode(u),d.split(p,u.parentNode)),h=e("br",u),1==h.length&&h.remove(),g=u.parentNode,b=u.parentNode.children.length,v=b>1&&1==u.childNodes.length&&u.children[0],o.insertAfter(a,g),o.remove(1==b?u.parentNode:u),v&&v!==c?(a.appendChild(v),a.appendChild(c)):a.innerHTML=w,r=a):f&&this._blankAfter(c)&&(a=o.create(y,"p"),o.insertAfter(a,f),a.innerHTML=w,o.remove(c),r=a),r||(u||f||new s([{tags:["p"]}]).apply([c]),k.selectNode(c),t=o.parentOfType(c,[u?"li":f?o.name(f):"p"]),d.split(k,t,m),i=t.previousSibling,o.is(i,"li")&&i.firstChild&&!o.is(i.firstChild,"br")&&(i=i.firstChild),r=t.nextSibling,this.clean(i),this.clean(r,{links:!0}),o.is(r,"li")&&r.firstChild&&!o.is(r.firstChild,"br")&&(r=r.firstChild),o.remove(t),l(i)),l(r),this._moveFocus(k,r),k.collapse(!0),o.scrollTo(r,!0),d.selectRange(k)},clean:function(t,i){var r,a=t;if(t.firstChild&&o.is(t.firstChild,"br")&&o.remove(t.firstChild),o.isDataNode(t)&&!t.nodeValue&&(t=t.parentNode),t){for(r=!1;t.firstChild&&1==t.firstChild.nodeType;)r=r||o.significantNodes(t.childNodes).length>1,t=t.firstChild;if(o.isEmpty(t)||!/^\s*$/.test(t.innerHTML)||r||(e(a).find(".k-br").remove(),t.innerHTML=n.emptyElementContent),i&&i.links)for(;t!=a;){if(o.is(t,"a")&&o.emptyNode(t)){o.unwrap(t);break}t=t.parentNode}}}}),f=r.extend({init:function(e){this.options=e,r.fn.init.call(this,e)},exec:function(){var e,i,n,r,a=this.getRange();this.expandImmutablesIn(a),e=o.create(d.documentFromRange(a),"br"),n=t.support.browser,r=n.msie&&n.version<11,a.deleteContents(),a.insertNode(e),l(e.parentNode),r||e.nextSibling&&!o.isWhitespace(e.nextSibling)||(i=e.cloneNode(!0),i.className="k-br",o.insertAfter(i,e)),a.setStartAfter(e),a.collapse(!0),o.scrollTo(e.nextSibling||e,!0),d.selectRange(a)}});i(n,{ParagraphCommand:u,NewLineCommand:f}),c("insertLineBreak",new a({key:13,shift:!0,command:f})),c("insertParagraph",new a({key:13,command:u}))}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("editor/lists.min",["editor/linebreak.min"],e)}(function(){!function(e){var t=window.kendo,i=t.Class,n=e.extend,o=t.ui.editor,r=o.Dom,a=o.RangeUtils,s=o.EditorUtils,l=o.Command,d=o.ToolTemplate,c=o.FormatTool,u=o.BlockFormatFinder,f=a.textNodes,p=o.EditorUtils.registerTool,m=u.extend({init:function(e){this.tag=e;var t=this.tags=["ul"==e?"ol":"ul",e];u.fn.init.call(this,[{tags:t}])},isFormatted:function(e){var t,i,n=[];for(i=0;i<e.length;i++)t=this.findFormat(e[i]),t&&r.name(t)==this.tag&&n.push(t);if(n.length<1)return!1;if(n.length!=e.length)return!1;for(i=0;i<n.length&&n[i].parentNode==t.parentNode;i++)if(n[i]!=t)return!1;return!0},findSuitable:function(e){var t=this.findFormat(e[0]);return t&&r.name(t)==this.tag?t:null}}),h=i.extend({init:function(e,t){var i=this;i.finder=new m(e),i.tag=e,i.unwrapTag=t},isList:function(e){return r.list(e)},immutables:function(){return this.editor&&!!this.editor.options.immutables},wrap:function(t,i){var n,a,s=r.create(t.ownerDocument,"li"),l=this.immutables()?o.Immutables.immutable:e.noop;for(n=0;n<i.length;n++)if(a=i[n],r.is(a,"li"))t.appendChild(a);else if(this.isList(a))for(;a.firstChild;)t.appendChild(a.firstChild);else if(r.is(a,"td")){for(;a.firstChild;)s.appendChild(a.firstChild);t.appendChild(s),a.appendChild(t),t=t.cloneNode(!1),s=s.cloneNode(!1)}else s.appendChild(a),r.isBlock(a)&&(t.appendChild(s),l(a)||r.unwrap(a),s=s.cloneNode(!1));s.firstChild&&t.appendChild(s)},containsAny:function(e,t){for(var i=0;i<t.length;i++)if(r.isAncestorOrSelf(e,t[i]))return!0;return!1},suitable:function(e,t){if("k-marker"==e.className){var i=e.nextSibling;if(i&&r.isBlock(i))return!1;if(i=e.previousSibling,i&&r.isBlock(i))return!1}return this.containsAny(e,t)||r.isInline(e)||3==e.nodeType},_parentLists:function(t){var i=r.closestEditable(t);return e(t).parentsUntil(i,"ul,ol")},split:function(e){var t,i,n,o,s,l,d=f(e);if(d.length)for(t=r.parentOfType(d[0],["li"]),i=r.parentOfType(d[d.length-1],["li"]),e.setStartBefore(t),e.setEndAfter(i),o=0,s=d.length;o<s;o++)l=this.finder.findFormat(d[o]),l&&(n=this._parentLists(l),n.length?a.split(e,n.last()[0],!0):a.split(e,l,!0))},merge:function(e,t){for(var i,n=t.previousSibling;n&&("k-marker"==n.className||3==n.nodeType&&r.isWhitespace(n));)n=n.previousSibling;if(n&&r.name(n)==e){for(;t.firstChild;)n.appendChild(t.firstChild);r.remove(t),t=n}for(i=t.nextSibling;i&&("k-marker"==i.className||3==i.nodeType&&r.isWhitespace(i));)i=i.nextSibling;if(i&&r.name(i)==e){for(;t.lastChild;)i.insertBefore(t.lastChild,i.firstChild);r.remove(t)}},breakable:function(e){return e!=e.ownerDocument.body&&!/table|tbody|tr|td/.test(r.name(e))&&!e.attributes.contentEditable},applyOnSection:function(t,i){function n(){u.push(this)}var o,a,s,l,d=this.tag,c=r.closestSplittableParent(i),u=[],f=this.finder.findSuitable(i);for(f||(f=new m("ul"==d?"ol":"ul").findSuitable(i)),/table|tbody/.test(r.name(c))?o=e.map(i,function(e){return r.parentOfType(e,["td"])}):(o=r.significantChildNodes(c),e.grep(o,r.isBlock).length&&(o=e.grep(o,e.proxy(function(e){return this.containsAny(e,i)},this))),o.length||(o=i)),a=0;a<o.length;a++)s=o[a],l=(!f||!r.isAncestorOrSelf(f,s))&&this.suitable(s,i),l&&(f&&this.isList(s)?(e.each(s.children,n),r.remove(s)):u.push(s));for(u.length==o.length&&this.breakable(c)&&(u=[c]),f||(f=r.create(c.ownerDocument,d),r.insertBefore(f,u[0])),this.wrap(f,u);r.isBom(f.nextSibling);)r.remove(f.nextSibling);r.is(f,d)||r.changeTag(f,d),this.merge(d,f)},apply:function(t){function i(){n&&c.push({section:n,nodes:a})}var n,a,s,l,d=0,c=[],u=t.length,f=this.immutables()?o.Immutables.immutableParent:e.noop;for(d=0;d<u;d++)l=f(t[d])||t[d],s=r.closestEditable(l,["td","body"]),n&&s==n?a.push(l):(i(),a=[l],n=s);for(i(),d=0;d<c.length;d++)this.applyOnSection(c[d].section,c[d].nodes)},unwrap:function(e){var t,i,n,o,a=e.ownerDocument.createDocumentFragment(),s=this.unwrapTag;for(i=e.firstChild;i;i=i.nextSibling){for(n=r.create(e.ownerDocument,s||"p");i.firstChild;)o=i.firstChild,r.isBlock(o)?(n.firstChild&&(a.appendChild(n),n=r.create(e.ownerDocument,s||"p")),a.appendChild(o)):n.appendChild(o);n.firstChild&&a.appendChild(n)}t=this._parentLists(e),t[0]?(r.insertAfter(a,t.last()[0]),t.last().remove()):r.insertAfter(a,e),r.remove(e)},remove:function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)t=this.finder.findFormat(e[i]),t&&this.unwrap(t)},toggle:function(e){var t,i=this,n=f(e),o=e.commonAncestorContainer;n.length||(e.selectNodeContents(o),n=f(e),n.length||(t=o.ownerDocument.createTextNode(""),e.startContainer.appendChild(t),n=[t],e.selectNode(t.parentNode))),n=r.filterBy(n,r.htmlIndentSpace,!0),i.finder.isFormatted(n)?(i.split(e),i.remove(n)):i.apply(n)}}),g=l.extend({init:function(e){e.formatter=new h(e.tag),l.fn.init.call(this,e)}}),b=c.extend({init:function(e){this.options=e,c.fn.init.call(this,n(e,{finder:new m(e.tag)}))},command:function(e){return new g(n(e,{tag:this.options.tag}))}});n(o,{ListFormatFinder:m,ListFormatter:h,ListCommand:g,ListTool:b}),p("insertUnorderedList",new b({tag:"ul",template:new d({template:s.buttonTemplate,title:"Insert unordered list"})})),p("insertOrderedList",new b({tag:"ol",template:new d({template:s.buttonTemplate,title:"Insert ordered list"})}))}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("editor/link.min",["editor/lists.min"],e)}(function(){!function(e,t){function i(e,t){for(var i=e.length;i--&&!t.test(e[i]););return i}function n(e,t){var i=t.exec(e);return i?i.index:-1}var o=window.kendo,r=o.Class,a=e.extend,s=e.proxy,l=o.ui.editor,d=l.Dom,c=l.RangeUtils,u=l.EditorUtils,f=l.Command,p=l.Tool,m=l.ToolTemplate,h=l.InlineFormatter,g=l.InlineFormatFinder,b=c.textNodes,v=c.editableTextNodes,k=l.EditorUtils.registerTool,y=o.keys,w="http://",x=/^\w*:\/\//,C=/[\w\/\$\-_\*\?]/i,T=r.extend({findSuitable:function(e){return d.parentOfType(e,["a"])}}),_=r.extend({init:function(){this.finder=new T},apply:function(e,t){var i,n,o,r,a,s,l,u=this.immutables?v(e):b(e);if(t.innerHTML){for(n=c.documentFromRange(e),i=c.getMarkers(e),e.deleteContents(),r=d.create(n,"a",t),e.insertNode(r),a=r.parentNode,"a"==d.name(a)&&d.insertAfter(r,a),d.emptyNode(a)&&d.remove(a),s=r,l=0;l<i.length;l++)d.insertAfter(i[l],s),s=i[l];i.length&&(d.insertBefore(n.createTextNode("\ufeff"),i[1]),d.insertAfter(n.createTextNode("\ufeff"),i[1]),e.setStartBefore(i[0]),e.setEndAfter(i[i.length-1]))}else o=new h([{tags:["a"]}],t),o.finder=this.finder,o.apply(u)}}),N=f.extend({init:function(e){var t=this;e.formatter={toggle:function(e){var i=t.immutables()?v(e):b(e);new h([{tags:["a"]}]).remove(i)}},this.options=e,f.fn.init.call(this,e)}}),S=f.extend({init:function(e){var t;this.options=e,f.fn.init.call(this,e),this.formatter=new _,e.url?this.exec=function(){this.formatter.immutables=t&&t.immutables(),this.formatter.apply(e.range,{href:e.url,innerHTML:e.text||e.url,target:e.target})}:(this.attributes=null,this.async=!0)},_dialogTemplate:function(){return o.template("<div class=\"k-editor-dialog k-popup-edit-form\"><div class=\"k-edit-form-container\"><div class='k-edit-label'><label for='k-editor-link-url'>#: messages.linkWebAddress #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-url'></div><div class='k-edit-label k-editor-link-text-row'><label for='k-editor-link-text'>#: messages.linkText #</label></div><div class='k-edit-field k-editor-link-text-row'><input type='text' class='k-input k-textbox' id='k-editor-link-text'></div><div class='k-edit-label'><label for='k-editor-link-title'>#: messages.linkToolTip #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-title'></div><div class='k-edit-label'></div><div class='k-edit-field'><input type='checkbox' class='k-checkbox' id='k-editor-link-target'><label for='k-editor-link-target' class='k-checkbox-label'>#: messages.linkOpenInNewWindow #</label></div><div class='k-edit-buttons k-state-default'><button class=\"k-dialog-insert k-button k-primary\">#: messages.dialogInsert #</button><button class=\"k-dialog-close k-button\">#: messages.dialogCancel #</button></div></div></div>")({messages:this.editor.options.messages})},exec:function(){var t,i,n,o,r=this.editor.options.messages;this._initialText="",this._range=this.lockRange(!0),this.formatter.immutables=this.immutables(),t=b(this._range),i=t.length?this.formatter.finder.findSuitable(t[0]):null,n=t.length&&"img"==d.name(t[0]),o=this.createDialog(this._dialogTemplate(),{title:r.createLink,close:s(this._close,this),visible:!1}),i&&(this._range.selectNodeContents(i),t=b(this._range)),this._initialText=this.linkText(t),o.find(".k-dialog-insert").click(s(this._apply,this)).end().find(".k-dialog-close").click(s(this._close,this)).end().find(".k-edit-field input").keydown(s(this._keydown,this)).end().find("#k-editor-link-url").val(this.linkUrl(i)).end().find("#k-editor-link-text").val(this._initialText).end().find("#k-editor-link-title").val(i?i.title:"").end().find("#k-editor-link-target").attr("checked",!!i&&"_blank"==i.target).end().find(".k-editor-link-text-row").toggle(!n),this._dialog=o.data("kendoWindow").center().open(),e("#k-editor-link-url",o).focus().select()},_keydown:function(e){var t=o.keys;e.keyCode==t.ENTER?this._apply(e):e.keyCode==t.ESC&&this._close(e)},_apply:function(t){var i,n,o,r=this._dialog.element,a=e("#k-editor-link-url",r).val(),s=e("#k-editor-link-text",r);a&&a!=w&&(a.indexOf("@")>0&&!/^(\w+:)|(\/\/)/i.test(a)&&(a="mailto:"+a),this.attributes={href:a},i=e("#k-editor-link-title",r).val(),i&&(this.attributes.title=i),s.is(":visible")&&(n=s.val(),n||this._initialText?n&&n!==this._initialText&&(this.attributes.innerHTML=d.stripBom(n)):this.attributes.innerHTML=a),o=e("#k-editor-link-target",r).is(":checked"),this.attributes.target=o?"_blank":null,this.formatter.apply(this._range,this.attributes)),this._close(t),this.change&&this.change()},_close:function(e){e.preventDefault(),this._dialog.destroy(),d.windowFromDocument(c.documentFromRange(this._range)).focus(),this.releaseRange(this._range)},linkUrl:function(e){return e?e.getAttribute("href",2):w},linkText:function(e){var t,i="";for(t=0;t<e.length;t++)i+=e[t].nodeValue;return d.stripBom(i||"")},redo:function(){var e=this.lockRange(!0);this.formatter.apply(e,this.attributes),this.releaseRange(e)}}),R=f.extend({init:function(e){f.fn.init.call(this,e),this.formatter=new _},exec:function(){var e,t,i,n=this.detectLink();n&&(e=this.getRange(),t=new o.ui.editor.Marker,i=e.cloneRange(),i.setStart(n.start.node,n.start.offset),i.setEnd(n.end.node,n.end.offset),e=this.lockRange(),t.add(i),this.formatter.apply(i,{href:this._ensureWebProtocol(n.text)}),t.remove(i),this.releaseRange(e))},detectLink:function(){var e,t,i=this.getRange(),n=i.startContainer,o=i.startOffset,r=n.previousSibling;return!r&&(d.isBom(n)&&!n.nextSibling||!o&&d.isDataNode(n))&&(n=n.parentNode,o=0),e=new P({node:n,offset:o,cancelAtNode:function(e){return e&&"a"===d.name(e)}}),t=new A(e),t.detectLink()},changesContent:function(){return!!this.detectLink()},_ensureWebProtocol:function(e){var t=this._hasProtocolPrefix(e);return t?e:this._prefixWithWebProtocol(e)},_hasProtocolPrefix:function(e){return x.test(e)},_prefixWithWebProtocol:function(e){return w+e}}),z=p.extend({init:function(t){this.options=t,this.finder=new g([{tags:["a"]}]),p.fn.init.call(this,e.extend(t,{command:N}))},initialize:function(e,t){p.fn.initialize.call(this,e,t),e.addClass("k-state-disabled")},update:function(e,t){e.toggleClass("k-state-disabled",!this.finder.isFormatted(t)).removeClass("k-state-hover")}}),A=r.extend({init:function(e){this.traverser=e,this.start=E(),this.end=E(),this.text=""},detectLink:function(){var t,i,n,o,r=this.traverser.node,a=this.traverser.offset;if(d.isDataNode(r)){if(t=r.data.substring(0,a),/\s{2}$/.test(d.stripBom(t)))return}else 0===a&&(i=d.closestEditableOfType(r,d.blockElements),i&&i.previousSibling&&this.traverser.init({node:i.previousSibling}));return this.traverser.traverse(e.proxy(this._detectEnd,this)),this.end.blank()||(this.traverser=this.traverser.clone(this.end),this.traverser.traverse(e.proxy(this._detectStart,this)),this._isLinkDetected()||(n=this.traverser.extendOptions(this.start),o=new I(n),o.traverse(e.proxy(this._skipStartPuntuation,this)),this._isLinkDetected()||(this.start=E()))),this.start.blank()?null:{start:this.start,end:this.end,text:this.text}},_isLinkDetected:function(){return x.test(this.text)||/^w{3}\./i.test(this.text)},_detectEnd:function(e,t){var n=i(e,C);if(n>-1)return this.end.node=t,this.end.offset=n+1,!1},_detectStart:function(e,t){var n=i(e,/\s/),o=n+1;if(this.text=e.substring(o)+this.text,this.start.node=t,this.start.offset=o,n>-1)return!1},_skipStartPuntuation:function(e,t,i){var o=n(e,/\w/),r=o;if(o===-1&&(r=e.length),this.text=this.text.substring(r),this.start.node=t,this.start.offset=r+(0|i),o>-1)return!1}}),E=function(){return{node:null,offset:null,blank:function(){return null===this.node&&null===this.offset}}},D=r.extend({init:function(i){this.node=i.node,this.offset=i.offset===t?d.isDataNode(this.node)&&this.node.length||0:i.offset,this.cancelAtNode=i.cancelAtNode||this.cancelAtNode||e.noop},traverse:function(e){e&&(this.cancel=!1,this._traverse(e,this.node,this.offset))},_traverse:function(e,i,n){
var o,r,a,s;if(i&&!this.cancel){if(3!==i.nodeType)return r=this.edgeNode(i),this.cancel=this.cancel||this.cancelAtNode(r),this._traverse(e,r);if(o=i.data,n!==t&&(o=this.subText(o,n)),this.cancel=e(o,i,n)===!1,a=this.next(i),!a)for(s=i.parentNode;!a&&d.isInline(s);)a=this.next(s),s=s.parentNode;this.cancel=this.cancel||this.cancelAtNode(a),this._traverse(e,a)}},extendOptions:function(t){return e.extend({node:this.node,offset:this.offset,cancelAtNode:this.cancelAtNode},t||{})},edgeNode:function(e){},next:function(e){},subText:function(e,t){}}),P=D.extend({subText:function(e,t){return e.substring(0,t)},next:function(e){return e.previousSibling},edgeNode:function(e){return e.lastChild},clone:function(e){var t=this.extendOptions(e);return new P(t)}}),I=D.extend({subText:function(e,t){return e.substring(t)},next:function(e){return e.nextSibling},edgeNode:function(e){return e.firstChild},clone:function(e){var t=this.extendOptions(e);return new I(t)}});a(o.ui.editor,{LinkFormatFinder:T,LinkFormatter:_,UnlinkCommand:N,LinkCommand:S,AutoLinkCommand:R,UnlinkTool:z,DomTextLinkDetection:A,LeftDomTextTraverser:P,RightDomTextTraverser:I}),k("createLink",new p({key:"K",ctrl:!0,command:S,template:new m({template:u.buttonTemplate,title:"Create Link"})})),k("unlink",new z({key:"K",ctrl:!0,shift:!0,template:new m({template:u.buttonTemplate,title:"Remove Link"})})),k("autoLink",new p({key:[y.ENTER,y.SPACEBAR],keyPressCommand:!0,command:R}))}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("editor/file.min",["kendo.filebrowser.min","editor/link.min"],e)}(function(){!function(e,t){var i=window.kendo,n=e.extend,o=i.ui.editor,r=o.EditorUtils,a=o.Dom,s=r.registerTool,l=o.ToolTemplate,d=o.RangeUtils,c=o.Command,u=o.LinkFormatter,f=d.textNodes,p=i.keys,m="#k-editor-file-url",h="#k-editor-file-text",g="#k-editor-file-title",b=c.extend({init:function(e){var t=this;c.fn.init.call(t,e),t.formatter=new u,t.async=!0,t.attributes={}},insertFile:function(e,t){var i=this.attributes,n=d.documentFromRange(t);if(i.href&&"http://"!=i.href){if(!e)return e=a.create(n,"a",{href:i.href}),e.innerHTML=i.innerHTML,e.title=i.title,t.deleteContents(),t.insertNode(e),e.nextSibling||a.insertAfter(n.createTextNode("\ufeff"),e),t.setStartAfter(e),t.setEndAfter(e),d.selectRange(t),!0;a.attr(e,i)}return!1},_dialogTemplate:function(e){return i.template('<div class="k-editor-dialog k-popup-edit-form"><div class="k-edit-form-container"><div class="k-edit-form-content"># if (showBrowser) { #<div class="k-filebrowser"></div># } #<div class=\'k-edit-label\'><label for="k-editor-file-url">#: messages.fileWebAddress #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-file-url"></div><div class=\'k-edit-label\'><label for="k-editor-file-text">#: messages.fileText #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-file-text"></div><div class=\'k-edit-label\'><label for="k-editor-file-title">#: messages.fileTitle #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-file-title"></div></div><div class="k-edit-buttons k-state-default"><button class="k-dialog-insert k-button k-primary">#: messages.dialogInsert #</button><button class="k-dialog-close k-button">#: messages.dialogCancel #</button></div></div></div>')({messages:this.editor.options.messages,showBrowser:e})},redo:function(){var e=this,t=e.lockRange();this.formatter.apply(t,this.attributes),e.releaseRange(t)},exec:function(){function e(e){var t=s.element,i=t.find(m).val().replace(/ /g,"%20"),n=t.find(h).val(),r=t.find(g).val();u.attributes={href:i,innerHTML:""!==n?n:i,title:r},k=u.insertFile(y,b),o(e),u.change&&u.change()}function o(e){e.preventDefault(),s.destroy(),a.windowFromDocument(d.documentFromRange(b)).focus(),k||u.releaseRange(b)}function r(t){t.keyCode==p.ENTER?e(t):t.keyCode==p.ESC&&o(t)}var s,l,c,u=this,b=u.lockRange(),v=f(b),k=!1,y=v.length?this.formatter.finder.findSuitable(v[0]):null,w=i.support.browser.msie,x=u.editor.options,C=x.messages,T=x.fileBrowser,_=!!(i.ui.FileBrowser&&T&&T.transport&&T.transport.read!==t),N={title:C.insertFile,visible:!1,resizable:_};this.expandImmutablesIn(b),N.close=o,_&&(N.width=750),s=this.createDialog(u._dialogTemplate(_),N).toggleClass("k-filebrowser-dialog",_).find(".k-dialog-insert").click(e).end().find(".k-dialog-close").click(o).end().find(".k-edit-field input").keydown(r).end().find(m).val(y?y.getAttribute("href",2):"http://").end().find(h).val(y?y.innerText:"").end().find(g).val(y?y.title:"").end().data("kendoWindow"),l=s.element,_&&(u._fileBrowser=new i.ui.FileBrowser(l.find(".k-filebrowser"),n({},T)),u._fileBrowser.bind("change",function(e){"f"===e.selected.get("type")&&l.find(m).val(this.value())}),u._fileBrowser.bind("apply",e)),w&&(c=l.closest(".k-window").height(),l.css("max-height",c)),s.center().open(),l.find(m).focus().select()}});i.ui.editor.FileCommand=b,s("insertFile",new o.Tool({command:b,template:new l({template:r.buttonTemplate,title:"Insert File"})}))}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("editor/image.min",["kendo.imagebrowser.min","editor/link.min"],e)}(function(){!function(e,t){var i=window.kendo,n=e.extend,o=i.ui.editor,r=o.EditorUtils,a=o.Dom,s=r.registerTool,l=o.ToolTemplate,d=o.RangeUtils,c=o.Command,u=i.keys,f="#k-editor-image-url",p="#k-editor-image-title",m="#k-editor-image-width",h="#k-editor-image-height",g=c.extend({init:function(e){var t=this;c.fn.init.call(t,e),t.async=!0,t.attributes={}},insertImage:function(e,t){var i,n=this.attributes,o=d.documentFromRange(t);if(n.src&&"http://"!=n.src){if(i=function(){setTimeout(function(){n.width||e.removeAttribute("width"),n.height||e.removeAttribute("height"),e.removeAttribute("complete")})},!e)return e=a.create(o,"img",n),e.onload=e.onerror=i,t.deleteContents(),t.insertNode(e),e.nextSibling||a.insertAfter(o.createTextNode("\ufeff"),e),i(),t.setStartAfter(e),t.setEndAfter(e),d.selectRange(t),!0;e.onload=e.onerror=i,a.attr(e,n),i()}return!1},_dialogTemplate:function(e){return i.template('<div class="k-editor-dialog k-popup-edit-form"><div class="k-edit-form-container"><div class="k-edit-form-content"># if (showBrowser) { #<div class="k-filebrowser k-imagebrowser"></div># } #<div class=\'k-edit-label\'><label for="k-editor-image-url">#: messages.imageWebAddress #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-url"></div><div class=\'k-edit-label\'><label for="k-editor-image-title">#: messages.imageAltText #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-title"></div><div class=\'k-edit-label\'><label for="k-editor-image-width">#: messages.imageWidth #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-width"></div><div class=\'k-edit-label\'><label for="k-editor-image-height">#: messages.imageHeight #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-height"></div></div><div class="k-edit-buttons k-state-default"><button class="k-dialog-insert k-button k-primary">#: messages.dialogInsert #</button><button class="k-dialog-close k-button">#: messages.dialogCancel #</button></div></div></div>')({messages:this.editor.options.messages,showBrowser:e})},redo:function(){var e=this,t=e.lockRange();e.insertImage(d.image(t),t)||e.releaseRange(t)},exec:function(){function e(e){var t=s.element,i=parseInt(t.find(m).val(),10),n=parseInt(t.find(h).val(),10);g.attributes={src:t.find(f).val().replace(/ /g,"%20"),alt:t.find(p).val()},g.attributes.width=null,g.attributes.height=null,!isNaN(i)&&i>0&&(g.attributes.width=i),!isNaN(n)&&n>0&&(g.attributes.height=n),v=g.insertImage(k,b),o(e),g.change&&g.change()}function o(e){e.preventDefault(),s.destroy(),a.windowFromDocument(d.documentFromRange(b)).focus(),v||g.releaseRange(b)}function r(t){t.keyCode==u.ENTER?e(t):t.keyCode==u.ESC&&o(t)}var s,l,c,g=this,b=g.lockRange(),v=!1,k=d.image(b),y=k&&k.getAttribute("width")||"",w=k&&k.getAttribute("height")||"",x=i.support.browser.msie,C=g.editor.options,T=C.messages,_=C.imageBrowser,N=!!(i.ui.ImageBrowser&&_&&_.transport&&_.transport.read!==t),S={title:T.insertImage,visible:!1,resizable:N};this.expandImmutablesIn(b),S.close=o,N&&(S.width=750),s=this.createDialog(g._dialogTemplate(N),S).toggleClass("k-filebrowser-dialog",N).find(".k-dialog-insert").click(e).end().find(".k-dialog-close").click(o).end().find(".k-edit-field input").keydown(r).end().find(f).val(k?k.getAttribute("src",2):"http://").end().find(p).val(k?k.alt:"").end().find(m).val(y).end().find(h).val(w).end().data("kendoWindow"),l=s.element,N&&(this._imageBrowser=new i.ui.ImageBrowser(l.find(".k-imagebrowser"),n({},_)),this._imageBrowser.bind("change",function(e){"f"===e.selected.get("type")&&l.find(f).val(this.value())}),this._imageBrowser.bind("apply",e)),x&&(c=l.closest(".k-window").height(),l.css("max-height",c)),s.center().open(),l.find(f).focus().select()}});i.ui.editor.ImageCommand=g,s("insertImage",new o.Tool({command:g,template:new l({template:r.buttonTemplate,title:"Insert Image"})}))}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("editor/components.min",["editor/image.min"],e)}(function(){!function(e,t){var i=window.kendo,n=i.ui.DropDownList,o=i.ui.editor.Dom,r=n.extend({init:function(t,o){var r=this;n.fn.init.call(r,t,o),i.support.mobileOS.ios&&(this._initSelectOverlay(),this.bind("dataBound",e.proxy(this._initSelectOverlay,this))),r.text(r.options.title),r.bind("open",function(){if(r.options.autoSize){var e,t=r.list;t.css({whiteSpace:"nowrap",width:"auto"}),e=t.width(),e?e+=20:e=r._listWidth,t.css("width",e+i.support.scrollbar()),r._listWidth=e}})},options:{name:"SelectBox",index:-1},_initSelectOverlay:function(){var t,n,o,r,a=this,s=a.value(),l=this.dataSource.view(),d="",c=i.htmlEncode;for(n=0;n<l.length;n++)t=l[n],d+="<option value='"+c(t.value)+"'",t.value==s&&(d+=" selected"),d+=">"+c(t.text)+"</option>";o=e("<select class='k-select-overlay'>"+d+"</select>"),r=e(this.element).closest(".k-widget"),r.next(".k-select-overlay").remove(),o.insertAfter(r),o.on("change",function(){a.value(this.value),a.trigger("change")})},value:function(e){var i=this,o=n.fn.value.call(i,e);return e===t?o:(n.fn.value.call(i)||i.text(i.options.title),t)},decorate:function(t){var i,n,r,a,s=this,l=s.dataSource,d=l.data();for(t&&s.list.css("background-color",o.getEffectiveBackground(e(t))),i=0;i<d.length;i++)n=d[i].tag||"span",r=d[i].className,a=o.inlineStyle(t,n,{className:r}),a=a.replace(/"/g,"'"),d[i].style=a+";display:inline-block";l.trigger("change")}});i.ui.plugin(r),i.ui.editor.SelectBox=r}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("editor/indent.min",["editor/components.min"],e)}(function(){!function(e,t){function i(i,n){var o="rtl"==e(i).css("direction"),r=o?"Right":"Left",a="td"!=s.name(i)?"margin"+r:"padding"+r;return n===t?i.style[a]||0:(n>0?i.style[a]=n+"px":(i.style[a]="",i.style.cssText||i.removeAttribute("style")),t)}var n=window.kendo,o=n.Class,r=e.extend,a=n.ui.editor,s=a.Dom,l=a.EditorUtils,d=l.registerTool,c=a.Command,u=a.Tool,f=a.ToolTemplate,p=a.RangeUtils,m=s.blockElements,h=a.BlockFormatFinder,g=a.BlockFormatter,b=o.extend({init:function(){this.finder=new h([{tags:s.blockElements}])},apply:function(t){var n,o,r,a,l,d,c,u,f,p,m,h;if(t=s.filterBy(t,s.htmlIndentSpace,!0),n=this.finder.findSuitable(t),o=[],n=this.mapImmutables(n),n.length){for(r=0,a=n.length;r<a;r++)s.is(n[r],"li")?e(n[r]).index()?e.inArray(n[r].parentNode,o)<0&&o.push(n[r]):o.push(n[r].parentNode):o.push(n[r]);for(;o.length;)if(l=o.shift(),s.is(l,"li"))if(d=l.parentNode,c=e(l).prev("li"),u=c.find("ul,ol").last(),f=e(l).children("ul,ol")[0],f&&c[0])u[0]?(u.append(l),u.append(e(f).children()),s.remove(f)):(c.append(f),f.insertBefore(l,f.firstChild));else for(f=c.children("ul,ol")[0],f||(f=s.create(l.ownerDocument,s.name(d)),c.append(f));l&&l.parentNode==d;)f.appendChild(l),l=o.shift();else for(p=parseInt(i(l),10)+30,i(l,p),m=0;m<o.length;m++)e.contains(l,o[m])&&o.splice(m,1)}else h=new g([{tags:["p"]}],{style:{marginLeft:30}}),h.apply(t)},mapImmutables:function(t){if(this.immutables){var i=[];return e.map(t,function(t){var n=a.Immutables.immutableParent(t);if(n){if(e.inArray(n,i)!==-1)return null;i.push(n)}return n||t})}return t},remove:function(t){t=s.filterBy(t,s.htmlIndentSpace,!0);var n,o,r,a,l,d,c,u,f=this.finder.findSuitable(t);for(f=this.mapImmutables(f),o=0,r=f.length;o<r;o++){if(c=e(f[o]),c.is("li")){if(a=c.parent(),l=a.parent(),l.is("li,ul,ol")&&!i(a[0])){if(n&&e.contains(n,l[0]))continue;d=c.nextAll("li"),d.length&&e(a[0].cloneNode(!1)).appendTo(c).append(d),l.is("li")?c.insertAfter(l):c.appendTo(l),a.children("li").length||a.remove();continue}if(n==a[0])continue;n=a[0]}else n=f[o];u=parseInt(i(n),10)-30,i(n,u)}}}),v=c.extend({init:function(t){var i=this;t.formatter={toggle:e.proxy(function(e){var t=new b;t.immutables=this.editor&&this.editor.options.immutables,t.apply(p.nodes(e))},i)},c.fn.init.call(this,t)}}),k=c.extend({init:function(t){var i=this;t.formatter={toggle:e.proxy(function(e){var t=new b;t.immutables=this.editor&&this.editor.options.immutables,t.remove(p.nodes(e))},i)},c.fn.init.call(this,t)}}),y=u.extend({init:function(e){u.fn.init.call(this,e),this.finder=new h([{tags:m}])},initialize:function(t,i){u.fn.initialize.call(this,t,i),e.extend(this.options,{immutables:i.editor&&i.editor.options.immutables}),t.addClass("k-state-disabled")},update:function(n,o){var r,l,d,c,u,f,p=this.finder.findSuitable(o);for(d=0,c=p.length;d<c;d++)if(u=p[d],this.options.immutables&&(f=a.Immutables.immutableParent(u),f&&(u=f)),r=i(u),r||(l=e(u).parents("ul,ol").length,r=s.is(u,"li")&&(l>1||i(u.parentNode))||s.ofType(u,["ul","ol"])&&l>0),r)return n.removeClass("k-state-disabled"),t;n.addClass("k-state-disabled").removeClass("k-state-hover")}});r(a,{IndentFormatter:b,IndentCommand:v,OutdentCommand:k,OutdentTool:y}),d("indent",new u({command:v,template:new f({template:l.buttonTemplate,title:"Indent"})})),d("outdent",new y({command:k,template:new f({template:l.buttonTemplate,title:"Outdent"})}))}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("editor/viewhtml.min",["editor/indent.min"],e)}(function(){!function(e,t){var i=window.kendo,n=e.extend,o=i.ui.editor,r=o.EditorUtils,a=o.Command,s=o.Tool,l=o.ToolTemplate,d=a.extend({init:function(e){var t=this;t.options=e,a.fn.init.call(t,e),t.attributes=null,t.async=!0},exec:function(){function n(e){l.deserialization.immutables=s.immutables,s.value(u.find(f).val()),l.deserialization.immutables=t,o(e),a.change&&a.change(),s.trigger("change")}function o(e){e.preventDefault(),u.data("kendoWindow").destroy(),s.immutables&&(s.immutables.serializedImmutables={}),s.focus()}var r,a=this,s=a.editor,l=s.options,c=s.options.messages,u=e(i.template(d.template)(c)).appendTo(document.body),f=".k-editor-textarea";l.serialization.immutables=s.immutables,r=d.indent(s.value()),l.serialization.immutables=t,this.createDialog(u,{title:c.viewHtml,close:o,visible:!1}).find(f).val(r).end().find(".k-dialog-update").click(n).end().find(".k-dialog-close").click(o).end().data("kendoWindow").center().open(),u.find(f).focus()}});n(d,{template:"<div class='k-editor-dialog k-popup-edit-form k-viewhtml-dialog'><div class='k-edit-form-container'></div><textarea class='k-editor-textarea k-input'></textarea><div class='k-edit-buttons k-state-default'><button class='k-dialog-update k-button k-primary'>#: dialogUpdate #</button><button class='k-dialog-close k-button'>#: dialogCancel #</button></div></div></div>",indent:function(e){return e.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")}}),i.ui.editor.ViewHtmlCommand=d,o.EditorUtils.registerTool("viewHtml",new s({command:d,template:new l({template:r.buttonTemplate,title:"View HTML"})}))}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("editor/formatting.min",["editor/viewhtml.min"],e)}(function(){!function(e){function t(e){var t,o,r=l.closestEditableOfType(e,["li"]);r&&(t=new n.ListFormatter(l.name(r.parentNode)),o=i.ui.editor.W3CRange.fromNode(e),o.selectNode(r),t.toggle(o))}var i=window.kendo,n=i.ui.editor,o=n.Tool,r=n.ToolTemplate,a=n.DelayedExecutionTool,s=n.Command,l=n.Dom,d=n.EditorUtils,c=n.RangeUtils,u=d.registerTool,f=a.extend({init:function(e){var t=this;o.fn.init.call(t,i.deepExtend({},t.options,e)),t.type="kendoSelectBox",t.finder={getFormat:function(){return""}}},options:{items:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],width:110},toFormattingItem:function(e){var t,i=e.value;return i?e.tag||e.className?e:(t=i.indexOf("."),0===t?e.className=i.substring(1):t==-1?e.tag=i:(e.tag=i.substring(0,t),e.className=i.substring(t+1)),e):e},command:function(t){var i=this,o=t.value;return o=this.toFormattingItem(o),new n.FormatCommand({range:t.range,formatter:function(){var t,r=(o.tag||o.context||"span").split(","),a=[{tags:r,attr:{className:o.className||""}}];return t=e.inArray(r[0],l.inlineElements)>=0?new n.GreedyInlineFormatter(a):new n.GreedyBlockFormatter(a),t.editor=i.editor,t}})},initialize:function(e,t){var n=t.editor,r=this.options,a=r.name,s=this;s.editor=n,e.width(r.width),e.kendoSelectBox({dataTextField:"text",dataValueField:"value",dataSource:r.items||n.options[a],title:n.options.messages[a],autoSize:!0,change:function(){var e=this.dataItem();e&&o.exec(n,a,e.toJSON())},dataBound:function(){var e,t=this.dataSource.data();for(e=0;e<t.length;e++)t[e]=s.toFormattingItem(t[e])},highlightFirst:!1,template:i.template('<span unselectable="on" style="display:block;#=(data.style||"")#">#:data.text#</span>')}),e.addClass("k-decorated").closest(".k-widget").removeClass("k-"+a).find("*").addBack().attr("unselectable","on")},getFormattingValue:function(t,i){var n,o,r,a,s,l,d;for(n=0;n<t.length;n++)if(o=t[n],r=o.tag||o.context||"",a=o.className?"."+o.className:"",s=r+a,l=e(i[0]).closest(s)[0]){if(1==i.length)return o.value;for(d=1;d<i.length&&e(i[d]).closest(s)[0];d++)if(d==i.length-1)return o.value}return""},update:function(t,i){var n,o,r,s,d,c=e(t).data(this.type);if(c&&(n=c.dataSource,o=n.data(),d=l.commonAncestor.apply(null,i),d==l.closestEditable(d)||this._ancestor!=d)){for(this._ancestor=d,r=0;r<o.length;r++)s=o[r].context,o[r].visible=!s||!!e(d).closest(s).length;n.filter([{field:"visible",operator:"eq",value:!0}]),a.fn.update.call(this,t,i),c.value(this.getFormattingValue(n.view(),i)),c.wrapper.toggleClass("k-state-disabled",!n.view().length)}},destroy:function(){this._ancestor=null}}),p=s.extend({exec:function(){var e,t,i,n=this.lockRange(!0);for(this.tagsToClean=this.options.remove||"strong,em,span,sup,sub,del,b,i,u,font".split(","),c.wrapSelectedElements(n),e=c.mapAll(n,function(e){return e}),t=e.length-1;t>=0;t--)i=e[t],this.immutableParent(i)||this.clean(i);this.releaseRange(n)},clean:function(i){var o,r,a,s,d;if(i&&!l.isMarker(i)){if(o=l.name(i),"ul"==o||"ol"==o)for(r=new n.ListFormatter(o),a=i.previousSibling,s=i.nextSibling,r.unwrap(i);a&&a!=s;a=a.nextSibling)this.clean(a);else if("blockquote"==o)l.changeTag(i,"p");else if(1!=i.nodeType||l.insignificant(i))t(i);else{for(d=i.childNodes.length-1;d>=0;d--)this.clean(i.childNodes[d]);i.removeAttribute("style"),i.removeAttribute("class")}e.inArray(o,this.tagsToClean)>-1&&l.unwrap(i)}},immutableParent:function(e){return this.immutables()&&n.Immutables.immutableParent(e)}});e.extend(n,{FormattingTool:f,CleanFormatCommand:p}),u("formatting",new f({template:new r({template:d.dropDownListTemplate,title:"Format"})})),u("cleanFormatting",new o({command:p,template:new r({template:d.buttonTemplate,title:"Clean formatting"})}))}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("editor/toolbar.min",["editor/formatting.min"],e)}(function(){!function(e,t){var i,n=window.kendo,o=n.ui,r=o.editor,a=o.Widget,s=e.extend,l=e.proxy,d=n.keys,c=".kendoEditor",u=n.ui.editor.EditorUtils,f=n.ui.editor.ToolTemplate,p=n.ui.editor.Tool,m=n._outerWidth,h=n._outerHeight,g="overflowAnchor",b=".k-tool-group:visible a.k-tool:not(.k-state-disabled),.k-tool.k-overflow-anchor:visible,.k-tool-group:visible .k-widget.k-colorpicker,.k-tool-group:visible .k-selectbox,.k-tool-group:visible .k-dropdown,.k-tool-group:visible .k-combobox .k-input",v={"k-i-sup-script":"superscript","k-i-sub-script":"subscript","k-i-align-left":"justifyLeft","k-i-align-center":"justifyCenter","k-i-align-right":"justifyRight","k-i-align-justify":"justifyFull","k-i-list-unordered":"insertUnorderedList","k-i-list-ordered":"insertOrderedList","k-i-login":"import","k-i-indent-increase":"indent","k-i-indent-decrease":"outdent","k-i-link-horizontal":"createLink","k-i-unlink-horizontal":"unlink","k-i-image":"insertImage","k-i-file-add":"insertFile","k-i-html":"viewHtml","k-i-foreground-color":"foreColor","k-i-paint":"backColor","k-i-table-insert":"createTable","k-i-table-column-insert-left":"addColumnLeft","k-i-table-column-insert-right":"addColumnRight","k-i-table-row-insert-above":"addRowAbove","k-i-table-row-insert-below":"addRowBelow","k-i-table-row-delete":"deleteRow","k-i-table-column-delete":"deleteColumn","k-i-table-properties":"tableWizard","k-i-table-wizard":"tableWizardInsert","k-i-clear-css":"cleanFormatting"},k=p.extend({initialize:function(t,i){t.attr({unselectable:"on"});var n=i.editor.toolbar;t.attr("aria-controls",i.editor.element.attr("id")).on("click",e.proxy(function(){this.overflowPopup.toggle()},n))},options:{name:g},command:e.noop,update:e.noop,destroy:e.noop});u.registerTool(g,new k({key:"",ctrl:!0,template:new f({template:u.overflowAnchorTemplate})})),i=a.extend({init:function(e,t){var i=this;t=s({},t,{name:"EditorToolbar"}),a.fn.init.call(i,e,t),t.popup&&i._initPopup(),t.resizable&&t.resizable.toolbar&&(i._resizeHandler=n.onResize(function(){i.resize()}),i.element.addClass("k-toolbar-resizable"))},events:["execute"],groups:{basic:["bold","italic","underline","strikethrough"],scripts:["subscript","superscript"],alignment:["justifyLeft","justifyCenter","justifyRight","justifyFull"],links:["insertImage","insertFile","createLink","unlink"],lists:["insertUnorderedList","insertOrderedList","indent","outdent"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"],advanced:["viewHtml","cleanFormatting","print","pdf","exportAs","import"],fonts:["fontName","fontSize"],colors:["foreColor","backColor"]},overflowFlaseTools:["formatting","fontName","fontSize","foreColor","backColor","insertHtml"],_initPopup:function(){var t=this;this.window=e(this.element).wrap("<div class='editorToolbarWindow k-header' />").parent().prepend("<button class='k-button k-bare k-editortoolbar-dragHandle'><span class='k-icon k-i-handler-drag' /></button>").kendoWindow({title:!1,resizable:!1,draggable:{dragHandle:".k-editortoolbar-dragHandle"},animation:{open:{effects:"fade:in"},close:{effects:"fade:out"}},minHeight:42,visible:!1,autoFocus:!1,actions:[],dragend:function(){this._moved=!0}}).on("mousedown",function(i){e(i.target).is(".k-icon")||(t.preventPopupHide=!0)}).on("focusout",function(){t.options.editor.element.focusout()}).data("kendoWindow")},_toggleOverflowStyles:function(e,t){e.find("li").toggleClass("k-item k-state-default",t).find(".k-tool:not(.k-state-disabled),.k-overflow-button").toggleClass("k-overflow-button k-button",t)},_initOverflowPopup:function(t){var i=this,n="<ul class='k-editor-overflow-popup k-overflow-container k-list-container'></ul>";i.overflowPopup=e(n).appendTo("body").kendoPopup({anchor:t,origin:"bottom right",position:"top right",copyAnchorStyles:!1,open:function(e){this.element.is(":empty")&&e.preventDefault(),i._toggleOverflowStyles(this.element,!0),t.attr("aria-expanded",!0)},close:function(){t.attr("aria-expanded",!1)},activate:l(i.focusOverflowPopup,i)}).data("kendoPopup")},items:function(){var e,t,i=this.options.resizable&&this.options.resizable.toolbar;return t=this.element.children().find("> *, select"),i&&(e=this.overflowPopup,t=t.add(e.element.children().find("> *"))),t},focused:function(){return this.element.find(".k-state-focused").length>0||this.preventPopupHide||this.overflowPopup&&this.overflowPopup.visible()},toolById:function(e){var t,i=this.tools;for(t in i)if(t.toLowerCase()==e)return i[t]},toolGroupFor:function(t){var i,n=this.groups;if(this.isCustomTool(t))return"custom";for(i in n)if(e.inArray(t,n[i])>=0)return i},bindTo:function(t){var i=this,n=i.window;i._editor&&i._editor.unbind("select",l(i.resize,i)),i._editor=t,i.options.resizable&&i.options.resizable.toolbar&&t.options.tools.push(g),i.tools=i.expandTools(t.options.tools),i.render(),i.element.find(".k-combobox .k-input").keydown(function(t){var i=e(this).closest(".k-combobox").data("kendoComboBox"),n=t.keyCode;n==d.RIGHT||n==d.LEFT?i.close():n==d.DOWN&&(i.dropDown.isOpened()||(t.stopImmediatePropagation(),i.open()))}),i._attachEvents(),i.items().each(function(){var n,o=i._toolName(this),r="moreVertical"!==o?i.tools[o]:i.tools.overflowAnchor,a=r&&r.options,s=t.options.messages,l=a&&a.tooltip||s[o],d=e(this);r&&r.initialize&&("fontSize"!=o&&"fontName"!=o||(n=s[o+"Inherit"],d.find("input").val(n).end().find("span.k-input").text(n).end()),r.initialize(d,{title:i._appendShortcutSequence(l,r),editor:i._editor}),d.closest(".k-widget",i.element).addClass("k-editor-widget"),d.closest(".k-colorpicker",i.element).next(".k-colorpicker").addClass("k-editor-widget"))}),t.bind("select",l(i.resize,i)),i.update(),n&&n.wrapper.css({top:"",left:"",width:""})},show:function(){var e,t,i,o=this,r=o.window,a=o.options.editor,s=n.support.browser;r&&(e=r.wrapper,t=a.element,e.is(":visible")&&o.window.options.visible||(e[0].style.width||e.width(m(t)-parseInt(e.css("border-left-width"),10)-parseInt(e.css("border-right-width"),10)),r._moved||(i=t.offset(),e.css({top:Math.max(0,parseInt(i.top,10)-h(e)-parseInt(o.window.element.css("padding-bottom"),10)),left:Math.max(0,parseInt(i.left,10))})),(s.msie||s.edge)&&o._overlaps(t)?setTimeout(function(){r.open()},0):r.open()))},_overlaps:function(e){var t=this.window.wrapper,i=t.offset(),n=i.left,o=i.top,r=e.offset(),a=r.left,s=r.top;return!(a+e.width()<n||a>n+t.width()||s+e.height()<o||s>o+t.height())},hide:function(){this.window&&this.window.close()},focus:function(){var e="tabIndex",t=this.element,i=this._editor.element.attr(e);t.attr(e,i||0).focus().find(b).first().focus(),i||0===i||t.removeAttr(e)},focusOverflowPopup:function(){var e="tabIndex",t=this.overflowPopup.element,i=this._editor.element.attr(e);t.closest(".k-animation-container").addClass("k-overflow-wrapper"),t.attr(e,i||0).find(b).first().focus(),i||0===i||t.removeAttr(e)},_appendShortcutSequence:function(e,t){if(!t.key)return e;var i=e+" (";return t.ctrl&&(i+="Ctrl + "),t.shift&&(i+="Shift + "),t.alt&&(i+="Alt + "),i+=t.key+")"},_nativeTools:["insertLineBreak","insertParagraph","redo","undo","autoLink"],tools:{},isCustomTool:function(e){return!(e in n.ui.Editor.defaultTools)},expandTools:function(t){var i,o,a,l,d=this._nativeTools,c=n.deepExtend({},n.ui.Editor.defaultTools),u={};for(o=0;o<t.length;o++)i=t[o],l=i.name,e.isPlainObject(i)?l&&c[l]?(u[l]=s({},c[l]),s(u[l].options,i)):(a=s({cssClass:"k-i-gear",type:"button",title:""},i),a.name||(a.name="custom"),a.cssClass="k-"+a.name,a.template||"button"!=a.type||(a.template=r.EditorUtils.buttonTemplate,a.title=a.title||a.tooltip),u[l]={options:a}):c[i]&&(u[i]=c[i]);for(o=0;o<d.length;o++)u[d[o]]||(u[d[o]]=c[d[o]]);return u},render:function(){function t(t){var i;return t.getHtml?i=t.getHtml():(e.isFunction(t)||(t=n.template(t)),i=t(r)),e.trim(i)}function i(){f.children().length&&(x&&(f.data("position",w),w++),f.appendTo(v))}function o(t){t!==g?(f=e("<li class='k-tool-group' role='presentation' />"),f.data("overflow",e.inArray(t,C)===-1)):f=e("<li class='k-overflow-tools' />")}var r,a,s,d,c,u,f,p,m=this,h=m.tools,b=m._editor.element,v=m.element.empty(),k=m._editor.options.tools,y=n.support.browser,w=0,x=m.options.resizable&&m.options.resizable.toolbar,C=this.overflowFlaseTools;for(v.empty(),k.length&&(d=k[0].name||k[0]),o(d,C),p=0;p<k.length;p++)d=k[p].name||k[p],r=h[d]&&h[d].options,!r&&e.isPlainObject(d)&&(r=d),a=r&&r.template,"break"==d&&(i(),e("<li class='k-row-break' />").appendTo(m.element),o(d,C)),a&&(u=m.toolGroupFor(d),c==u&&d!=g||(i(),o(d,C),c=u),d==g&&(a.options.title=m.options.messages.overflowAnchor),a=t(a),s=e(a).appendTo(f),"custom"==u&&(i(),o(d,C)),r.exec&&s.hasClass("k-tool")&&s.click(l(r.exec,b[0])));i(),e(m.element).children(":has(> .k-tool)").addClass("k-button-group"),m.options.popup&&y.msie&&y.version<9&&m.window.wrapper.find("*").attr("unselectable","on"),m.updateGroups(),x&&m._initOverflowPopup(m.element.find(".k-overflow-anchor")),m.angular("compile",function(){return{elements:m.element}})},updateGroups:function(){e(this.element).children().each(function(){e(this).children().filter(function(){return!e(this).hasClass("k-state-disabled")}).removeClass("k-group-end").first().addClass("k-group-start").end().last().addClass("k-group-end").end()})},decorateFrom:function(t){this.items().filter(".k-decorated").each(function(){var i=e(this).data("kendoSelectBox");i&&i.decorate(t)})},destroy:function(){a.fn.destroy.call(this);var e,t=this.tools;for(e in t)t[e].destroy&&t[e].destroy();this.window&&this.window.destroy(),this._resizeHandler&&n.unbindResize(this._resizeHandler),this.overflowPopup&&this.overflowPopup.destroy()},_attachEvents:function(){var t=this,i=t.overflowPopup?t.overflowPopup.element:e([]);t.attachToolsEvents(t.element.add(i))},attachToolsEvents:function(t){var i=this,o="[role=button].k-tool",r=o+":not(.k-state-disabled)",a=o+".k-state-disabled",s=".k-dropdown",l=".k-colorpicker",u=[o,s,l].join(",");t.off(c).on("mouseenter"+c,r,function(){e(this).addClass("k-state-hover")}).on("mouseleave"+c,r,function(){e(this).removeClass("k-state-hover")}).on("mousedown"+c,u,function(e){e.preventDefault()}).on("keydown"+c,b,function(t){function o(e,t,i){var n=t.find(b),o=n.index(l)+e;return i&&(o=Math.max(0,Math.min(n.length-1,o))),n[o]}var r,a,s,l=this,c=i.options.resizable&&i.options.resizable.toolbar,u=n.support.isRtl(i.element)?-1:1,f=t.keyCode;f==d.RIGHT||f==d.LEFT?a=e(l).is(".k-dropdown")?e(l):o(f==d.RIGHT?1*u:-1*u,i.element,!0):!c||f!=d.UP&&f!=d.DOWN?f==d.HOME?(a=i.element.find(b)[0],t.preventDefault()):f==d.END?(r=i.element.find(b).filter(function(){return"hidden"!==e(this).css("visibility")}),a=r[r.length-1],t.preventDefault()):f==d.ESC?(i.overflowPopup&&i.overflowPopup.visible()&&i.overflowPopup.close(),a=i._editor):f!=d.TAB||t.ctrlKey||t.altKey||(s=c&&e(l.parentElement).hasClass("k-overflow-tool-group")?i.overflowPopup.element:i.element,t.shiftKey?a=o(-1,s):(a=o(1,s),a&&"hidden"!==e(a).closest(".k-overflow-tools").css("visibility")||(a=i._editor))):a=o(f==d.DOWN?1:-1,i.overflowPopup.element,!0),a&&(t.preventDefault(),a.focus()),f!==d.ENTER&&f!==d.SPACEBAR||!e(l).is("a")||e(l).attr("href")||i._executeToolCommand(l,t)}).on("click"+c,r,function(e){i._executeToolCommand(this,e)}).on("click"+c,a,function(e){e.preventDefault()})},_executeToolCommand:function(t,i){var n=this,o=e(t);i.preventDefault(),i.stopPropagation(),o.removeClass("k-state-hover"),o.is("[data-popup]")||n._editor.exec(n._toolName(t))},_toolName:function(t){var i,o,r;if(t)return i=t.className,/k-tool\b/i.test(i)&&(i=t.firstChild.className),
o=e.grep(i.split(" "),function(e){return!/^k-(widget|tool|tool-icon|icon|state-hover|header|combobox|dropdown|selectbox|colorpicker)$/i.test(e)}),o[0]?(r=o[0],v[r]&&(r=v[r]),r.indexOf("k-i-")>=0?n.toCamelCase(r.substring(r.indexOf("k-i-")+4)):r.substring(r.lastIndexOf("-")+1)):"custom"},refreshTools:function(){var t=this,i=n.ui.editor,o=t._editor,r=o.getRange(),a=i.RangeUtils.textNodes(r),s=o.options.immutables,l=t._immutablesContext(r);a=i.Dom.filterBy(a,i.Dom.htmlIndentSpace,!0),a.length||(a=[r.startContainer]),t.items().each(function(){var i,n=t.tools[t._toolName(this)];n&&(i=e(this),n.update&&n.update(i,a),s&&t._updateImmutablesState(n,i,l))}),this.update()},_immutablesContext:function(e){if(this._editor.options.immutables){var t=n.ui.editor;return e.collapsed?t.Immutables.immutablesContext(e):0===t.RangeUtils.editableTextNodes(e).length}},_updateImmutablesState:function(i,n,o){var a,s,l,d,c,u=i.name,f=n,p=i.options.trackImmutables;if(p===t&&(p=e.inArray(u,r.Immutables.toolsToBeUpdated)>-1),p){if(a=o?"none":"",!n.is(".k-tool")){s=n.data();for(l in s)if(l.match(/^kendo[A-Z][a-zA-Z]*/)){d=s[l],f=d.wrapper;break}}f.css("display",a),c=f.closest("li"),0===c.children(":visible").length&&c.css("display",a)}},update:function(){this.updateGroups()},_resize:function(e){var t=e.width,i=this.options.resizable&&this.options.resizable.toolbar,n=this.overflowPopup;this.refreshTools(),i&&(n.visible()&&n.close(!0),this._refreshWidths(),this._shrink(t),this._stretch(t),this._toggleOverflowStyles(this.element,!1),this._toggleOverflowStyles(this.overflowPopup.element,!0),this.element.children("li.k-overflow-tools").css("visibility",n.element.is(":empty")?"hidden":"visible"))},_refreshWidths:function(){this.element.children("li").each(function(t,i){var n=e(i);n.data("outerWidth",m(n,!0))})},_shrink:function(e){var t,i,n;if(e<this._groupsWidth())for(i=this._visibleGroups().filter(":not(.k-overflow-tools)"),n=i.length-1;n>=0&&(t=i.eq(n),!(e>this._groupsWidth()));n--)this._hideGroup(t)},_stretch:function(e){var t,i,n;if(e>this._groupsWidth())for(i=this._hiddenGroups(),n=0;n<i.length&&(t=i.eq(n),!(e<this._groupsWidth())&&this._showGroup(t,e));n++);},_hiddenGroups:function(){var t=this.overflowPopup,i=this.element.children("li.k-tool-group").filter(":hidden");return i=i.add(t.element.children("li")),i.sort(function(t,i){return e(t).data("position")>e(i).data("position")?1:-1}),i},_visibleGroups:function(){return this.element.children("li.k-tool-group, li.k-overflow-tools").filter(":visible")},_groupsWidth:function(){var t=0;return this._visibleGroups().each(function(){t+=e(this).data("outerWidth")}),Math.ceil(t)},_hideGroup:function(e){if(e.data("overflow")){var t=this.overflowPopup;e.detach().prependTo(t.element).addClass("k-overflow-tool-group")}else e.hide()},_showGroup:function(t,i){var n,o;return!!(t.length&&i>this._groupsWidth()+t.data("outerWidth"))&&(t.hasClass("k-overflow-tool-group")?(n=t.data("position"),0===n?t.detach().prependTo(this.element):(o=this.element.children().filter(function(t,i){return e(i).data("position")===n-1}),t.detach().insertAfter(o)),t.removeClass("k-overflow-tool-group")):t.show(),!0)}}),e.extend(r,{Toolbar:i})}(window.jQuery||window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("editor/tables.min",["editor/toolbar.min"],e)}(function(){!function(e,t){var i=window.kendo,n=e.extend,o=e.proxy,r=i.ui.editor,a=r.Dom,s=r.EditorUtils,l=r.RangeUtils,d=r.Command,c="kendoEditor",u="k-state-active",f="k-state-selected",p=r.Tool,m=r.ToolTemplate,h=r.InsertHtmlCommand,g=r.BlockFormatFinder,b=r.EditorUtils.registerTool,v=i.getTouches,k=i.template,y="<td style='width:#=width#%;'>#=content#</td>",w=new g([{tags:["table"]}]),x=h.extend({init:function(t){var i=e.extend({postProcess:this.postProcess,skipCleaners:!0},t||{});h.fn.init.call(this,i)},_tableHtml:function(e,t){var i,n;return e=e||1,t=t||1,i=k(y)({width:100/t,content:r.emptyTableCellContent}),n=100/e,"<table class='k-table' data-last>"+Array(e+1).join("<tr style='height:"+n+"%;'>"+Array(t+1).join(i)+"</tr>")+"</table>"},postProcess:function(t,i){var n=e("table[data-last]",t.document).removeAttr("data-last");i.setStart(n.find("td")[0],0),i.collapse(!0),t.selectRange(i)},exec:function(){var e=this.options;e.html=this._tableHtml(e.rows,e.columns),h.fn.exec.call(this)}}),C=p.extend({initialize:function(t,i){var n,a,l,d;p.fn.initialize.call(this,t,i),n=e(this.options.popupTemplate).appendTo("body").kendoPopup({anchor:t,copyAnchorStyles:!1,open:o(this._open,this),activate:o(this._activate,this),close:o(this._close,this)}).data("kendoPopup"),t.click(o(this._toggle,this)).keydown(o(this._keydown,this)),a=this._editor=i.editor,this._popup=n,l=new r.TableWizardTool({template:new m({template:s.buttonTemplate,title:a.options.messages.tableWizard}),command:r.TableWizardCommand,insertNewTable:!0}),b("tableWizardInsert",l),d=e("<div class='k-editor-toolbar'>"+l.options.template.getHtml()+"</div>"),d.appendTo(n.element),a.toolbar&&a.toolbar.attachToolsEvents(d)},popup:function(){return this._popup},_activate:e.noop,_open:function(){this._popup.options.anchor.addClass(u)},_close:function(){this._popup.options.anchor.removeClass(u)},_keydown:function(e){var t=i.keys,n=e.keyCode;n==t.DOWN&&e.altKey?this._popup.open():n==t.ESC&&this._popup.close()},_toggle:function(t){var i=e(t.target).closest(".k-tool");i.hasClass("k-state-disabled")||this.popup().toggle()},update:function(e){var t=this.popup();t.wrapper&&"block"==t.wrapper.css("display")&&t.close(),e.removeClass("k-state-hover")},destroy:function(){this._popup.destroy()}}),T=C.extend({init:function(t){this.cols=8,this.rows=6,C.fn.init.call(this,e.extend(t,{command:x,popupTemplate:"<div class='k-ct-popup'>"+Array(this.cols*this.rows+1).join("<span class='k-ct-cell k-state-disabled' />")+"<div class='k-status'></div></div>"}))},_activate:function(){function t(t){var i=e(window);return{row:Math.floor((t.clientY+i.scrollTop()-u.top)/o)+1,col:Math.floor((t.clientX+i.scrollLeft()-u.left)/n)+1}}var n,o,r=this,a=r._popup.element,s=a.find(".k-ct-cell"),l=s.eq(0),d=s.eq(s.length-1),u=i.getOffset(l),f=i.getOffset(d),p=r.cols,m=r.rows;a.find("*").addBack().attr("unselectable","on"),f.left+=d[0].offsetWidth,f.top+=d[0].offsetHeight,n=(f.left-u.left)/p,o=(f.top-u.top)/m,a.autoApplyNS(c).on("mousemove",function(e){r._setTableSize(t(e))}).on("mouseleave",function(){r._setTableSize()}).on("down",function(e){e.preventDefault();var i=v(e)[0];r._exec(t(i.location))})},_valid:function(e){return e&&e.row>0&&e.col>0&&e.row<=this.rows&&e.col<=this.cols},_exec:function(e){this._valid(e)&&(this._editor.exec("createTable",{rows:e.row,columns:e.col}),this._popup.close())},_setTableSize:function(t){var n=this._popup.element,o=n.find(".k-status"),r=n.find(".k-ct-cell"),a=this.cols,s=this._editor.options.messages;this._valid(t)?(o.text(i.format(s.createTableHint,t.row,t.col)),r.each(function(i){e(this).toggleClass(f,i%a<t.col&&i/a<t.row)})):(o.text(s.createTable),r.removeClass(f))},_keydown:function(e){var t,n,o,r,a,s,l,d;C.fn._keydown.call(this,e),this._popup.visible()&&(t=i.keys,n=e.keyCode,o=this._popup.element.find(".k-ct-cell"),r=Math.max(o.filter(".k-state-selected").last().index(),0),a=Math.floor(r/this.cols),s=r%this.cols,l=!1,n!=t.DOWN||e.altKey?n==t.UP?(l=!0,a--):n==t.RIGHT?(l=!0,s++):n==t.LEFT&&(l=!0,s--):(l=!0,a++),d={row:Math.max(1,Math.min(this.rows,a+1)),col:Math.max(1,Math.min(this.cols,s+1))},n==t.ENTER?this._exec(d):this._setTableSize(d),l&&(e.preventDefault(),e.stopImmediatePropagation()))},_open:function(){var e=this._editor.options.messages;C.fn._open.call(this),this.popup().element.find(".k-status").text(e.createTable).end().find(".k-ct-cell").removeClass(f)},_close:function(){C.fn._close.call(this),this.popup().element.off("."+c)}}),_=d.extend({exec:function(){for(var e,t,i,n,o=this.lockRange(!0),s=o.endContainer;"td"!=a.name(s);)s=s.parentNode;if(!this.immutables()||!r.Immutables.immutableParent(s)){for(t=s.parentNode,e=t.children.length,i=t.cloneNode(!0),n=0;n<t.cells.length;n++)i.cells[n].innerHTML=r.emptyTableCellContent;"before"==this.options.position?a.insertBefore(i,t):a.insertAfter(i,t),this.releaseRange(o)}}}),N=d.extend({exec:function(){var e,t,i,n,o=this.lockRange(!0),s=a.closest(o.endContainer,"td"),l=a.closest(s,"table"),d=l.rows,c=this.options.position;if(!this.immutables()||!r.Immutables.immutableParent(s)){for(e=a.findNodeIndex(s,!0),t=0;t<d.length;t++)i=d[t].cells[e],n=i.cloneNode(),n.innerHTML=r.emptyTableCellContent,"before"==c?a.insertBefore(n,i):a.insertAfter(n,i);this.releaseRange(o)}}}),S=d.extend({exec:function(){var t,i,n,o=this.lockRange(),s=l.mapAll(o,function(t){return e(t).closest("tr")[0]}),d=s[0];if(!this.immutables()||!r.Immutables.immutableParent(d)){if(t=a.closest(d,"table"),t.rows.length<=s.length)i=a.next(t),i&&!a.insignificant(i)||(i=a.prev(t)),a.remove(t);else for(n=0;n<s.length;n++)d=s[n],a.removeTextSiblings(d),i=a.next(d)||a.prev(d),i=i.cells[0],a.remove(d);i&&(o.setStart(i,0),o.collapse(!0),this.editor.selectRange(o))}}}),R=d.extend({exec:function(){var e,t,i=this.lockRange(),n=a.closest(i.endContainer,"td"),o=a.closest(n,"table"),s=o.rows,l=a.findNodeIndex(n,!0),d=s[0].cells.length;if(!this.immutables()||!r.Immutables.immutableParent(n)){if(1==d)e=a.next(o),e&&!a.insignificant(e)||(e=a.prev(o)),a.remove(o);else for(a.removeTextSiblings(n),e=a.next(n)||a.prev(n),t=0;t<s.length;t++)a.remove(s[t].cells[l]);e&&(i.setStart(e,0),i.collapse(!0),this.editor.selectRange(i))}}}),z=p.extend({command:function(e){return e=n(e,this.options),"delete"==e.action?"row"==e.type?new S(e):new R(e):"row"==e.type?new _(e):new N(e)},initialize:function(e,t){p.fn.initialize.call(this,e,t),e.addClass("k-state-disabled")},update:function(e,t){var i=!w.isFormatted(t);e.toggleClass("k-state-disabled",i)}});n(i.ui.editor,{PopupTool:C,TableCommand:x,InsertTableTool:T,TableModificationTool:z,InsertRowCommand:_,InsertColumnCommand:N,DeleteRowCommand:S,DeleteColumnCommand:R}),b("createTable",new T({template:new m({template:s.buttonTemplate,popup:!0,title:"Create table"})})),b("addColumnLeft",new z({type:"column",position:"before",template:new m({template:s.buttonTemplate,title:"Add column on the left"})})),b("addColumnRight",new z({type:"column",template:new m({template:s.buttonTemplate,title:"Add column on the right"})})),b("addRowAbove",new z({type:"row",position:"before",template:new m({template:s.buttonTemplate,title:"Add row above"})})),b("addRowBelow",new z({type:"row",template:new m({template:s.buttonTemplate,title:"Add row below"})})),b("deleteRow",new z({type:"row",action:"delete",template:new m({template:s.buttonTemplate,title:"Delete row"})})),b("deleteColumn",new z({type:"column",action:"delete",template:new m({template:s.buttonTemplate,title:"Delete column"})}))}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("editor/export.min",["editor/main.min"],e)}(function(){!function(e,t){var i=window.kendo,n=e.extend,o=e.proxy,r=i.ui.editor,a=r.EditorUtils,s=r.Command,l=r.Tool,d=a.registerTool,c=r.ToolTemplate,u=[{text:"Docx",value:"docx"},{text:"Rtf",value:"rtf"},{text:"Pdf",value:"pdf"},{text:"Html",value:"html"},{text:"Plain Text",value:"txt"}],f=s.extend({init:function(e){var t=this;t.options=e,s.fn.init.call(t,e),t.attributes=null,t.exportType=e.exportType},exec:function(){var e=this,t=this.lockRange(!0);e.postToProxy(),e.releaseRange(t)},postToProxy:function(){this.generateForm().appendTo("body").submit().remove()},generateForm:function(){var t=this,i=t.editor.options.exportAs,n=e("<form>").attr({action:i&&i.proxyURL||"",method:"POST"});return n.append([t.valueInput(),t.exportTypeInput(),t.fileNameInput()]),n},valueInput:function(){var t=this.editor;return e("<input>").attr({value:t.encodedValue(),name:"value",type:"hidden"})},exportTypeInput:function(){var t=this;return e("<input>").attr({value:t.exportType,name:"exportType",type:"hidden"})},fileNameInput:function(){var t=this.editor,i=t.options.exportAs,n=i&&i.fileName||t.element.attr("id")||"editor";return e("<input>").attr({value:n,name:"fileName",type:"hidden"})}}),p=l.extend({init:function(e){var t=this;l.fn.init.call(t,i.deepExtend({},t.options,e)),t.type="kendoSelectBox"},options:{items:u,width:115},command:function(e){var t=e.value;return new r.ExportAsCommand({range:e.range,exportType:t.exportType})},initialize:function(e,t){var n=this,r=t.editor,a=n.options,s=a.name,l=o(n.changeHandler,n),d=a.items||r.options[s];d.unshift({text:r.options.messages[s],value:""}),n.editor=r,e.width(a.width),e.kendoSelectBox({dataTextField:"text",dataValueField:"value",dataSource:d,autoSize:!0,change:l,open:function(e){var t=e.sender;t.items()[0].style.display="none",t.unbind("open")},highlightFirst:!1,template:i.template('<span unselectable="on" style="display:block;#=(data.style||"")#">#:data.text#</span>')}),e.addClass("k-decorated").closest(".k-widget").removeClass("k-"+s).find("*").addBack().attr("unselectable","on")},changeHandler:function(e){var t=e.sender,i=t.dataItem(),n=i&&i.value;this._exec(n),t.value("")},_exec:function(e){e&&l.exec(this.editor,this.options.name,{exportType:e})},destroy:function(){this._ancestor=null}});n(r,{ExportAsTool:p,ExportAsCommand:f}),d("exportAs",new p({template:new c({template:a.dropDownListTemplate,title:"Export As"})}))}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("editor/import.min",["editor/main.min"],e)}(function(){!function(e,t){var i=window.kendo,n=e.extend,o=e.proxy,r=i.ui.editor,a=r.EditorUtils,s=r.Command,l=r.Tool,d=a.registerTool,c=r.ToolTemplate,u='<div contenteditable="false" class="k-loading-mask" style="width: 100%; height: 100%; position: absolute; top: 0px; left: 0px;"><div class="k-loading-image"></div><div class="k-loading-color"></div></div>',f=s.extend({exec:function(){(this.editor._uploadWidget||this._initializeUploadWidget()).element.click()},_initializeUploadWidget:function(){var t=this,i=t.editor,n=i.options["import"],r=e('<input id="editorImport" name="files" type="file" />').kendoUpload({success:o(t._onUploadSuccess,t),progress:o(t._onUploadProgress,t),select:o(t._onUploadSelect,t),error:o(t._onUploadError,t),complete:o(t._onUploadComplete,t),showFileList:!1,multiple:!1,async:{saveUrl:n.proxyUrl,autoUpload:!0,saveField:"file"},validation:{allowedExtensions:n.allowedExtensions,maxFileSize:n.maxFileSize}}).getKendoUpload();return i._uploadWidget=r,r},_onUploadComplete:function(e){this._trigger("complete",e),e.sender.clearAllFiles(),this._removeLoadingOverlay()},_onUploadSuccess:function(e){this.editor.value(e.response.html.replace(/<\/?body>/gi,"")),this._trigger("success",e)},_onUploadProgress:function(e){this._trigger("progress",e)},_onUploadSelect:function(e){this._trigger("select",e),e.files[0].validationErrors||this._initLoadingOverlay()},_onUploadError:function(e){this._trigger("error",e)},_trigger:function(e,t){var i=this.editor,n=i.options["import"];"function"==typeof n[e]&&n[e].call(i,t)},_initLoadingOverlay:function(){var t=this.editor.body;r.Dom.is(t,"body")?this._iframeWrapper=this._container=this.editor.wrapper.find("iframe").parent().css({position:"relative"}).append(u):this._container=e(t).append(u),i.ui.progress(this._container,!0)},_removeLoadingOverlay:function(){i.ui.progress(this._container,!1),e(this._iframeWrapper).css({position:""}),delete this._container,delete this._iframeWrapper}});n(r,{ImportCommand:f}),d("import",new l({command:f,template:new c({template:a.buttonTemplate,title:"Import"})}))}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("editor/resizing/resizing-utils.min",["editor/main.min"],e)}(function(){!function(e,t){function i(e){var t=e.value,i=e.min,n=e.max;return f(u(p(t),p(n)),p(i))}function n(t){return t&&!m(t).is("body")&&t.scrollHeight>t.clientHeight?e.support.scrollbar():0}function o(e,t){return r(e)?p(e):p(e)/t*100}function r(e){return typeof e===w&&k.test(e)}function a(e){return typeof e===w&&y.test(e)}function s(e){return p(e)+b}function l(e){return p(e)+v}var d=window,c=d.Math,u=c.min,f=c.max,p=d.parseFloat,m=e.jQuery,h=m.extend,g=e.ui.editor,b="%",v="px",k=/(\d+)(\.?)(\d*)%/,y=/(\d+)(\.?)(\d*)px/,w="string",x={constrain:i,getScrollBarWidth:n,calculatePercentageRatio:o,inPercentages:r,inPixels:a,toPercentages:s,toPixels:l};h(g,{ResizingUtils:x})}(window.kendo)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("editor/resizing/table-element-resizing.min",["editor/main.min","kendo.resizable.min","editor/resizing/resizing-utils.min"],e)}(function(){!function(e,t){var i=e.jQuery,n=i.extend,o=i.noop,r=i.proxy,a=e.ui.editor,s=e.Class,l="keydown",d="mousedown",c="mouseenter",u="mouseleave",f="mousemove",p="mouseup",m=",",h=".",g=":last-child",b="table",v=s.extend({init:function(e,t){var o=this;o.options=n({},o.options,t),o.options.tags=i.isArray(o.options.tags)?o.options.tags:[o.options.tags],i(e).is(b)&&(o.element=e,o._attachEventHandlers())},destroy:function(){var e=this,t=e.options.eventNamespace;e.element&&(i(e.element).off(t),e.element=null),i(e.options.rootElement).off(l+t),e._destroyResizeHandle()},options:{tags:[],min:0,rootElement:null,eventNamespace:"",rtl:!1,handle:{dataAttribute:"",height:0,width:0,classNames:{},template:""}},_attachEventHandlers:function(){var e=this,t=e.options;i(e.element).on(f+t.eventNamespace,t.tags.join(m),r(e.detectElementBorderHovering,e))},resizingInProgress:function(){var e=this,t=e._resizable;return!!t&&!!t.resizing},resize:o,detectElementBorderHovering:function(e){var t=this,n=t.options,o=n.handle,r=i(e.currentTarget),a=t.resizeHandle,s=o.dataAttribute;t.resizingInProgress()||(!r.is(g)&&t.elementBorderHovered(r,e)?a?a.data(s)&&a.data(s)!==r[0]&&t.showResizeHandle(r,e):t.showResizeHandle(r,e):a&&t._destroyResizeHandle())},elementBorderHovered:o,showResizeHandle:function(e,t){var i=this;0===t.buttons&&(i._initResizeHandle(),i.setResizeHandlePosition(e),i.setResizeHandleDimensions(),i.setResizeHandleDataAttributes(e[0]),i._attachResizeHandleEventHandlers(),i._initResizable(e),i._hideResizeMarker(),i.resizeHandle.show())},_initResizeHandle:function(){var e=this,t=e.options;e._destroyResizeHandle(),e.resizeHandle=i(t.handle.template).appendTo(t.rootElement)},setResizeHandlePosition:o,setResizeHandleDimensions:o,setResizeHandleDataAttributes:function(e){var t=this;t.resizeHandle.data(t.options.handle.dataAttribute,e)},_attachResizeHandleEventHandlers:function(){var e=this,t=e.options,i=t.eventNamespace,n=t.handle.classNames.marker,o=e.resizeHandle;e.resizeHandle.on(d+i,function(){o.find(h+n).show()}).on(p+i,function(){o.find(h+n).hide()})},_hideResizeMarker:function(){var e=this;e.resizeHandle.find(h+e.options.handle.classNames.marker).hide()},_destroyResizeHandle:function(){var e=this;e.resizeHandle&&(e._destroyResizable(),e.resizeHandle.off(e.options.eventNamespace).remove(),e.resizeHandle=null)},_initResizable:function(t){var i=this;i.resizeHandle&&(i._destroyResizable(),i._resizable=new e.ui.Resizable(t,{draggableElement:i.resizeHandle[0],start:r(i.onResizeStart,i),resize:r(i.onResize,i),resizeend:r(i.onResizeEnd,i)}))},_destroyResizable:function(){var e=this;e._resizable&&(e._resizable.destroy(),e._resizable=null)},onResizeStart:function(){this._disableKeyboard()},onResize:function(e){this.setResizeHandleDragPosition(e)},setResizeHandleDragPosition:o,onResizeEnd:function(e){var t=this;t.resize(e),t._destroyResizeHandle(),t._enableKeyboard()},_enableKeyboard:function(){var e=this.options;i(e.rootElement).off(l+e.eventNamespace)},_disableKeyboard:function(){var e=this.options;i(e.rootElement).on(l+e.eventNamespace,function(e){e.preventDefault()})},_forceResizing:function(e){var t=this._resizable;t&&t.userEvents&&t.userEvents._end(e)}}),k=s.extend({create:function(e,t){var n=this,o=t.name,r=t.eventNamespace;i(e.body).on(c+r,b,function(i){var r=i.currentTarget,a=e[o];i.stopPropagation(),a?a.element===r||a.resizingInProgress()||(n._destroyResizing(e,t),n._initResizing(e,r,t)):n._initResizing(e,r,t)}).on(u+r,b,function(r){var a,s=e[o];r.stopPropagation(),!s||s.resizingInProgress()||s.resizeHandle||(a=i(s.element).parents(b)[0],a&&(n._destroyResizing(e,t),n._initResizing(e,a,t)))}).on(u+r,function(){var i=e[o];i&&!i.resizingInProgress()&&n._destroyResizing(e,t)}).on(p+r,function(r){var a,s=e[o];s&&s.resizingInProgress()&&(a=i(r.target).parents(b)[0],a&&(s._forceResizing(r),n._destroyResizing(e,t),n._initResizing(e,a,t)))})},dispose:function(e,t){i(e.body).off(t.eventNamespace)},_initResizing:function(t,i,n){var o=n.name,r=n.type;t[o]=new r(i,{rtl:e.support.isRtl(t.element),rootElement:t.body})},_destroyResizing:function(e,t){var i=t.name;e[i]&&(e[i].destroy(),e[i]=null)}});k.current=new k,v.create=function(e,t){k.current.create(e,t)},v.dispose=function(e,t){k.current.dispose(e,t)},n(a,{TableElementResizing:v})}(window.kendo)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("editor/resizing/column-resizing.min",["editor/main.min","editor/resizing/resizing-utils.min","editor/resizing/table-element-resizing.min"],e)}(function(){!function(e,t){var i=window,n=i.Math,o=n.abs,r=e.jQuery,a=r.extend,s=e.ui.editor,l=s.TableElementResizing,d=s.ResizingUtils,c=d.constrain,u=d.calculatePercentageRatio,f=d.getScrollBarWidth,p=d.inPercentages,m=d.toPercentages,h=d.toPixels,g=e._outerWidth,b=".kendoEditorColumnResizing",v="k-column-resize-handle",k="k-column-resize-marker",y="body",w="tbody",x="td",C="th",T="tr",_=",",N="width",S=l.extend({options:{tags:[x,C],min:20,rootElement:null,eventNamespace:b,rtl:!1,handle:{dataAttribute:"column",width:10,height:0,classNames:{handle:v,marker:k},template:'<div class="k-column-resize-handle-wrapper" unselectable="on" contenteditable="false"><div class="'+v+'"><div class="'+k+'"></div></div></div>'}},elementBorderHovered:function(e,t){var i=this,n=i.options,o=n.handle.width,a=e.offset().left+(n.rtl?0:g(e)),s=t.clientX+r(e[0].ownerDocument).scrollLeft();return s>a-o&&s<a+o},setResizeHandlePosition:function(e){var t=this,i=r(t.element).children(w),n=t.options,o=n.rtl,a=n.handle.width,s=r(n.rootElement),l=s.is(y)?0:s.scrollTop(),d=s.is(y)?0:s.scrollLeft(),c=o?0:g(e),u=o?f(s[0]):0;t.resizeHandle.css({top:i.position().top+l,left:e.position().left+c+(d-u)-a/2,position:"absolute"})},setResizeHandleDimensions:function(){var e=this,t=r(e.element).children(w);e.resizeHandle.css({width:e.options.handle.width,height:t.height()})},setResizeHandleDragPosition:function(e){var t=this,i=r(r(e.currentTarget).data(t.options.handle.dataAttribute)),n=t.options,o=n.handle?n.handle.width:0,a=n.min,s=n.rtl,l=g(i),d=i.position().left,u=g(i.next()),p=r(t.resizeHandle),m=r(n.rootElement),h=m.is(y)?0:m.scrollLeft(),b=s?f(m[0]):0,v=c({value:p.position().left+(h-b)+e.x.delta,min:d+(h-b)-(s?u:0)+a,max:d+l+(h-b)+(s?0:u)-o-a});p.css({left:v})},resize:function(e){var t,i,n,o=this,a=r(r(e.currentTarget).data(o.options.handle.dataAttribute)),s=o.options,l=s.rtl?-1:1,d=s.min,u=l*e.x.initialDelta;o._setTableComputedWidth(),o._setColumnsComputedWidth(),n=g(a),i=g(a.next()),t=c({value:n+u,min:d,max:n+i-d}),o._resizeColumn(a[0],t),o._resizeTopAndBottomColumns(a[0],t),o._resizeAdjacentColumns(a.index(),i,n,n-t)},_setTableComputedWidth:function(){var e=this.element;""===e.style[N]&&(e.style[N]=h(g(r(e))))},_setColumnsComputedWidth:function(){var e,t=this,i=r(t.element).children(w),n=g(i),o=i.children(T).children(x),a=o.length,s=o.map(function(){return g(r(this))});for(e=0;e<a;e++)o[e].style[N]=p(o[e].style[N])?m(u(s[e],n)):h(s[e])},_resizeTopAndBottomColumns:function(e,t){var i,n=this,o=r(e).index(),a=r(n.element).children(w).children(T).children(n.options.tags.join(_)).filter(function(){var t=this;return r(t).index()===o&&t!==e}),s=a.length;for(i=0;i<s;i++)n._resizeColumn(a[i],t)},_resizeColumn:function(e,t){e.style[N]=p(e.style[N])?m(u(t,g(r(this.element).children(w)))):h(t)},_resizeAdjacentColumns:function(e,t,i,n){var o,a=this,s=r(a.element).children(w).children(T).children(a.options.tags.join(_)).filter(function(){return r(this).index()===e+1}),l=s.length;for(o=0;o<l;o++)a._resizeAdjacentColumn(s[o],t,i,n)},_resizeAdjacentColumn:function(e,t,i,n){var r=this,a=r.options.min,s=c({value:t+n,min:a,max:o(i+t-a)});r._resizeColumn(e,s)}});S.create=function(e){l.create(e,{name:"columnResizing",type:S,eventNamespace:b})},S.dispose=function(e){l.dispose(e,{eventNamespace:b})},a(s,{ColumnResizing:S})}(window.kendo)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("editor/resizing/row-resizing.min",["editor/main.min","editor/resizing/resizing-utils.min","editor/resizing/table-element-resizing.min"],e)}(function(){!function(e,t){var i=window.Math,n=i.abs,o=e.jQuery,r=o.extend,a=e.ui.editor,s=a.TableElementResizing,l=a.ResizingUtils,d=l.getScrollBarWidth,c=l.constrain,u=l.calculatePercentageRatio,f=l.inPercentages,p=l.toPercentages,m=l.toPixels,h=e._outerHeight,g=".kendoEditorRowResizing",b="k-row-resize-handle",v="k-row-resize-marker-wrapper",k="k-row-resize-marker",y="body",w="tr",x="tbody",C="height",T=s.extend({options:{tags:[w],min:20,rootElement:null,eventNamespace:g,rtl:!1,handle:{dataAttribute:"row",width:0,height:10,classNames:{handle:b,marker:k},template:'<div class="k-row-resize-handle-wrapper" unselectable="on" contenteditable="false"><div class="'+b+'"><div class="'+v+'"><div class="'+k+'"></div></div></div></div>'}},elementBorderHovered:function(e,t){var i=this,n=i.options.handle[C],r=e.offset().top+h(e),a=t.clientY+o(e[0].ownerDocument).scrollTop();return a>r-n&&a<r+n},setResizeHandlePosition:function(e){var t=this,i=t.options,n=i.handle[C],r=e.position(),a=o(i.rootElement),s=a.is(y)?0:a.scrollTop(),l=a.is(y)?0:a.scrollLeft(),c=i.rtl?d(a[0]):0;t.resizeHandle.css({top:r.top+h(e)+s-n/2,left:r.left+(l-c),position:"absolute"})},setResizeHandleDimensions:function(){var e=this;e.resizeHandle.css({width:o(e.element).children(x).width(),height:e.options.handle[C]})},setResizeHandleDragPosition:function(e){var t=this,i=t.options,n=i.min,r=o(t.element).children(x),a=r.position().top,s=o(t.resizeHandle),l=o(e.currentTarget).data(i.handle.dataAttribute),d=o(i.rootElement),u=d.is(y)?0:d.scrollTop(),f=c({value:s.position().top+u+e.y.delta,min:o(l).position().top+u+n,max:a+h(r)+u-i.handle[C]-n});s.css({top:f})},resize:function(e){var t=this,i=t.options,r=o(e.currentTarget).data(i.handle.dataAttribute),a=h(o(r)),s=o(t.element),l=h(s),d=s.children(x),u=d.height(),p=r.style[C],g=c({value:a+e.y.initialDelta,min:i.min,max:n(u-i.min)});t._setRowsHeightInPixels(),r.style[C]=m(g),t._setTableHeight(l+(g-a)),f(p)&&t._setRowsHeightInPercentages()},_setRowsHeightInPixels:function(){var e,t=this,i=o(t.element).children(x).children(w),n=i.length,r=i.map(function(){return h(o(this))});for(e=0;e<n;e++)i[e].style[C]=m(r[e])},_setRowsHeightInPercentages:function(){var e,t=this,i=o(t.element).children(x),n=i.height(),r=i.children(w),a=r.length,s=r.map(function(){return h(o(this))});for(e=0;e<a;e++)r[e].style[C]=p(u(s[e],n))},_setTableHeight:function(e){var t=this.element;t.style[C]=f(t.style[C])?p(u(e,o(t).parent().height())):m(e)}});T.create=function(e){s.create(e,{name:"rowResizing",type:T,eventNamespace:g})},T.dispose=function(e){s.dispose(e,{eventNamespace:g})},r(a,{RowResizing:T})}(window.kendo)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("editor/resizing/table-resize-handle.min",["editor/main.min","kendo.draganddrop.min","editor/resizing/resizing-utils.min"],e)}(function(){!function(e,t){var i,n,o,r,a,s,l,d,c,u,f,p,m,h,g,b,v,k,y,w,x,C,T=e.jQuery,_=T.extend,N=T.noop,S=T.proxy,R=e.ui.editor,z=e.Class,A=e.ui.Draggable,E=e.Observable,D=R.ResizingUtils.getScrollBarWidth,P=e._outerWidth,I=e._outerHeight,H=".kendoEditorTableResizeHandle",B="k-table-resize-handle",O="dragStart",F="drag",L="dragEnd",W="halfInside",U="mouseover",M="mouseout",V="body",j="table",K="east",$="north",G="northeast",q="northwest",Q="south",X="southeast",Y="southwest",J="west",Z=".",ee=E.extend({init:function(e){var t=this;E.fn.init.call(t),t.options=_({},t.options,e),t.element=T(t.options.template).appendTo(t.options.appendTo)[0],t._attachEventHandlers(),t._addStyles(),t._initDraggable(),t._initPositioningStrategy(),t._initDraggingStrategy(),T(t.element).data(j,t.options.resizableElement)},destroy:function(){var e=this;T(e.element).off(H).remove(),e.element=null,e._destroyDraggable(),e.unbind()},options:{appendTo:null,direction:X,resizableElement:null,rtl:!1,template:"<div class='k-table-resize-handle-wrapper' unselectable='on' contenteditable='false'><div class='"+B+"'></div></div>"},events:[O,F,L,U,M],show:function(){this._setPosition()},_setPosition:function(){var e=this,t=e._positioningStrategy.getPosition();T(e.element).css({top:t.top,left:t.left,position:"absolute"})},_attachEventHandlers:function(){var e=this;T(e.element).on(U+H,S(e._onMouseOver,e)).on(M+H,S(e._onMouseOut,e))},_onMouseOver:function(){this.trigger(U)},_onMouseOut:function(){this.trigger(M)},_addStyles:function(){var e=this;T(e.element).children(Z+B).addClass("k-resize-"+e.options.direction)},_initPositioningStrategy:function(){var e=this,t=e.options;e._positioningStrategy=i.create({name:t.direction,handle:e.element,resizableElement:t.resizableElement,rootElement:t.rootElement,rtl:t.rtl})},_initDraggable:function(){var e=this,t=e.element;!e._draggable&&t&&(e._draggable=new A(t,{dragstart:S(e._onDragStart,e),drag:S(e._onDrag,e),dragend:S(e._onDragEnd,e)}))},_onDragStart:function(){this.trigger(O)},_onDrag:function(e){var t=this;t.trigger(F,t._draggingStrategy.adjustDragDelta({deltaX:e.x.delta,deltaY:e.y.delta,initialDeltaX:e.x.initialDelta,initialDeltaY:e.y.initialDelta}))},_onDragEnd:function(){this.trigger(L)},_destroyDraggable:function(){var e=this;e._draggable&&(e._draggable.destroy(),e._draggable=null)},_initDraggingStrategy:function(){var e=this;e._draggingStrategy=f.create({name:e.options.direction})}}),te=z.extend({init:function(){this._items=[]},register:function(e,t){this._items.push({name:e,type:t})},create:function(e){var t,i,n,o=this._items,r=o.length,a=e.name?e.name.toLowerCase():"";for(n=0;n<r;n++)if(i=o[n],i.name.toLowerCase()===a){t=i;break}if(t)return new t.type(e)}}),ie=te.extend({});ie.current=new ie,i=z.extend({init:function(e){var t=this;t.options=_({},t.options,e)},options:{handle:null,offset:W,resizableElement:null,rootElement:null,rtl:!1},getPosition:function(){var e=this,t=e.calculatePosition(),i=e.applyHandleOffset(t),n=e.applyScrollOffset(i);return n},calculatePosition:N,applyHandleOffset:function(e){var t=this.options,i=T(t.handle);return t.offset===W?{top:e.top-I(i)/2,left:e.left-P(i)/2}:e},applyScrollOffset:function(e){var t=this.options,i=T(t.rootElement),n=t.rtl?D(i[0]):0;return i.is(V)?e:{top:e.top+(i.scrollTop()||0),left:e.left+(i.scrollLeft()||0)-n}}}),i.create=function(e){return ie.current.create(e)},n=i.extend({calculatePosition:function(){var e=T(this.options.resizableElement),t=e.position();return{top:t.top+I(e)/2,left:t.left+P(e)}}}),ie.current.register(K,n),o=i.extend({calculatePosition:function(){var e=T(this.options.resizableElement),t=e.position();return{top:t.top,left:t.left+P(e)/2}}}),ie.current.register($,o),r=i.extend({calculatePosition:function(){var e=T(this.options.resizableElement),t=e.position();return{top:t.top,left:t.left+P(e)}}}),ie.current.register(G,r),a=i.extend({calculatePosition:function(){var e=T(this.options.resizableElement),t=e.position();return{top:t.top,left:t.left}}}),ie.current.register(q,a),s=i.extend({calculatePosition:function(){var e=T(this.options.resizableElement),t=e.position();return{top:t.top+I(e),left:t.left+P(e)/2}}}),ie.current.register(Q,s),l=i.extend({calculatePosition:function(){var e=T(this.options.resizableElement),t=e.position();return{top:t.top+I(e),left:t.left+P(e)}}}),ie.current.register(X,l),d=i.extend({calculatePosition:function(){var e=T(this.options.resizableElement),t=e.position();
return{top:t.top+I(e),left:t.left}}}),ie.current.register(Y,d),c=i.extend({calculatePosition:function(){var e=T(this.options.resizableElement),t=e.position();return{top:t.top+I(e)/2,left:t.left}}}),ie.current.register(J,c),u=te.extend({}),u.current=new u,f=z.extend({init:function(e){var t=this;t.options=_({},t.options,e)},options:{deltaX:{adjustment:null,modifier:null},deltaY:{adjustment:null,modifier:null}},adjustDragDelta:function(e){var t=this.options,i=t.deltaX.adjustment*t.deltaX.modifier,n=t.deltaY.adjustment*t.deltaY.modifier;return{deltaX:e.deltaX*i,deltaY:e.deltaY*n,initialDeltaX:e.initialDeltaX*i,initialDeltaY:e.initialDeltaY*n}}}),f.create=function(e){return u.current.create(e)},p=f.extend({options:{deltaX:{adjustment:1,modifier:1},deltaY:{adjustment:0,modifier:0}}}),m=p.extend({options:{deltaX:{modifier:1}}}),u.current.register(K,m),h=p.extend({options:{deltaX:{modifier:-1}}}),u.current.register(J,h),g=f.extend({options:{deltaX:{adjustment:0,modifier:0},deltaY:{adjustment:1,modifier:1}}}),b=g.extend({options:{deltaY:{modifier:-1}}}),u.current.register($,b),v=g.extend({options:{deltaY:{modifier:1}}}),u.current.register(Q,v),k=f.extend({options:{deltaX:{adjustment:1,modifier:1},deltaY:{adjustment:1,modifier:1}}}),y=k.extend({options:{deltaX:{modifier:1},deltaY:{modifier:-1}}}),u.current.register(G,y),w=k.extend({options:{deltaX:{modifier:-1},deltaY:{modifier:-1}}}),u.current.register(q,w),x=k.extend({options:{deltaX:{modifier:1},deltaY:{modifier:1}}}),u.current.register(X,x),C=k.extend({options:{deltaX:{modifier:-1},deltaY:{modifier:1}}}),u.current.register(Y,C),_(R,{TableResizeHandle:ee})}(window.kendo)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("editor/resizing/table-resizing.min",["editor/main.min","editor/resizing/table-resize-handle.min","editor/resizing/resizing-utils.min"],e)}(function(){!function(e,t){function i(e){return t===e}var n=window,o=n.Math,r=o.min,a=o.max,s=e.jQuery,l=s.contains,d=s.extend,c=s.proxy,u=e.support.browser,f=e.ui.editor,p=e.Class,m=f.TableResizeHandle,h=f.ResizingUtils,g=h.calculatePercentageRatio,b=h.constrain,v=h.inPercentages,k=h.inPixels,y=h.toPercentages,w=h.toPixels,x=e._outerWidth,C=e._outerHeight,T=".kendoEditorTableResizing",_="k-table-resize-handle-wrapper",N="k-table",S="k-table-resizing",R="dragStart",z="drag",A="dragEnd",E="keydown",D="mousedown",P="mouseover",I="mouseout",H="td",B="tr",O="tbody",F="table",L="width",W="height",U="east",M="north",V="northeast",j="northwest",K="south",$="southeast",G="southwest",q="west",Q=".",X=p.extend({init:function(e,t){var i=this;i.options=d({},i.options,t),i.handles=[],s(e).is(F)&&(i.element=e)},destroy:function(){var e=this;s(e.element).off(T),e.element=null,s(e.options.rootElement).off(E+T),e._destroyResizeHandles()},options:{appendHandlesTo:null,rtl:!1,rootElement:null,minWidth:10,minHeight:10,handles:[{direction:j},{direction:M},{direction:V},{direction:U},{direction:$},{direction:K},{direction:G},{direction:q}]},resize:function(e){var t=this,i=d({},{deltaX:0,deltaY:0,initialDeltaX:0,initialDeltaY:0},e);t._resizeWidth(i.deltaX,i.initialDeltaX),t._resizeHeight(i.deltaY,i.initialDeltaY),t.showResizeHandles()},_resizeWidth:function(e,t){var n,o,l,d,c=this,u=s(c.element),f=u[0].style[L],p=x(u),m=u.parent().width(),h=c._getMaxDimensionValue(L);0!==e&&(i(c._initialElementWidth)&&(c._initialElementWidth=p),d=b({value:c._initialElementWidth+t,min:c.options.minWidth,max:h}),v(f)?(p+e>m?(o=a(d,m),l=r(d,m)):(o=r(d,m),l=a(d,m)),n=y(g(o,l))):n=w(d),c._setColumnsWidth(),u[0].style[L]=n)},_resizeHeight:function(e,t){var n,o,l,d,c=this,u=s(c.element),f=u[0].style[W],p=C(u),m=u.parent(),h=m.height(),k=c._getMaxDimensionValue(W),x=c.options.minHeight,T=c._hasRowsInPixels();0!==e&&(i(c._initialElementHeight)&&(c._initialElementHeight=p),d=b({value:c._initialElementHeight+t,min:x,max:k}),T&&e<0&&c._setRowsHeightInPercentages(),v(f)?(p+e>h?(o=a(d,h),l=r(d,h)):(o=r(d,h),l=a(d,h)),n=y(g(o,l))):n=w(d),u[0].style[W]=n,T&&e<0&&c._setRowsHeightInPixels())},_getMaxDimensionValue:function(e){var t=this,i=s(t.element),n=e.toLowerCase(),o=t.options.rtl?-1:1,r=s(t.element).parent(),a=r[0],l=r[n](),d=o*(e===L?r.scrollLeft():r.scrollTop());return a===i.closest(H)[0]?""!==a.style[n]||v(t.element.style[n])?l+d:1/0:l+d},_setColumnsWidth:function(){function e(e){var t=e.style.width;return""!==t?!!v(t):!!s(e).hasClass(N)}var t,i=this,n=s(i.element),o=n.parent()[0],r=n.closest(H),a=r.closest(B).children(),l=a.length;if(e(n[0])&&o===r[0]&&""===o.style[L])for(t=0;t<l;t++)a[t].style[L]=w(s(a[t]).width())},_hasRowsInPixels:function(){var e,t=this,i=s(t.element).children(O).children(B);for(e=0;e<i.length;e++)if(""===i[e].style.height||k(i[e].style.height))return!0;return!1},_setRowsHeightInPercentages:function(){var e,t=this,i=s(t.element).children(O),n=i.height(),o=i.children(B),r=o.length,a=o.map(function(){return C(s(this))});for(e=0;e<r;e++)o[e].style[W]=y(g(a[e],n))},_setRowsHeightInPixels:function(){var e,t=this,i=s(t.element).children(O).children(B),n=i.length,o=i.map(function(){return C(s(this))});for(e=0;e<n;e++)i[e].style[W]=w(o[e])},showResizeHandles:function(){var e=this;e._initResizeHandles(),e._showResizeHandles()},_initResizeHandles:function(){var e,t=this,i=t.handles,n=t.options,o=t.options.handles,r=o.length;if(!(i&&i.length>0)){for(e=0;e<r;e++)t.handles.push(new m(d({appendTo:n.appendHandlesTo,resizableElement:t.element,rootElement:n.rootElement,rtl:n.rtl},o[e])));t._bindToResizeHandlesEvents()}},_destroyResizeHandles:function(){var e,t=this,i=t.handles?t.handles.length:0;for(e=0;e<i;e++)t.handles[e].destroy()},_showResizeHandles:function(){var e,t=this,i=t.handles||[],n=i.length;for(e=0;e<n;e++)t.handles[e].show()},_bindToResizeHandlesEvents:function(){var e,t,i=this,n=i.handles||[],o=n.length;for(e=0;e<o;e++)t=n[e],t.bind(R,c(i._onResizeHandleDragStart,i)),t.bind(z,c(i._onResizeHandleDrag,i)),t.bind(A,c(i._onResizeHandleDragEnd,i)),t.bind(P,c(i._onResizeHandleMouseOver,i)),t.bind(I,c(i._onResizeHandleMouseOut,i))},_onResizeHandleDragStart:function(){var e=this,t=s(e.element);t.addClass(S),e._initialElementHeight=C(t),e._initialElementWidth=x(t),e._disableKeyboard()},_onResizeHandleDrag:function(e){this.resize(e)},_onResizeHandleDragEnd:function(){var e=this;s(e.element).removeClass(S),e._enableKeyboard()},_enableKeyboard:function(){s(this.options.rootElement).off(E+T)},_disableKeyboard:function(){s(this.options.rootElement).on(E+T,function(e){e.preventDefault()})}}),Y=p.extend({create:function(e){var t=this;s(e.body).on(D+T,F,function(i){var n=i.target,o=i.currentTarget,r=e.tableResizing,a=r?r.element:null;if(r){if(a&&o!==a){if(l(o,a)&&a!==n&&l(a,n))return;a!==n&&(e._destroyTableResizing(),t._initResizing(e,o))}}else t._initResizing(e,o);e._showTableResizeHandles()}).on(D+T,function(t){var i=e.tableResizing,n=i?i.element:null,o=t.target,r=s(o).hasClass(_)||s(o).parents(Q+_).length>0;!i||n===o||l(n,o)||r||e._destroyTableResizing()})},dispose:function(e){s(e.body).off(T)},_initResizing:function(t,i){u.msie||u.mozilla||(t.tableResizing=new X(i,{appendHandlesTo:t.body,rtl:e.support.isRtl(t.element),rootElement:t.body}))}});Y.current=new Y,X.create=function(e){Y.current.create(e)},X.dispose=function(e){Y.current.dispose(e)},d(f,{TableResizing:X})}(window.kendo)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("editor/immutables.min",["editor/tables.min"],e)}(function(){!function(e,t){var i=window.kendo,n=i.Class,o=i.ui.editor,r=o.Dom,a=i.template,s=o.RangeUtils,l=["ul","ol","tbody","thead","table"],d=["bold","italic","underline","strikethrough","superscript","subscript","forecolor","backcolor","fontname","fontsize","createlink","unlink","autolink","addcolumnleft","addcolumnright","addrowabove","addrowbelow","deleterow","deletecolumn","mergecells","formatting","cleanformatting"],c="k-immutable",u="["+c+"]",f="[contenteditable='false']",p=function(t){return e(t).is("body,.k-editor")},m=function(e){return e.getAttribute&&"false"==e.getAttribute("contenteditable")},h=function(e){return r.closestBy(e,m,p)},g=function(e){var t=h(e.startContainer),i=h(e.endContainer);(t||i)&&(t&&e.setStartBefore(t),i&&e.setEndAfter(i))},b=function(e){if(h(e.commonAncestorContainer))return!0;if(h(e.startContainer)||h(e.endContainer)){var t=s.editableTextNodes(e);if(0===t.length)return!0}return!1},v=function(e){var t,i="",n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(t=e||10;t>0;--t)i+=n.charAt(Math.round(Math.random()*(n.length-1)));return i},k=function(t){var i,n,o,a={empty:!0};return e(t).find(f).each(function(t,s){i=r.name(s),n=v(),o="<"+i+" "+c+"='"+n+"'></"+i+">",a[n]={node:s,style:e(s).attr("style")},a.empty=!1,e(s).replaceWith(o)}),a},y=function(t,i){var n,o;e(t).find(u).each(function(t,r){n=r.getAttribute(c),o=i[n],e(r).replaceWith(o.node),o.style!=e(o.node).attr("style")&&e(o.node).removeAttr("style").attr("style",o.style)})},w=function(e){var t=i.keys;return e===t.BACKSPACE||e==t.DELETE},x=function(e){var i=e?e.options:t;i&&i.finder&&i.finder._initOptions({immutables:!0})},C=n.extend({init:function(t){this.editor=t,this.serializedImmutables={},this.options=e.extend({},t&&t.options&&t.options.immutables);var i=t.toolbar.tools;x(i.justifyLeft),x(i.justifyCenter),x(i.justifyRight),x(i.justifyFull)},serialize:function(e){var t,i=this._toHtml(e);return i.indexOf(c)===-1?(t=this.randomId(),i=i.replace(/>/," "+c+'="'+t+'">')):t=i.match(/k-immutable\s*=\s*['"](.*)['"]/)[1],this.serializedImmutables[t]=e,i},_toHtml:function(e){var t,i=this.options.serialization,n=typeof i;switch(n){case"string":return a(i)(e);case"function":return i(e);default:return t=r.name(e),"<"+t+"></"+t+">"}},deserialize:function(t){var n=this,o=this.options.deserialization;e(u,t).each(function(){var t=this.getAttribute(c),r=n.serializedImmutables[t];i.isFunction(o)&&o(this,r),e(this).replaceWith(r)}),n.serializedImmutables={}},randomId:function(e){return v(e)},keydown:function(e,t){var i=w(e.keyCode),n=i&&this._cancelDeleting(e,t)||!i&&this._cancelTyping(e,t);if(n)return e.preventDefault(),!0},_cancelTyping:function(e,t){var i=this.editor,n=i.keyboard;return t.collapsed&&!n.typingInProgress&&n.isTypingKey(e)&&b(t)},_cancelDeleting:function(e,t){var n,o,a,s,d=i.keys,c=e.keyCode===d.BACKSPACE,u=e.keyCode==d.DELETE;if(!c&&!u)return!1;if(n=!1,t.collapsed){if(b(t))return!0;if(o=this.nextImmutable(t,u),o&&c&&(a=r.closest(t.commonAncestorContainer,"li"),a&&(s=r.closest(o,"li"),s&&s!==a)))return n;if(o&&!r.tableCell(o)){if(r.parentOfType(o,l)===r.parentOfType(t.commonAncestorContainer,l)){for(;o&&1==o.parentNode.childNodes.length;)o=o.parentNode;if(r.tableCell(o))return n;this._removeImmutable(o,t)}n=!0}}return n},nextImmutable:function(e,t){var i,n=e.commonAncestorContainer;if(r.isBom(n)||t&&s.isEndOf(e,n)||!t&&s.isStartOf(e,n)){if(i=this._nextNode(n,t),i&&r.isBlock(i)&&!h(i))for(;i&&i.children&&i.children[t?0:i.children.length-1];)i=i.children[t?0:i.children.length-1];return h(i)}},_removeImmutable:function(e,t){var i=this.editor,n=new o.RestorePoint(t,i.body);r.remove(e),o._finishUpdate(i,n)},_nextNode:function(e,t){for(var i,n=t?"nextSibling":"previousSibling",o=e;o&&!i;)i=o[n],i&&r.isDataNode(i)&&/^\s|[\ufeff]$/.test(i.nodeValue)&&(o=i,i=o[n]),i||(o=o.parentNode);return i}});C.immutable=m,C.immutableParent=h,C.expandImmutablesIn=g,C.immutablesContext=b,C.toolsToBeUpdated=d,C.removeImmutables=k,C.restoreImmutables=y,o.Immutables=C}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("editor/table-wizard/table-wizard-command.min",["editor/tables.min"],e)}(function(){!function(e,t){var i=window.kendo,n=i.ui.editor,o=n.EditorUtils,r=n.RangeUtils,a=n.Dom,s=o.registerTool,l=n.ToolTemplate,d=n.Command,c=new n.BlockFormatFinder([{tags:["table"]}]),u=new n.BlockFormatFinder([{tags:["td","th"]}]),f=/([a-z]+|%)$/i,p=d.extend({exec:function(){var o=this,r=o.editor,a=o.range=o.lockRange(),s=o._sourceTable=o.options.insertNewTable?t:o._selectedTable(a),l=o._selectedTableCells=s?o._selectedCells(a):t,d={visible:!1,messages:r.options.messages,closeCallback:e.proxy(o.onDialogClose,o),table:o.parseTable(s,l),dialogOptions:r.options.dialogOptions,isRtl:i.support.isRtl(r.wrapper)},c=new n.TableWizardDialog(d);c.open()},onDialogClose:function(e){var t=this;t.releaseRange(t.range),e&&(t.options.insertNewTable?t.insertTable(t.createNewTable(e)):t.updateTable(e,t._sourceTable,t._selectedTableCells))},releaseRange:function(e){var t=this,i=t.editor.document;a.windowFromDocument(i).focus(),d.fn.releaseRange.call(t,e)},insertTable:function(e){var t=this.range;t.insertNode(e),t.collapse(!0),this.editor.selectRange(t)},updateTable:function(t,i,n){for(var o,r,s,l,d,c,u,f,p=this,m=e(i.rows).toArray(),h=t.tableProperties,g=h.rows,b=h.columns,v=function(e){return e[e.length-1]};n.length>1;)n.pop();if(o=n.length?v(n).parentNode:v(m),p._deleteTableRows(m,m.length-g),m.length<g)for(l=e(o).index(),d=o.cells.length,c=g-m.length,s=o.parentNode;c;)r=s.insertRow(l+1),p._insertCells(d-r.cells.length,r),c--;m[0].cells.length>b&&e(m).each(function(e,t){for(;t.cells.length>b;)t.deleteCell(-1)}),m[0].cells.length<b&&(u=e(v(n)||v(o.cells)).index(),e(m).each(function(e,t){p._insertCells(b-t.cells.length,t,u+1)})),p._updateTableProperties(i,h),f=t.cellProperties,n[0]&&a.attr(n[0],{id:f.id||null}),(f.selectAllCells?e(m).children():e(n)).each(function(e,t){p._updateCellProperties(t,f)}),p._updateCaption(i,h),h.cellsWithHeaders=h.cellsWithHeaders||!1,p.cellsWithHeadersAssociated(i)!=h.cellsWithHeaders&&p.associateCellsWithHeader(i,h.cellsWithHeaders)},_isHeadingRow:function(e){return a.is(e.parentNode,"thead")||a.is(e.cells[0],"th")},associateCellsWithHeader:function(t,i){var n,o,r,a=(new Date).getTime(),s=[],l=t.rows[0].cells.length,d=function(){for(var e=0;e<l;e++)s[e]="table"+ ++a},c=function(t,n){e(n)[i?"attr":"removeAttr"]("id",s[t])},u=function(t,n){e(n)[i?"attr":"removeAttr"]("headers",s[t])},f=this._isHeadingRow;e(t.rows).each(function(i,a){if(f(a))for(n=i,o=t.rows[++n],r=o&&!f(o),r&&(d(),e(a.cells).each(c));r;)e(o.cells).each(u),o=t.rows[++n],r=o&&!f(o)})},cellsWithHeadersAssociated:function(t){var i,n=e(t.rows).children(),o=this._isHeadingRow,r=[];return n.each(function(e,t){t.id&&o(t.parentNode)&&r.push(t.id)}),i=n.filter(function(t,i){var n=i.getAttribute("headers");return n&&!o(i.parentNode)&&e.inArray(n,r)>-1}),!!i.length},_insertCells:function(e,t,i){i=isNaN(i)?-1:i;for(var n,o=0;o<e;o++)n=t.insertCell(i),n.innerHTML="&nbsp;"},_deleteTableRows:function(e,t){for(var i,n,o=0;o<t;o++)i=e.pop(),n=i.parentNode,n.removeChild(i),n.rows.length||a.remove(n)},createNewTable:function(e){var t,i,n,o,r,s=this,l=s.editor.document,d=e.tableProperties,c=e.cellProperties,u=c.selectAllCells,f=a.create(l,"table");for(s._updateTableProperties(f,d),s._updateCaption(f,d),t=f.createTBody(),i=0;i<d.rows;i++)for(n=t.insertRow(),o=0;o<d.columns;o++)r=n.insertCell(),r.innerHTML="&nbsp;",0===i&&0===o&&c.id&&(r.id=c.id),s._updateCellProperties(r,u||0===i&&0===o?c:{});return d.cellsWithHeaders&&s.associateCellsWithHeader(f,d.cellsWithHeaders),f},_updateTableProperties:function(t,i){var n=this._getStylesData(i);a.attr(t,{cellSpacing:i.cellSpacing||null,cellPadding:i.cellPadding||null,className:i.className||null,id:i.id||null,summary:i.summary||null,style:n||null}),e(t).addClass("k-table")},_updateCellProperties:function(e,t){var i=this._getStylesData(t);i.padding=t.cellPadding||null,i.margin=t.cellMargin||null,a.attr(e,{style:i||null,className:t.className||null})},_updateCaption:function(e,t){var i,n;e.caption&&!t.captionContent?e.deleteCaption():t.captionContent&&(i=e.createCaption(),i.innerHTML=t.captionContent,n=this._getAlignmentData(t.captionAlignment),a.attr(i,{style:{textAlign:n.textAlign,verticalAlign:n.verticalAlign}}))},_getStylesData:function(e){var t=this._getAlignmentData(e.alignment),i="wrapText"in e?e.wrapText?"":"nowrap":null;return{width:e.width?e.width+e.widthUnit:null,height:e.height?e.height+e.heightUnit:null,textAlign:t.textAlign,verticalAlign:t.verticalAlign,backgroundColor:e.bgColor||null,borderWidth:e.borderWidth,borderStyle:e.borderStyle,borderColor:e.borderColor,borderCollapse:e.collapseBorders?"collapse":null,whiteSpace:i}},_getAlignmentData:function(e){var t,i="",n=i;return e&&(e.indexOf(" ")!=-1?(t=e.split(" "),i=t[0],n=t[1]):i=e),{textAlign:i,verticalAlign:n}},parseTable:function(i,n){var o,r,a,s,l,d,c,u,f,p;return i?(o=this,r=i.style,a=i.rows,s=i.caption,l=e(s?s.cloneNode(!0):t),l.find(".k-marker").remove(),d=i.className,d=d.replace(/^k-table\s|\sk-table$/,""),d=d.replace(/\sk-table\s/," "),d=d.replace(/^k-table$/,""),c=o._getAlignment(i,!0),u=s?o._getAlignment(s):t,f=o.cellsWithHeadersAssociated(i),p={tableProperties:{width:r.width||i.width?parseFloat(r.width||i.width):null,height:r.height||i.height?parseFloat(r.height||i.height):null,columns:a[0]?a[0].children.length:0,rows:a.length,widthUnit:o._getUnit(r.width),heightUnit:o._getUnit(r.height),cellSpacing:i.cellSpacing,cellPadding:i.cellPadding,alignment:c.textAlign,bgColor:r.backgroundColor||i.bgColor,className:d,id:i.id,borderWidth:r.borderWidth||i.border,borderColor:r.borderColor,borderStyle:r.borderStyle||"",collapseBorders:!!r.borderCollapse,summary:i.summary,captionContent:s?l.html():"",captionAlignment:s&&u.textAlign?u.textAlign+" "+u.verticalAlign:"",cellsWithHeaders:f},selectedCells:[]},p.rows=o.parseTableRows(a,n,p),p):{tableProperties:{},selectedCells:[]}},parseTableRows:function(t,i,n){var o,r,a,s,l,d,c,u=this,f=[];for(d=0;d<t.length;d++)for(o=t[d],r={cells:[]},a=o.cells,f.push(r),c=0;c<a.length;c++)s=a[c],l=u.parseCell(s),e.inArray(s,i)!=-1&&n.selectedCells.push(l),r.cells.push(l);return f},parseCell:function(e){var t,i=this,n=e.style,o=i._getAlignment(e);return o=o.textAlign?o.textAlign+" "+o.verticalAlign:"",t={width:n.width||e.width?parseFloat(n.width||e.width):null,height:n.height||e.height?parseFloat(n.height||e.height):null,widthUnit:i._getUnit(n.width),heightUnit:i._getUnit(n.height),cellMargin:n.margin,cellPadding:n.padding,alignment:o,bgColor:n.backgroundColor||e.bgColor,className:e.className,id:e.id,borderWidth:n.borderWidth||e.border,borderColor:n.borderColor,borderStyle:n.borderStyle,wrapText:"nowrap"!=n.whiteSpace}},_getAlignment:function(e,t){var i,n=e.style,o=n.textAlign||e.align||"";return t?{textAlign:o}:(i=n.verticalAlign||e.vAlign||"",o&&i?{textAlign:o,verticalAlign:i}:!o&&i?{textAlign:"left",verticalAlign:i}:o&&!i?{textAlign:o,verticalAlign:"top"}:{textAlign:"",verticalAlign:""})},_getUnit:function(e){var t=(e||"").match(f);return t?t[0]:"px"},_selectedTable:function(e){var t=a.filterBy(r.nodes(e),a.htmlIndentSpace,!0);return c.findSuitable(t)[0]},_selectedCells:function(e){var t=a.filterBy(r.nodes(e),a.htmlIndentSpace,!0);return u.findSuitable(t)}}),m=n.Tool.extend({command:function(e){return e.insertNewTable=this.options.insertNewTable,new p(e)}}),h=m.extend({update:function(e,t){var i=!c.isFormatted(t);e.toggleClass("k-state-disabled",i)}});i.ui.editor.TableWizardTool=m,i.ui.editor.TableWizardCommand=p,s("tableWizard",new h({command:p,insertNewTable:!1,template:new l({template:o.buttonTemplate,title:"Table Wizard"})}))}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("editor/table-wizard/table-wizard-dialog.min",["editor/table-wizard/table-wizard-command.min"],e)}(function(){!function(e,t){var i=window.kendo,n={format:"0",min:0},o=["px","em"],r=["solid","dotted","dashed","double","groove","ridge","inset","outset","initial","inherit","none","hidden"],a={dataSource:[{className:"k-icon k-i-table-align-middle-left",value:"left"},{className:"k-icon k-i-table-align-middle-center",value:"center"},{className:"k-icon k-i-table-align-middle-right",value:"right"},{className:"k-icon k-i-align-remove",value:""}],dataTextField:"className",dataValueField:"value",template:"<span class='#: className #' title='#: tooltip #'></span>",valueTemplate:"<span class='k-align-group #: className #' title='#: tooltip #'></span>"},s={dataSource:[{className:"k-icon k-i-table-align-top-left",value:"left top"},{className:"k-icon k-i-table-align-top-center",value:"center top"},{className:"k-icon k-i-table-align-top-right",value:"right top"},{className:"k-icon k-i-table-align-middle-left",value:"left middle"},{className:"k-icon k-i-table-align-middle-center",value:"center middle"},{className:"k-icon k-i-table-align-middle-right",value:"right middle"},{className:"k-icon k-i-table-align-bottom-left",value:"left bottom"},{className:"k-icon k-i-table-align-bottom-center",value:"center bottom"},{className:"k-icon k-i-table-align-bottom-right",value:"right bottom"},{className:"k-icon k-i-align-remove",value:""}],dataTextField:"className",dataValueField:"value",template:"<span class='#: className #' title='#: tooltip #'></span>",valueTemplate:"<span class='k-align-group #: className #' title='#: tooltip #'></span>"},l={dataSource:[{className:"k-icon k-i-table-align-top-left",value:"left top"},{className:"k-icon k-i-table-align-top-center",value:"center top"},{className:"k-icon k-i-table-align-top-right",value:"right top"},{className:"k-icon k-i-table-align-bottom-left",value:"left bottom"},{className:"k-icon k-i-table-align-bottom-center",value:"center bottom"},{className:"k-icon k-i-table-align-bottom-right",value:"right bottom"},{className:"k-icon k-i-align-remove",value:""}],dataTextField:"className",dataValueField:"value",template:"<span class='#: className #' title='#: tooltip #'></span>",valueTemplate:"<span class='k-align-group #: className #' title='#: tooltip #'></span>"},d='<div class="k-editor-dialog k-editor-table-wizard-dialog k-action-window k-popup-edit-form"><div class="k-edit-form-container"><div id="k-table-wizard-tabs" class="k-root-tabs"><ul><li class="k-state-active">#= messages.tableTab #</li><li>#= messages.cellTab #</li><li>#= messages.accessibilityTab #</li></ul><div id="k-table-properties"><div class="k-edit-label"><label for="k-editor-table-width">#= messages.width #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-table-width" /><input id="k-editor-table-width-type" aria-label="#= messages.units #" /></div><div class="k-edit-label"><label for="k-editor-table-height">#= messages.height #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-table-height" /><input id="k-editor-table-height-type" aria-label="#= messages.units #" /></div><div class="k-edit-label"><label for="k-editor-table-columns">#= messages.columns #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-table-columns" /></div><div class="k-edit-label"><label for="k-editor-table-rows">#= messages.rows #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-table-rows" /></div><div class="k-edit-label"><label for="k-editor-table-cell-spacing">#= messages.cellSpacing #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-table-cell-spacing" /></div><div class="k-edit-label"><label for="k-editor-table-cell-padding">#= messages.cellPadding #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-table-cell-padding" /></div><div class="k-edit-label"><label for="k-editor-table-alignment">#= messages.alignment #</label></div><div class="k-edit-field"><input id="k-editor-table-alignment" class="k-align" /></div><div class="k-edit-label"><label for="k-editor-table-bg">#= messages.background #</label></div><div class="k-edit-field"><input id="k-editor-table-bg" /></div><div class="k-edit-label"><label for="k-editor-css-class">#= messages.cssClass #</label></div><div class="k-edit-field"><input id="k-editor-css-class" class="k-input k-textbox" type="text" /></div><div class="k-edit-label"><label for="k-editor-id">#= messages.id #</label></div><div class="k-edit-field"><input id="k-editor-id" class="k-input k-textbox" type="text" /></div><div class="k-edit-label"><label for="k-editor-border-width">#= messages.border #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-border-width" /><input id="k-editor-border-color" /></div><div class="k-edit-label"><label for="k-editor-border-style">#= messages.borderStyle #</label></div><div class="k-edit-field"><input id="k-editor-border-style" /></div><div class="k-edit-label">&nbsp;</div><div class="k-edit-field"><input id="k-editor-collapse-borders" type="checkbox" class="k-checkbox" /><label for="k-editor-collapse-borders" class="k-checkbox-label">#= messages.collapseBorders #</label></div></div><div id="k-cell-properties"><div class="k-edit-field"><input id="k-editor-selectAllCells" type="checkbox" class="k-checkbox" /><label for="k-editor-selectAllCells" class="k-checkbox-label">#= messages.selectAllCells #</label></div><div class="k-edit-label"><label for="k-editor-cell-width">#= messages.width #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-cell-width" /><input id="k-editor-cell-width-type" aria-label="#= messages.units #" /></div><div class="k-edit-label"><label for="k-editor-cell-height">#= messages.height #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-cell-height" /><input id="k-editor-cell-height-type" aria-label="#= messages.units #" /></div><div class="k-edit-label"><label for="k-editor-table-cell-margin">#= messages.cellMargin #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-table-cell-margin" /></div><div class="k-edit-label"><label for="k-editor-table-cells-padding">#= messages.cellPadding #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-table-cells-padding" /></div><div class="k-edit-label"><label for="k-editor-cell-alignment">#= messages.alignment #</label></div><div class="k-edit-field"><input id="k-editor-cell-alignment" class="k-align" /></div><div class="k-edit-label"><label for="k-editor-cell-bg">#= messages.background #</label></div><div class="k-edit-field"><input id="k-editor-cell-bg" /></div><div class="k-edit-label"><label for="k-editor-cell-css-class">#= messages.cssClass #</label></div><div class="k-edit-field"><input id="k-editor-cell-css-class" class="k-input k-textbox" type="text" /></div><div class="k-edit-label"><label for="k-editor-cell-id">#= messages.id #</label></div><div class="k-edit-field"><input id="k-editor-cell-id" class="k-input k-textbox" type="text" /></div><div class="k-edit-label"><label for="k-editor-cell-border-width">#= messages.border #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-cell-border-width" /><input id="k-editor-cell-border-color" /></div><div class="k-edit-label"><label for="k-editor-cell-border-style">#= messages.borderStyle #</label></div><div class="k-edit-field"><input id="k-editor-cell-border-style" /></div><div class="k-edit-label">&nbsp;</div><div class="k-edit-field"><input id="k-editor-wrap-text" type="checkbox" class="k-checkbox" /><label for="k-editor-wrap-text" class="k-checkbox-label">#= messages.wrapText #</label></div></div><div id="k-accessibility-properties"><div class="k-edit-label"><label for="k-editor-table-caption">#= messages.caption #</label></div><div class="k-edit-field"><input id="k-editor-table-caption" class="k-input k-textbox" type="text" /></div><div class="k-edit-label"><label for="k-editor-accessibility-alignment">#= messages.alignment #</label></div><div class="k-edit-field"><input id="k-editor-accessibility-alignment" class="k-align" /></div><div class="k-edit-label"><label for="k-editor-accessibility-summary">#= messages.summary #</label></div><div class="k-edit-field"><textarea id="k-editor-accessibility-summary" class="k-input k-textbox"></textarea></div><div class="k-edit-label">&nbsp;</div><div class="k-edit-field"><input id="k-editor-cells-headers" type="checkbox" class="k-checkbox" /><label for="k-editor-cells-headers" class="k-checkbox-label">#= messages.associateCellsWithHeaders #</label></div></div></div><div class="k-edit-buttons k-state-default"><button class="k-button k-primary k-dialog-ok">#= messages.dialogOk #</button><button class="k-button k-dialog-close">#= messages.dialogCancel #</button></div></div></div>',c=i.Class.extend({init:function(e){this.options=e},open:function(){function t(e){e.preventDefault(),l.destroy(),r.destroy()}function n(e){l.collectDialogValues(u),t(e),l.change&&l.change(),d.closeCallback(u)}function o(e){t(e),d.closeCallback()}var r,a,s,l=this,d=l.options,c=d.dialogOptions,u=d.table,f=d.messages,p=i.support.browser.msie;c.close=o,c.title=f.tableWizard,c.visible=d.visible,r=e(l._dialogTemplate(f)).appendTo(document.body).kendoWindow(c).closest(".k-window").toggleClass("k-rtl",d.isRtl).end().find(".k-dialog-ok").click(n).end().find(".k-dialog-close").click(o).end().data("kendoWindow"),a=r.element,l._initTabStripComponent(a),l._initTableViewComponents(a,u),l._initCellViewComponents(a,u),l._initAccessibilityViewComponents(a,u),r.center(),r.open(),p&&(s=a.closest(".k-window").height(),a.css("max-height",s))},_initTabStripComponent:function(e){var t=this.components={};t.tabStrip=e.find("#k-table-wizard-tabs").kendoTabStrip({animation:!1}).data("kendoTabStrip")},collectDialogValues:function(){var e=this,t=e.options.table;e._collectTableViewValues(t),e._collectCellViewValues(t),e._collectAccessibilityViewValues(t)},_collectTableViewValues:function(e){var t=this.components.tableView,i=e.tableProperties;i.width=t.width.value(),i.widthUnit=t.widthUnit.value(),i.height=t.height.value(),i.columns=t.columns.value(),i.rows=t.rows.value(),i.heightUnit=t.heightUnit.value(),i.cellSpacing=t.cellSpacing.value(),i.cellPadding=t.cellPadding.value(),i.alignment=t.alignment.value(),i.bgColor=t.bgColor.value(),i.className=t.className.value,i.id=t.id.value,i.borderWidth=t.borderWidth.value(),i.borderColor=t.borderColor.value(),i.borderStyle=t.borderStyle.value(),i.collapseBorders=t.collapseBorders.checked},_collectCellViewValues:function(e){var t=e.cellProperties={},i=this.components.cellView;t.selectAllCells=i.selectAllCells.checked,t.width=i.width.value(),t.widthUnit=i.widthUnit.value(),t.height=i.height.value(),t.heightUnit=i.heightUnit.value(),t.cellMargin=i.cellMargin.value(),t.cellPadding=i.cellPadding.value(),t.alignment=i.alignment.value(),t.bgColor=i.bgColor.value(),t.className=i.className.value,t.id=i.id.value,t.borderWidth=i.borderWidth.value(),t.borderColor=i.borderColor.value(),t.borderStyle=i.borderStyle.value(),t.wrapText=i.wrapText.checked},_collectAccessibilityViewValues:function(e){var t=e.tableProperties,i=this.components.accessibilityView;t.captionContent=i.captionContent.value,t.captionAlignment=i.captionAlignment.value(),t.summary=i.summary.value,t.cellsWithHeaders=i.cellsWithHeaders.checked},_addUnit:function(t,i){i&&e.inArray(i,t)==-1&&t.push(i)},_initTableViewComponents:function(e,t){var i=this.components,n=i.tableView={},a=t.tableProperties=t.tableProperties||{};a.borderStyle=a.borderStyle||"",this._addUnit(o,a.widthUnit),this._addUnit(o,a.heightUnit),this._initNumericTextbox(e.find("#k-editor-table-width"),"width",a,n),this._initNumericTextbox(e.find("#k-editor-table-height"),"height",a,n),this._initNumericTextbox(e.find("#k-editor-table-columns"),"columns",a,n,{min:1,value:4}),this._initNumericTextbox(e.find("#k-editor-table-rows"),"rows",a,n,{min:1,value:4}),this._initDropDownList(e.find("#k-editor-table-width-type"),"widthUnit",a,n,o),this._initDropDownList(e.find("#k-editor-table-height-type"),"heightUnit",a,n,o),this._initNumericTextbox(e.find("#k-editor-table-cell-spacing"),"cellSpacing",a,n),this._initNumericTextbox(e.find("#k-editor-table-cell-padding"),"cellPadding",a,n),this._initTableAlignmentDropDown(e.find("#k-editor-table-alignment"),a),this._initColorPicker(e.find("#k-editor-table-bg"),"bgColor",a,n),this._initInput(e.find("#k-editor-css-class"),"className",a,n),this._initInput(e.find("#k-editor-id"),"id",a,n),this._initNumericTextbox(e.find("#k-editor-border-width"),"borderWidth",a,n),
this._initColorPicker(e.find("#k-editor-border-color"),"borderColor",a,n),this._initDropDownList(e.find("#k-editor-border-style"),"borderStyle",a,n,r),this._initCheckbox(e.find("#k-editor-collapse-borders"),"collapseBorders",a,n)},_initCellViewComponents:function(e,t){var i,n=this.components,a=n.cellView={};t.selectedCells=t.selectedCells=t.selectedCells||[],i=t.selectedCells[0]||{borderStyle:"",wrapText:!0},this._addUnit(o,i.widthUnit),this._addUnit(o,i.heightUnit),this._initCheckbox(e.find("#k-editor-selectAllCells"),"selectAllCells",t.tableProperties,a),this._initNumericTextbox(e.find("#k-editor-cell-width"),"width",i,a),this._initNumericTextbox(e.find("#k-editor-cell-height"),"height",i,a),this._initDropDownList(e.find("#k-editor-cell-width-type"),"widthUnit",i,a,o),this._initDropDownList(e.find("#k-editor-cell-height-type"),"heightUnit",i,a,o),this._initNumericTextbox(e.find("#k-editor-table-cell-margin"),"cellMargin",i,a),this._initNumericTextbox(e.find("#k-editor-table-cells-padding"),"cellPadding",i,a),this._initCellAlignmentDropDown(e.find("#k-editor-cell-alignment"),i),this._initColorPicker(e.find("#k-editor-cell-bg"),"bgColor",i,a),this._initInput(e.find("#k-editor-cell-css-class"),"className",i,a),this._initInput(e.find("#k-editor-cell-id"),"id",i,a),this._initNumericTextbox(e.find("#k-editor-cell-border-width"),"borderWidth",i,a),this._initColorPicker(e.find("#k-editor-cell-border-color"),"borderColor",i,a),this._initDropDownList(e.find("#k-editor-cell-border-style"),"borderStyle",i,a,r),this._initCheckbox(e.find("#k-editor-wrap-text"),"wrapText",i,a)},_initAccessibilityViewComponents:function(e,t){var i=this.components,n=i.accessibilityView={},o=t.tableProperties;this._initInput(e.find("#k-editor-table-caption"),"captionContent",o,n),this._initAccessibilityAlignmentDropDown(e.find("#k-editor-accessibility-alignment"),o),this._initInput(e.find("#k-editor-accessibility-summary"),"summary",o,n),this._initCheckbox(e.find("#k-editor-cells-headers"),"cellsWithHeaders",o,n)},_initNumericTextbox:function(t,i,o,r,a){var s=r[i]=t.kendoNumericTextBox(a?e.extend({},n,a):n).data("kendoNumericTextBox");i in o&&s.value(parseInt(o[i],10))},_initDropDownList:function(e,t,i,n,o){var r=n[t]=e.kendoDropDownList({dataSource:o}).data("kendoDropDownList");this._setComponentValue(r,i,t)},_initTableAlignmentDropDown:function(e,t){var i=this.options.messages,n=this.components.tableView,o=a.dataSource;o[0].tooltip=i.alignLeft,o[1].tooltip=i.alignCenter,o[2].tooltip=i.alignRight,o[3].tooltip=i.alignRemove,this._initAlignmentDropDown(e,a,"alignment",t,n)},_initCellAlignmentDropDown:function(e,t){var i=this.options.messages,n=this.components.cellView,o=s.dataSource;o[0].tooltip=i.alignLeftTop,o[1].tooltip=i.alignCenterTop,o[2].tooltip=i.alignRightTop,o[3].tooltip=i.alignLeftMiddle,o[4].tooltip=i.alignCenterMiddle,o[5].tooltip=i.alignRightMiddle,o[6].tooltip=i.alignLeftBottom,o[7].tooltip=i.alignCenterBottom,o[8].tooltip=i.alignRightBottom,o[9].tooltip=i.alignRemove,this._initAlignmentDropDown(e,s,"alignment",t,n)},_initAccessibilityAlignmentDropDown:function(e,t){var i=this.options.messages,n=this.components.accessibilityView,o=l.dataSource;o[0].tooltip=i.alignLeftTop,o[1].tooltip=i.alignCenterTop,o[2].tooltip=i.alignRightTop,o[3].tooltip=i.alignLeftBottom,o[4].tooltip=i.alignCenterBottom,o[5].tooltip=i.alignRightBottom,o[6].tooltip=i.alignRemove,this._initAlignmentDropDown(e,l,"captionAlignment",t,n)},_initAlignmentDropDown:function(e,t,i,n,o){var r=o[i]=e.kendoDropDownList(t).data("kendoDropDownList");r.list.addClass("k-align").css("width","110px"),this._setComponentValue(r,n,i)},_setComponentValue:function(e,t,i){i in t&&e.value(t[i])},_initColorPicker:function(e,t,i,n){var o=n[t]=e.kendoColorPicker({buttons:!1,clearButton:!0}).data("kendoColorPicker");i[t]&&o.value(i[t])},_initInput:function(e,t,i,n){var o=n[t]=e.get(0);t in i&&(o.value=i[t])},_initCheckbox:function(e,t,i,n){var o=n[t]=e.get(0);t in i&&(o.checked=i[t])},destroy:function(){this._destroyComponents(this.components.tableView),this._destroyComponents(this.components.cellView),this._destroyComponents(this.components.accessibilityView),this._destroyComponents(this.components),delete this.components},_destroyComponents:function(e){for(var t in e)e[t].destroy&&e[t].destroy(),delete e[t]},_dialogTemplate:function(e){return i.template(d)({messages:e})}});i.ui.editor.TableWizardDialog=c}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("kendo.editor.min",["kendo.combobox.min","kendo.dropdownlist.min","kendo.resizable.min","kendo.window.min","kendo.colorpicker.min","kendo.imagebrowser.min","kendo.tabstrip.min","kendo.numerictextbox.min","util/undoredostack.min","editor/main.min","editor/dom.min","editor/serializer.min","editor/range.min","editor/system.min","editor/inlineformat.min","editor/formatblock.min","editor/linebreak.min","editor/lists.min","editor/link.min","editor/file.min","editor/image.min","editor/components.min","editor/indent.min","editor/viewhtml.min","editor/formatting.min","editor/toolbar.min","editor/tables.min","editor/export.min","editor/import.min","editor/resizing/column-resizing.min","editor/resizing/row-resizing.min","editor/resizing/table-resizing.min","editor/resizing/table-resize-handle.min","editor/immutables.min","editor/table-wizard/table-wizard-command.min","editor/table-wizard/table-wizard-dialog.min"],e)}(function(){return window.kendo},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()});
//# sourceMappingURL=kendo.editor.min.js.map
